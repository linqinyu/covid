{"version":3,"sources":["config/index.js","components/bottomPanel.js","actions/index.js","components/tooltip.js","components/twoWeekLineChart.js","utils/colLookup.js","utils/dataFunction.js","utils/findDateIndices.js","utils/geojsonArrayBuffer.js","utils/getCartogramValues.js","utils/getCartogramCenter.js","utils/getCols.js","utils/getCSV.js","utils/getDataForBins.js","utils/getDataForCharts.js","utils/getDataForLisa.js","utils/getGeoidIndex.js","utils/getJson.js","utils/getJsonPure.js","utils/getCurrentWuuid.js","utils/getLisaValues.js","utils/getParseCSV.js","utils/getURLParams.js","utils/getVarId.js","utils/loadJson.js","utils/mapFunction.js","utils/mergeData.js","config/svg.js","components/dataPanel.js","components/slider.js","components/dock.js","components/draggable.js","components/Footer.js","wiki/index.js","styled_components/index.js","components/infoBox.js","components/binsList.js","components/legend.js","components/mainLineChart.js","components/mapSection.js","components/mapTooltipContent.js","components/navbar.js","components/notificationBox.js","config/variableTree.js","components/variablePanel.js","components/tooltipPopper.js","components/preloader.js","components/scaleable.js","components/staticNavbar.js","components/topPanel.js","components/Pages/About.js","components/Pages/Api.js","components/Pages/Contact.js","components/Pages/Choropleth.js","components/Pages/Data.js","components/Pages/Faq.js","components/Pages/Home.js","components/Pages/Hotspots.js","components/Pages/Insights.js","components/Pages/Map.js","utils/getDateLists.js","components/Pages/Methodology.js","components/Pages/Time.js","components/Pages/Trends.js","App.js","constants/defaults.js","reducers/index.js","registerServiceWorker.js","index.js"],"names":["colorScales","fixedScales","bins","breaks","Math","pow","colors","white","black","darkgray","gray","buttongray","lightgray","yellow","lightblue","skyblue","blue","teal","orange","pink","pairedColors","count","sum","qualtitiveScale","dataPresets","plainName","geojson","csvs","joinCols","tableNames","accumulate","dateList","variablePresets","variableName","numerator","nType","nProperty","denominator","dType","dProperty","dRange","dIndex","scale","scale3D","fixedScale","colorScale","nRange","tooltipInfo","Choropleth","NaturalBreaksFixed","NaturalBreaks","BoxMap","Hotspot","LocalMoran","NotSig","HighHigh","LowLow","HighLow","LowHigh","PovChldPrc","IncRt","MedianHouseholdIncome","FdInsPrc","UnEmplyPrc","UnInPrc","PrmPhysRt","PrevHospRt","RsiSgrBlckRt","SvrHsngPrbRt","Over65YearsPrc","AdObPrc","AdDibPrc","SmkPrc","ExcDrkPrc","DrOverdMrtRt","LfExpRt","SlfHlthPrc","SeverityIndex","PredictedDeaths","PredictedDeathsInterval","healthfactor","healthcontext","healthlife","Hypersegregated","href","target","rel","BlackBelt","TestingCapacity","USCongress","BinModes","Clinics","Hospitals","ClinicsAndHospitals","BottomDrawer","styled","div","BottomPanel","panelState","useSelector","state","useState","bottomMargin","setBottomMargin","window","addEventListener","document","querySelector","offsetHeight","getChartHeight","bottom","chart","id","setCurrentData","data","type","payload","setVariableParams","params","setMapParams","setSelectionData","appendSelectionData","setAnchorEl","anchorEl","setPanelState","setNotification","info","TooltipContainer","button","process","Tooltip","props","dispatch","useDispatch","onMouseEnter","event","currentTarget","onMouseLeave","LineContainer","CustomizedDot","cx","cy","index","color","angle","x","y","width","height","fill","viewBox","points","transform","TwoWeekLineChart","map","d","val","d3","domain","range","schema","delta","lineColor","start","hide","dataKey","stroke","strokeWidth","isAnimationActive","dot","pctChange","calcAngle","colLookup","columns","dataset","table","property","indexOf","dataFn","numeratorData","denominatorData","dataParams","nIndex","undefined","findDateIndices","columnList","validIndices","i","length","push","getDateIndices","names","rtn","geojsonArrayBuffer","a","arrayBuffer","getCartogramValues","gda_proxy","cartogramData","cartogram","tempObj","value","getCartogramCenter","keys","Object","dataLength","getColumns","url","fetch","then","response","ok","text","Promise","reject","status","tempData","getCSV","getDataForBins","tableData","n","tempIndex","tempDIndex","unshift","getDataForCharts","dateIndices","countCol","sumCol","name","features","Array","j","date","getDataForLisa","order","t0","performance","now","tempDict","tempNIndex","properties","GEOID","console","log","getGeoidIndex","geoidOrder","indexOrder","getJson","getJsonPure","responseFromJson","clone","abResponse","ab","getCurrentWuuid","selectedDataset","w","CreateQueenWeights","get_uid","getLisaValues","geoids","all_zeros","clusters","sig","lisa","local_moran","map_uuid","w_uuid","parseVecDouble","significances","joinCol","selectedJoinColumn","forEach","colOption","hasOwnProperty","tempArr","values","getParseCSV","getURLParams","mapParams","coords","currentData","lastDateIndex","mapCoords","round","latitude","longitude","zoom","source","split","variable","replace","method","mapType","prop","bin","binMode","slice","dateRange","overlay","resource","vizType","getVarId","loadJson","ReadGeojsonMap","json","geoidIndex","mapFn","maptype","column","includes","mergeData","featureCollection","featureCollectionJoinCol","joinData","joinDataNames","joinDataCol","dataDict","colNumCheck","parseInt","Number","isInteger","cols","merged","merge","settings","className","r","report","rx","selectRect","DataPanelContainer","otherPanels","ReportWrapper","ReportContainer","expanded","ReportSection","span","ExpandSelect","FormControl","DataPanel","storedData","currDateIndex","dates","selectionKeys","selectionIndex","setExpanded","cases","deaths","predictions","chr_health_factors","chr_life","chr_health_context","testing","vaccinesAdmin","parsePredictedDate","list","performOperation","dataArray","operation","totalPopulation","reducer","accumulator","currentValue","reduce","aggregateProperty","specialCase","selection","selectionPop","aggregateTimeseries","aggregate2WeekTimeSeries","lookbackPeriod","day","aggregateDataFunction","variables","Select","labelId","onChange","MenuItem","key","toLocaleString","toFixed","dataObj","returnStr","aggregateQualitative","f","onClick","SliderContainer","PlayPauseContainer","Grid","PlayPauseButton","Button","LineSlider","Slider","RangeSlider","DateTitle","h3","InitialDate","p","EndDate","DateSelectorContainer","DateSlider","currentVariable","timerId","setTimerId","valuetext","container","spacing","style","display","padding","rangeType","item","xs","rawDate","Date","setDate","getDate","toLocaleDateString","year","month","formatDate","rate","interval","setInterval","o","clearInterval","handlePlayPause","newValue","min","max","marks","step","characteristic","valueLabelDisplay","rIndex","rRange","getAriaValueText","valueLabelFormat","aria-labelledby","DockContainer","DockButton","isActive","Dock","handlePanelButton","panel","title","lineChart","tutorial","DragContainer","DragButton","CollapseButton","Draggable","open","defaultX","X","setX","defaultY","Y","setY","isDragging","setIsDragging","listener","e","prevWidth","movementX","prevHeight","movementY","touchListener","targetTouches","clientX","clientY","removeListener","removeEventListener","removeTouchListener","useEffect","left","top","zIndex","z","content","onMouseDown","onTouchStart","FooterContainer","footer","FooterContent","LinkLists","SignupForm","Footer","signUp","action","class","novalidate","for","sm","TextField","variant","placeholder","md","to","src","alt","HoverButton","selector","backup","getBoundingClientRect","innerWidth","classList","add","highlightFeature","remove","unhighlightFeature","pages","StyledDropDown","component","BinsContainer","disabled","ContentContainer","Gutter","h","InfoContainer","active","Drawer","DrawerButton","BodyContainer","TutorialButton","PagesDropDown","tutorialInfo","InfoBox","panelOpen","currArticle","setCurrArticle","page","link","subtitle","BinsList","splice","LegendContainer","LegendTitle","BinLabels","binLength","firstBinZero","BinBars","Legend","backgroundColor","ChartContainer","StyledSwitch","ChartTitle","monthNames","millionFormatter","thousandFormatter","dateFormatter","tempDate","getMonth","CustomTick","labelFormatter","CustomTooltip","background","borderRadius","boxShadow","textShadow","fontWeight","floor","MainLineChart","chartData","logChart","setLogChart","strokeOpacities","setStrokeOpacities","handleChange","rangeIncrement","maximum","increment","returnArray","parsedData","summarizedData","tempSum","summarizeChartData","maximums","array","maxVals","tempVal","getMax","years","startDate","endDate","dateArray","getUTCFullYear","yearStr","dateString","getDateRange","margin","right","activeTooltipIndex","b","abs","ticks","tick","fontSize","fontFamily","yAxisId","allowDataOverflow","position","marginTop","orientation","x1","x2","fillOpacity","strokeOpacity","Switch","checked","prev","inputProps","bounds","fitBounds","innerHeight","ICON_MAPPING","hospital","clinic","MAPBOX_ACCESS_TOKEN","defaultMapStyle","fromJS","MAP_STYLE","MapContainer","HoverDiv","NavInlineButton","shareNotification","MapGeocoder","Geocoder","MapButtonContainer","infoPanel","ShareURL","input","IndicatorBox","MapSection","storedGeojson","storedLisaData","storedCartogramData","urlParams","mapLoaded","hoverInfo","setHoverInfo","highlightGeog","setHighlightGeog","mapStyle","setMapStyle","currLisaData","setCurrLisaData","lat","lon","bearing","pitch","viewState","setViewState","setCartogramData","currVarId","setCurrVarId","hospitalData","setHospitalData","clinicData","setClinicData","storedCenter","setStoredCenter","shared","setShared","multipleSelect","setMultipleSelect","choroplethInteractive","setChoroplethInteractive","boxSelect","setBoxSelect","boxSelectDims","setBoxSelectDims","SHARED_GEOID","localStorage","getItem","SHARED_VIEW","JSON","parse","prevView","transitionDuration","transitionInterpolator","FlyToInterpolator","setTimeout","select","arr","view","tempLayers","defaultLayers","get","layer","setIn","set","center","roundedCenter","mapRef","useRef","deckRef","handleShare","shareData","location","navigator","share","copyText","setSelectionRange","execCommand","handleMapHover","object","Layers","GeoJsonLayer","visible","pickable","stroked","filled","wireframe","extruded","opacity","material","getFillColor","GetFillColor","getElevation","GetHeight","updateTriggers","customScale","onHover","dataName","state_abbr","NAME","GeoidList","findIndex","setItem","stringify","current","tempArray","geogIndex","getLineColor","lineWidthScale","getLineWidth","lineWidthMinPixels","lineWidthMaxPixels","parameters","depthTest","IconLayer","iconAtlas","iconMapping","getIcon","getPosition","Longitude","Latitude","sizeUnits","getSize","sizeMinPixels","sizeMaxPixels","PolygonLayer","getPolygon","ScatterplotLayer","getRadius","radius","find","TextLayer","getTextAnchor","getAlignmentBaseline","maxWidth","wordBreak","getText","MapView","repeat","ox","oy","removeListeners","handleBoxSelect","pageX","pageY","pickObjects","layerIds","onKeyDown","selectionStart","ctrlKey","shiftKey","onKeyUp","onMouseUp","layers","ref","initialViewState","controller","dragRotate","dragPan","doubleClickZoom","touchZoom","touchRotate","keyboard","scrollZoom","views","reuseMaps","preventStyleDiffing","mapboxApiAccessToken","onViewportChange","onLoad","loaded","onTransitionEnd","click","onClear","clearOnBlur","countries","positionOptions","enableHighAccuracy","trackUserLocation","onGeolocate","handleGeolocate","marginBottom","transition","pointerEvents","MapTooltipContent","testing_ccpt","testing_tcap","testing_wk_pos","caseN","deathN","testingN","criteria","state_name","Address","Address_2","City","State","Zipcode","testing_status","address","city","st_abbr","phone","NavItems","ul","NavBar","paddingRight","Notification","CloseTutorial","NotificationBox","notification","dangerouslySetInnerHTML","__html","variableTree","VariablePanelContainer","StyledButtonGroup","ButtonGroup","TwoUp","ControlsContainer","ListSubheader","VariablePanel","setBivariateZ","newVariable","setNewVariable","currentGeography","setCurrentGeography","currentDataset","setCurrentDataset","VariablePresets","datasetTree","urlParamsTree","geography","handleVizTypeButton","InputLabel","htmlFor","tempGeography","tempDataset","displayEmpty","datasetWithGeography","FormLabel","RadioGroup","aria-label","nBins","FormControlLabel","control","Radio","label","data-val","TooltipContentDiv","Popper","Popover","Boolean","disablePortal","modifiers","flip","enabled","preventOverflow","boundariesElement","PreloaderContainer","Preloader","isHidden","setIsHidden","ResizeButton","notScaleable","Scaleable","defaultWidth","setWidth","defaultHeight","setHeight","currXYPos","setCurrXYPos","minHeight","minWidth","parentNode","Navbar","NavbarContent","StaticNavbar","mapLinksOpen","setMapLinksOpen","handleNavOpen","TopDrawer","TopPanel","AboutPage","BioSection","leadershipInfo","img","affiliation","coreTeamInfo","coalitionDesignInfo","coalitionPartnersInfo","contributorsInfo","formatBio","person","about","justify","ApiPage","CodeBold","code","CodeRed","CodeBlock","Insights","ContactPage","pressInfo","contact","press","ChoroplethPage","TutorialBox","DataPage","Data","FaqPage","ButtonContainer","Accordion","MuiAccordion","AccordionSummary","MuiAccordionSummary","AccordionDetails","MuiAccordionDetails","faqQuestions","Faq","goTo","question","square","newExpanded","aria-controls","Typography","header","HomePage","HomePageContent","Hero","Features","Feature","BreakQuestion","Arrow","UseCasesContainer","UseCases","NoBreak","Usage","home","autoPlay","muted","loop","HotspotsPage","Hotspots","InsightsPage","timer","setTimer","MapPage","Map","dateLists","useMemo","stripLeadingZero","str","prototype","addDays","days","this","valueOf","todayDate","initialDate","isoDateList","usDateList","isoDate","toISOString","getDateLists","defaultXLong","defaultWidthLong","defaultHeightManual","defaultWidthManual","defaultXManual","defaultYManual","set_gda_proxy","loadData","csvPromises","csv","result","all","ColNames","DateIndices","denomIndices","lastIndex","binData","binIndex","bomOmdex","nb","custom_breaks","load","storeData","columnNames","storeGeojson","variableParams","updateBins","useCallback","paramsDict","queryString","search","URLSearchParams","presets","setUrlParams","jsgeoda","geoda","newGeoda","tempId","storeCartogramData","MethodsPage","Methodology","Time","TrendsPage","Trends","App","path","Home","exact","About","Contact","Api","Component","INITIAL_STATE","geodaProxy","storedCSV","storedMobilityData","centroids","currDate","startDateIndex","currentZVariable","currentMethod","currentOverlay","currentResource","zAxisParams","storedRange","activeGeoid","currentGeoid","sidebarData","colDataObj","dateIndexObj","geoDataObj","mapParamsDataObj","variableParamsDataObj","panelsDataObj","variableParamsExDataObj","panelsExDataObj","binsVariableParams","binsMapParams","geoid","obj","geojsonObj","lisaObj","cartoObj","centroidsObj","proxy","currentDataFn","fn","colObj","binsObj","use3D","dateObj","currIndices","nextIndex","paramObj","storedIndex","dataMapParams","dataAndParamsObj","dataAndMapParamsObj","paramObjZ","mapParamObj","zAxisReset","zAxisVariableReset","panelsObj","appendedChartData","appendedSelectionNames","appendedSelectionIndex","removedSelectionNames","tempRemoveIndex","removedSelectionIndex","preset","var","urlMapParamsObj","dbin","mthd","ovr","res","viz","urlDataParamsObj","urlCoordObj","urlParamsSource","isLocalhost","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","catch","error","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","WebFont","google","families","ReactDOM","render","getElementById","URL","origin","headers","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.b202d9c5.chunk.js","sourcesContent":["export const colorScales = {\r\n    'natural_breaks': [\r\n        [240,240,240],\r\n        [255,255,204],\r\n        [255,237,160],\r\n        [254,217,118],\r\n        [254,178,76],\r\n        [253,141,60],\r\n        [252,78,42],\r\n        [227,26,28],\r\n        [177,0,38],\r\n    ],\r\n    'lisa': [\r\n        [255,255,255],\r\n        [255,0,0],\r\n        [0,0,255],\r\n        [167, 173, 249],\r\n        [244, 173, 168],\r\n        // [70, 70, 70],\r\n        // [153, 153, 153]\r\n    ],\r\n    'hinge15_breaks': [\r\n        [1, 102, 94],\r\n        [90, 180, 172],\r\n        [199, 234, 229],\r\n        [246, 232, 195],\r\n        [216, 179, 101],\r\n        [140, 81, 10],\r\n    ],    \r\n    'uninsured':[\r\n        [240,240,240],\r\n        [247,252,253],\r\n        [224,236,244],\r\n        [191,211,230],\r\n        [158,188,218],\r\n        [140,150,198],\r\n        [140,107,177],\r\n        [136,65,157],\r\n        [129,15,124],\r\n        // [77,0,75],\r\n      ],\r\n    'over65':[\r\n        [240,240,240],\r\n        [247,252,240],\r\n        [224,243,219],\r\n        [204,235,197],\r\n        [168,221,181],\r\n        [123,204,196],\r\n        [78,179,211],\r\n        [43,140,190],\r\n        [8,104,172],\r\n        // [8,64,129],\r\n    ],\r\n    'lifeExp':[\r\n        [240,240,240],\r\n        [247,252,240],\r\n        [224,243,219],\r\n        [204,235,197],\r\n        [168,221,181],\r\n        [123,204,196],\r\n        [78,179,211],\r\n        [43,140,190],\r\n        [8,104,172],\r\n        // [8,64,129],\r\n    ],\r\n    'forecasting': [\r\n        [239, 239, 239],\r\n        [254,232,200],\r\n        [253,187,132],\r\n        [227,74,51],\r\n    ],\r\n    'testing' : [\r\n        [240,240,240],\r\n        [13,8,135],\r\n        [92,1,166],\r\n        [156,23,158],\r\n        [203,70,121],\r\n        [237,121,83],\r\n        [253,180,47],\r\n        [240,249,33],\r\n      ],\r\n      'testingCap':[\r\n        [240,240,240],\r\n        [247,251,255],\r\n        [222,235,247],\r\n        [198,219,239],\r\n        [158,202,225],\r\n        [107,174,214],\r\n        [66,146,198],\r\n        [33,113,181],\r\n        [8,81,156],\r\n        [8,48,107],\r\n      ],\r\n      'vaccination':[\r\n        [240,240,240],\r\n        [252, 251, 253],\r\n        [238, 236, 245],\r\n        [217, 216, 234],\r\n        [188, 188, 219],\r\n        [158, 155, 201],\r\n        [129, 123, 185],\r\n        [106, 81, 164],\r\n        [84, 40, 143],\r\n      ]\r\n}\r\n\r\nexport const fixedScales = {\r\n    'testing': {\r\n        bins: ['No Data','<3%','5%','10%','15%','20%','>25%'],\r\n        breaks:[0,.03,.05,.10,.15,.20,.25,Math.pow(10, 12)]\r\n    },\r\n    'testingCap': {\r\n        bins: ['No Data','<50','100','150','200','250','300','350','>400'],\r\n        breaks:[0,50,100,150,200,250,300,350,400,Math.pow(10, 12)]\r\n    },\r\n    'lisa':{\r\n        bins: [\"Not significant tooltip:NotSig\", \"High-High tooltip:HighHigh\", \"Low-Low tooltip:LowLow\", \"Low-High  tooltip:LowHigh\", \"High-Low  tooltip:HighLow\"] //\"Undefined\", \"Isolated\"\r\n    },\r\n    'forecasting': {\r\n        bins: ['N/A','Low', 'Medium', 'High'],\r\n        breaks:[1,2,3,4]\r\n\r\n    }\r\n}\r\n\r\nexport const colors = {\r\n    white: '#ffffff',\r\n    black: '#00000',\r\n    darkgray:'#1a1a1a',\r\n    gray:'#2b2b2b',\r\n    buttongray: '#f5f5f5',\r\n    lightgray: '#d8d8d8',\r\n    yellow: '#FFCE00',\r\n    lightblue: '#A1E1E3',\r\n    skyblue: '#c1ebeb',\r\n    blue: '#007bff',\r\n    teal: '#00575c',\r\n    orange: '#f37e43',\r\n    pink: '#e83e8c',\r\n    pairedColors: {\r\n        count: [\r\n            '#1f78b4',\r\n            '#33a02c',\r\n            '#e31a1c',\r\n            '#ff7f00',\r\n            '#6a3d9a',\r\n            '#b15928'\r\n        ],\r\n        sum: [\r\n            '#a6cee3',\r\n            '#b2df8a',\r\n            '#fb9a99',\r\n            '#fdbf6f',\r\n            '#cab2d6',\r\n            '#ffff99'\r\n        ]\r\n    },\r\n    qualtitiveScale: [\r\n        '#8dd3c7',\r\n        '#ffffb3',\r\n        '#bebada',\r\n        '#fb8072',\r\n        '#80b1d3',\r\n        '#fdb462',\r\n        '#b3de69',\r\n        '#fccde5',\r\n        '#d9d9d9',\r\n        '#bc80bd',\r\n        '#ccebc5',\r\n        '#ffed6f',\r\n    ]\r\n}\r\n\r\nexport const defaultData = 'county_usfacts.geojson';\r\n\r\nexport const dataPresets = {\r\n    'county_usfacts.geojson': {\r\n        plainName: 'USA Facts County',\r\n        geojson: 'county_usfacts.geojson', \r\n        csvs: [\r\n            'covid_confirmed_usafacts',\r\n            'covid_deaths_usafacts', \r\n            'chr_health_context', \r\n            'chr_life', \r\n            'chr_health_factors',\r\n            'county_LEX_out',\r\n            'county_LEX_in',\r\n            'county_POI_visits'\r\n        ], \r\n        joinCols: ['GEOID', ['FIPS','fips','countyFIPS','GEOID','county']], \r\n        tableNames: [\r\n            'cases',\r\n            'deaths', \r\n            'chr_health_context', \r\n            'chr_life', \r\n            'chr_health_factors',\r\n            'county_LEX_out',\r\n            'county_LEX_in',\r\n            'county_POI_visits'\r\n        ],\r\n        accumulate: ['county_LEX_out','county_LEX_in','county_POI_visits'],\r\n        dateList: {\r\n            'covid_confirmed_usafacts': 'usDateList', \r\n            'covid_deaths_usafacts': 'usDateList',\r\n            'county_LEX_out': 'isoDateList',\r\n            'county_LEX_in': 'isoDateList',\r\n            'county_POI_visits': 'isoDateList',\r\n        }\r\n    },\r\n    'county_1p3a.geojson': {\r\n        plainName: '1Point3Acres County',\r\n        geojson: 'county_1p3a.geojson', \r\n        csvs: ['covid_confirmed_1p3a','covid_deaths_1p3a', 'chr_health_context', 'chr_life', 'chr_health_factors'], \r\n        joinCols: ['GEOID', ['FIPS','fips','countyFIPS', 'GEOID']], \r\n        tableNames: ['cases','deaths', 'chr_health_context', 'chr_life', 'chr_health_factors'],\r\n        accumulate: ['covid_confirmed_1p3a','covid_deaths_1p3a'],\r\n        dateList: {'covid_confirmed_1p3a': 'isoDateList', 'covid_deaths_1p3a': 'isoDateList'}\r\n    },\r\n    'county_nyt.geojson': {\r\n        plainName: 'New York Times County',\r\n        geojson: 'county_nyt.geojson', \r\n        csvs: ['covid_confirmed_nyt', 'covid_deaths_nyt', 'chr_health_context', 'chr_life', 'chr_health_factors'], \r\n        joinCols: ['GEOID', ['FIPS','fips','countyFIPS']], \r\n        tableNames: ['cases', 'deaths', 'chr_health_context', 'chr_life', 'chr_health_factors'],\r\n        accumulate: [],\r\n        dateList: {'covid_confirmed_nyt': 'isoDateList', 'covid_deaths_nyt': 'isoDateList'}\r\n    },\r\n    'state_1p3a.geojson': {\r\n        plainName: '1Point3Acres State',\r\n        geojson: 'state_1p3a.geojson', \r\n        csvs: ['covid_confirmed_1p3a_state','covid_deaths_1p3a_state', 'chr_health_context_state', 'chr_life_state', 'chr_health_factors_state', 'covid_testing_1p3a_state', 'covid_wk_pos_1p3a_state', 'covid_tcap_1p3a_state', 'covid_ccpt_1p3a_state', 'vaccine_admin_cdc', 'vaccine_dist_cdc'], \r\n        joinCols: ['GEOID', ['FIPS','fips','countyFIPS', 'GEOID']], \r\n        tableNames: ['cases', 'deaths', 'chr_health_context', 'chr_life', 'chr_health_factors', 'testing', 'testing_wk_pos', 'testing_tcap', 'testing_ccpt', 'vaccinesAdmin', 'vaccinesDist'],\r\n        accumulate: ['covid_confirmed_1p3a_state','covid_deaths_1p3a_state'],\r\n        dateList: {\r\n            'covid_confirmed_1p3a_state': 'isoDateList', \r\n            'covid_deaths_1p3a_state': 'isoDateList', \r\n            'covid_testing_1p3a_state': 'isoDateList', \r\n            'covid_wk_pos_1p3a_state': 'isoDateList', \r\n            'covid_tcap_1p3a_state': 'isoDateList', \r\n            'covid_ccpt_1p3a_state': 'isoDateList', \r\n            'vaccine_admin_cdc': 'isoDateList', \r\n            'vaccine_dist_cdc': 'isoDateList'\r\n        }\r\n    },\r\n    'state_usafacts.geojson': {\r\n        plainName: 'USA Facts State',\r\n        geojson: 'state_usafacts.geojson', \r\n        csvs: ['covid_confirmed_usafacts_state','covid_deaths_usafacts_state', 'chr_health_context_state', 'chr_life_state', 'chr_health_factors_state', 'covid_testing_usafacts_state', 'covid_wk_pos_usafacts_state', 'covid_tcap_usafacts_state', 'covid_ccpt_usafacts_state'], \r\n        joinCols: ['GEOID', ['FIPS','fips','stateFIPS']], \r\n        tableNames: ['cases', 'deaths', 'chr_health_context', 'chr_life', 'chr_health_factors', 'testing', 'testing_wk_pos', 'testing_tcap', 'testing_ccpt'],\r\n        accumulate: [],\r\n        dateList: {'covid_confirmed_usafacts_state': 'usDateList', 'covid_deaths_usafacts_state': 'usDateList'}\r\n    },\r\n    'state_nyt.geojson': {\r\n        plainName: 'New York Times State',\r\n        geojson: 'state_nyt.geojson', \r\n        csvs: ['covid_confirmed_nyt_state','covid_deaths_nyt_state', 'chr_health_context_state', 'chr_life_state', 'chr_health_factors_state', 'covid_testing_1p3a_state', 'covid_wk_pos_1p3a_state', 'covid_tcap_1p3a_state', 'covid_ccpt_1p3a_state', 'vaccine_admin_cdc', 'vaccine_dist_cdc'], \r\n        joinCols: ['GEOID', ['FIPS','fips','countyFIPS']], \r\n        tableNames: ['cases', 'deaths', 'chr_health_context', 'chr_life', 'chr_health_factors', 'testing', 'testing_wk_pos', 'testing_tcap', 'testing_ccpt','vaccinesAdmin', 'vaccinesDist'],\r\n        accumulate: [],\r\n        dateList: {'covid_confirmed_nyt_state': 'isoDateList', 'covid_deaths_nyt_state': 'isoDateList'}\r\n    },\r\n    'global_jhu.geojson': {\r\n        plainName: 'John Hopkins University (Global)',\r\n        geojson: 'global_jhu.geojson', \r\n        csvs: ['covid_confirmed_jhu','covid_deaths_jhu'], \r\n        joinCols: ['GEOID', ['UID']], \r\n        tableNames: ['cases', 'deaths'],\r\n        accumulate: []\r\n    },\r\n    'cdc.geojson': {\r\n        plainName: 'Center for Disease Control County',\r\n        geojson: 'cdc.geojson', \r\n        csvs: ['covid_confirmed_usafacts','covid_deaths_usafacts', 'chr_health_context', 'chr_life', 'chr_health_factors','covid_testing_cdc','covid_wk_pos_cdc', 'covid_tcap_cdc', 'covid_ccpt_cdc'], \r\n        joinCols: ['GEOID', ['fips_code', 'fips', 'FIPS', 'countyFIPS']], \r\n        tableNames: ['cases','deaths', 'chr_health_context', 'chr_life', 'chr_health_factors','testing', 'testing_wk_pos', 'testing_tcap', 'testing_ccpt'],\r\n        accumulate: [],\r\n        dateList: {'covid_confirmed_usafacts': 'usDateList', 'covid_deaths_usafacts': 'usDateList','covid_testing_cdc': 'isoDateList', 'covid_wk_pos_cdc': 'isoDateList', 'covid_tcap_cdc': 'isoDateList', 'covid_ccpt_cdc': 'isoDateList'}\r\n    }\r\n}\r\n\r\nexport const variablePresets = {\r\n    \"HEADER:cases\":{},\r\n    \"Confirmed Count\": {\r\n        variableName:\"Confirmed Count\",\r\n        numerator: 'cases',\r\n        nType: 'time-series',\r\n        nProperty: null,\r\n        denominator: 'properties',\r\n        dType: null,\r\n        dProperty: null,\r\n        dRange:null,\r\n        dIndex:null,\r\n        scale:1,\r\n        scale3D: 100,\r\n        fixedScale: null,\r\n        colorScale: null,\r\n    },\r\n    \"Confirmed Count per 100K Population\": {\r\n        variableName:\"Confirmed Count per 100K Population\",\r\n        numerator: 'cases',\r\n        nType: 'time-series',\r\n        nProperty: null,\r\n        denominator: 'properties',\r\n        dType: 'characteristic',\r\n        dProperty: 'population',\r\n        dRange:null,\r\n        dIndex:null,\r\n        scale:100000,\r\n        scale3D: 1000,\r\n        fixedScale: null,\r\n        colorScale: null,\r\n    },\r\n    \"Confirmed Count per Licensed Bed\": {\r\n        variableName:\"Confirmed Count per Licensed Bed\",\r\n        numerator: 'cases',\r\n        nType: 'time-series',\r\n        nProperty: null,\r\n        denominator: 'properties',\r\n        dType: 'characteristic',\r\n        dProperty: 'beds',\r\n        dRange:null,\r\n        dIndex:null,\r\n        scale:1,\r\n        scale3D: 100000,\r\n        fixedScale: null,\r\n        colorScale: null,\r\n    },\r\n    \"HEADER:deaths\":{},\r\n    \"Death Count\":{\r\n      variableName:\"Death Count\",\r\n      numerator: 'deaths',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      scale3D: 10000,\r\n      fixedScale: null,\r\n      colorScale: null,        \r\n    }, \r\n    \"Death Count per 100K Population\":{\r\n      variableName:\"Death Count per 100K Population\",\r\n      numerator: 'deaths',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      denominator: 'properties',\r\n      dType: 'characteristic',\r\n      dProperty: 'population',\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:100000,\r\n      scale3D: 15000,\r\n      fixedScale: null,\r\n      colorScale: null,\r\n    },\r\n    \"Death Count / Confirmed Count\":{\r\n      variableName:\"Death Count / Confirmed Count\",\r\n      numerator: 'deaths',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      denominator: 'cases',\r\n      dType: 'time-series',\r\n      dProperty: null,\r\n      scale:1,\r\n      fixedScale: null,\r\n      colorScale: null,\r\n    },\r\n    \"HEADER:community health\":{},\r\n    \"Uninsured %\":{\r\n      variableName:\"Uninsured %\",\r\n      numerator: 'chr_health_factors',\r\n      nType: 'characteristic',\r\n      nProperty: null,\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      fixedScale: null,\r\n      colorScale: 'uninsured',\r\n      scale3D: 15000,\r\n    },\r\n    \"Over 65 Years %\":{\r\n      variableName:\"Over 65 Years %\",\r\n      numerator: 'chr_health_context',\r\n      nType: 'characteristic',\r\n      nProperty: null,\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      fixedScale: null,\r\n      colorScale: 'over65',\r\n      scale3D: 15000,\r\n    },\r\n    \"Life Expectancy\":{\r\n      variableName:\"Life Expectancy\",\r\n      numerator: 'chr_life',\r\n      nType: 'characteristic',\r\n      nProperty: null,\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      colorScale: 'lifeExp',\r\n      fixedScale: null,\r\n      scale3D: 1000\r\n    },\r\n    \r\n    \"HEADER:testing\":{},\r\n    \"7 Day Testing Positivity Rate %\": {\r\n      variableName:\"7 Day Testing Positivity Rate %\",\r\n      numerator: 'testing_wk_pos',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      fixedScale: 'testing',\r\n      colorScale: 'testing',\r\n      scale3D: 10000000\r\n    },\r\n    \"7 Day Testing Capacity\": {\r\n      variableName:\"7 Day Testing Capacity\",\r\n      numerator: 'testing_tcap',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      fixedScale: 'testingCap',\r\n      colorScale: 'testingCap',\r\n      scale3D: 3000\r\n    }, \r\n    \"7 Day Confirmed Cases per Testing %\":{\r\n      variableName:\"7 Day Confirmed Cases per Testing %\",\r\n      numerator: 'testing_ccpt',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      fixedScale: 'testing',\r\n      colorScale: 'testing',\r\n      scale3D: 10000000\r\n    },\r\n    \"HEADER:cdc vaccination\":{},\r\n    \"Vaccinations Administered per 100K Population\": {\r\n        variableName:\"Vaccinations Administered per 100K Population\",\r\n        numerator: 'vaccinesAdmin',\r\n        nType: 'time-series',\r\n        nProperty: null,\r\n        denominator: 'properties',\r\n        dType: 'characteristic',\r\n        dProperty: 'population',\r\n        dRange:null,\r\n        dIndex:null,\r\n        scale:100000,\r\n        scale3D: 1000,\r\n        colorScale: 'vaccination',\r\n        fixedScale: null,\r\n    },\r\n    \"Vaccinations Distributed per 100K Population\": {\r\n        variableName:\"Vaccinations Distributed per 100K Population\",\r\n        numerator: 'vaccinesDist',\r\n        nType: 'time-series',\r\n        nProperty: null,\r\n        denominator: 'properties',\r\n        dType: 'characteristic',\r\n        dProperty: 'population',\r\n        dRange:null,\r\n        dIndex:null,\r\n        scale:100000,\r\n        scale3D: 1000,\r\n        colorScale: 'vaccination',\r\n        fixedScale: null,\r\n    },\r\n    \"HEADER:forecasting\":{},\r\n    \"Forecasting (5-Day Severity Index)\": {\r\n      variableName:\"Forecasting (5-Day Severity Index)\",\r\n      numerator: 'predictions',\r\n      nType: 'characteristic',\r\n      nProperty: null,\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      colorScale: 'forecasting',\r\n      fixedScale: 'forecasting',\r\n      scale3D: 50000\r\n    },\r\n    \"HEADER:mobility\":{},\r\n    \"Incoming Mobility\": {\r\n      variableName:\"Incoming Mobility\",\r\n      numerator: 'county_LEX_in',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: 1,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      scale3D: 10000000\r\n    },\r\n    \"Outgoing Mobility\": {\r\n      variableName:\"Outgoing Mobility\",\r\n      numerator: 'county_LEX_out',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: 1,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      scale3D: 10000000\r\n    },\r\n    \"Incoming Mobility Normalized\": {\r\n      variableName:\"Incoming Mobility Normalized\",\r\n      numerator: 'county_LEX_in',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: 1,\r\n      denominator: 'properties',\r\n      dType: 'characteristic',\r\n      dProperty: 'population',\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:100000,\r\n      scale3D: 10000000\r\n    },\r\n    \"Outgoing Mobility Normalized\": {\r\n      variableName:\"Outgoing Mobility Normalized\",\r\n      numerator: 'county_LEX_out',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: 1,\r\n      denominator: 'properties',\r\n      dType: 'characteristic',\r\n      dProperty: 'population',\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:100000,\r\n      scale3D: 10000000\r\n    },\r\n    \"POI Visits\": {\r\n      variableName:\"POI Visits\",\r\n      numerator: 'county_POI_visits',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: 1,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      scale3D: 10000000\r\n    },\r\n    \"POI Visits Normalized\": {\r\n      variableName:\"POI Visits Normalized\",\r\n      numerator: 'county_POI_visits',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: 1,\r\n      denominator: 'properties',\r\n      dType: 'characteristic',\r\n      dProperty: 'population',\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:100000,\r\n      scale3D: 10000000\r\n    },\r\n}\r\n\r\nexport const tooltipInfo = {\r\n    Choropleth: <p>A thematic map used to represent data through various shading patterns on predetermined geographic areas (counties, state).</p>,\r\n    NaturalBreaksFixed: <p>A nonlinear algorithm used to group observations such that the within-group homogeneity is maximized for the latest date, bins fixed over time</p>,\r\n    NaturalBreaks: <p>A nonlinear algorithm used to group observations such that the within-group homogeneity is maximized for every day, bins change over time</p>,\r\n    BoxMap: <p>Mapping counterpart of the idea behind a box plot</p>,\r\n    Hotspot: <p>A map showing statisically significant spatial cluster and outlier locations, color coded by type.</p>,\r\n    LocalMoran: <p>Local Moran used to identify local clusters and outliers</p>,\r\n    NotSig:\t<p>Area was not statistically signficant as a spatial cluster core or outlier using given parameters.</p>,\r\n    HighHigh: <p>Hot Spot Cluster: area with high values, neighbored by areas with high values</p>,\r\n    LowLow: <p>Cold Spot Cluster: area with low values, neighbored by areas with low values</p>,\r\n    HighLow: <p>Hot Outlier: area with high values, neighbored by areas with low values</p>,\r\n    LowHigh: <p>Low-High\tCold Outlier: area with low values, neighbored by areas with high values</p>,\r\n    PovChldPrc: <p>Percentage of children under age 18 living in poverty</p>,\r\n    IncRt: <p>Ratio of household income at the 80th percentile to income at the 20th percentile</p>,\r\n    MedianHouseholdIncome: <p>The income where half of households in a county earn more and half of households earn less</p>,\r\n    FdInsPrc: <p>Percentage of population who lack adequate access to food</p>,\r\n    UnEmplyPrc: <p>Percentage of population age 16 and older unemployed but seeking work</p>,\r\n    UnInPrc: <p>Percentage of people under age 65 without insurance</p>,\r\n    PrmPhysRt: <p>Ratio of population to primary care physicians</p>,\r\n    PrevHospRt: <p>Rate of hospital stays for ambulatory-care sensitive conditions per 100,000 Medicare enrollees</p>,\r\n    RsiSgrBlckRt: <p>Index of dissimilarity where higher values indicate greater residential segregation between Black and White county residents</p>,\r\n    SvrHsngPrbRt: <p>Percentage of households with at least 1 of 4 housing problems: overcrowding, high housing costs, lack of kitchen facilities, or lack of plumbing facilities</p>,\r\n    Over65YearsPrc: <p>Percentage of people ages 65 and older</p>,\r\n    AdObPrc: <p>Percentage of the adult population (age 20 and older) that reports a body mass index (BMI) greater than or equal to 30 kg/m2</p>,\r\n    AdDibPrc: <p>Percentage of adults aged 20 and above with diagnosed diabetes</p>,\r\n    SmkPrc: <p>Percentage of adults who are current smokers</p>,\r\n    ExcDrkPrc: <p>Percentage of adults reporting binge or heavy drinking</p>,\r\n    DrOverdMrtRt: <p>Number of drug poisoning deaths per 100,000 population</p>,\r\n    LfExpRt: <p>Average number of years a person can expect to live</p>,\r\n    SlfHlthPrc: <p>Percentage of adults reporting fair or poor health</p>,\r\n    SeverityIndex: <p>Indicates the severity of the local covid-19 outbreak, based on cumulative and predicted deaths</p>,\r\n    PredictedDeaths: <p>Predicted number of deaths for a county</p>,\r\n    PredictedDeathsInterval: <p>Margin of error for predicted death counts for a county </p>,\r\n    healthfactor:<p>Health factors represent those things we can modify to improve community conditions and the length and quality of life for residents</p>,\r\n    healthcontext: <p>Community Health Context reflects the existing health behaviors and demographics of individuals in the community that are influenced by the opportunities to live long and well</p>,\r\n    healthlife:<p>Length and Quality of Life reflects the physical and mental well-being of residents within a community through measures representing how long and how well residents live</p>,\r\n    Hypersegregated: <p>American metropolitan areas where black residents experience hypersegregation, see <a href=\"https://www.princeton.edu/news/2015/05/18/hypersegregated-cities-face-tough-road-change\" target=\"_blank\" rel=\"noopener noreferrer\">here</a></p>,\r\n    BlackBelt: <p>Southern US counties that were at least 40% Black or African American in the 2000 Census, see <a href=\"https://en.wikipedia.org/wiki/Black_Belt_in_the_American_South\" target=\"_blank\" rel=\"noopener noreferrer\">here</a></p>,\r\n    TestingCapacity: <p>New screening (e.g., antigen) and diagnostic (e.g., PCR) testing per capita rates by date. The suggested threshold is >150 daily tests per 100k people.</p>,\r\n    USCongress: <p>Find your representative <a href=\"https://www.govtrack.us/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a></p>,\r\n    BinModes: <p>Fixed bins represent data relative to the most recent date and show a consistent color scale.<br/> Dynamic bins change over time and generate new color scales based on the selected date.</p>,\r\n    Clinics: <p>FQHC or <a href=\"https://www.hrsa.gov/opa/eligibility-and-registration/health-centers/fqhc/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">Federal Qualified Health Centers</a> are community based health providers receiving funds and certification from <a href=\"https://www.hrsa.gov/\" target=\"_blank\" rel=\"noopener noreferrer\">HRSA</a>.</p>,\r\n    Hospitals: <p>Hospital location data from <a href=\"https://github.com/covidcaremap/covid19-healthsystemcapacity\" target=\"_blank\" rel=\"noopener noreferrer\">CovidCareMap.</a></p>,\r\n    ClinicsAndHospitals: <p>Hospital location data from <a href=\"https://github.com/covidcaremap/covid19-healthsystemcapacity\" target=\"_blank\" rel=\"noopener noreferrer\">CovidCareMap</a> and HRSA data on <a href=\"https://www.hrsa.gov/opa/eligibility-and-registration/health-centers/fqhc/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">Federal Qualified Health Centers.</a></p>,\r\n};","// this components houses the slider, legend, and bottom dock chart\r\nimport React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport styled from 'styled-components';\r\n\r\nimport { Legend } from '../components';\r\nimport { colors } from '../config';\r\n\r\n// helper function to get dock offset\r\nconst getChartHeight = () => { try { return document.querySelector('#main-chart-container').offsetHeight} catch { return 0} }\r\n\r\n// Styled components\r\nconst BottomDrawer = styled.div`\r\n    position: fixed;\r\n    bottom:0;\r\n    left:50%;\r\n    background:${colors.gray};\r\n    transform:translateX(-50%);\r\n    width:38vw;\r\n    max-width: 500px;\r\n    box-sizing: border-box;\r\n    padding:0 0 5px 0;\r\n    margin:0;\r\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\r\n    border-radius:0.5vh 0.5vh 0 0;\r\n    transition:250ms all;\r\n    hr {\r\n        opacity:0.5;\r\n    }\r\n    @media (max-width:1024px){\r\n        width:50vw;\r\n        div {\r\n            padding-bottom:5px;\r\n        }\r\n        #binModeSwitch {\r\n            position:absolute !important;\r\n            right: 10px !important;\r\n            top: 10px !important;\r\n        }\r\n        #dateRangeSelector {\r\n            position:absolute !important;\r\n            left: 66% !important;\r\n            transform:translateX(-50%) !important;\r\n            top: 10px !important;\r\n        }\r\n    }\r\n    \r\n    @media (max-width:768px){\r\n    \r\n        width:100%;\r\n        max-width:100%;\r\n        padding:0;\r\n        left:0;\r\n        transform:none;\r\n    }\r\n    @media (max-width:750px) and (orientation: landscape) {\r\n        // bottom all the way down for landscape phone\r\n    }\r\n`\r\n\r\nconst BottomPanel = () => {\r\n\r\n    const panelState = useSelector(state => state.panelState);\r\n\r\n    // offset for the bottom panel based on the chart height, \r\n    // managed through props via styled-components\r\n    const [bottomMargin, setBottomMargin] = useState(0);\r\n\r\n    const handleResize = () => setBottomMargin(getChartHeight())\r\n    window.addEventListener(\"resize\", handleResize);\r\n    \r\n    return (\r\n        <BottomDrawer bottom={panelState.chart ? 0 : bottomMargin } id=\"bottomPanel\">\r\n            <Legend />\r\n            {/* <DateSlider /> */}\r\n            {/* <hr />\r\n            <MainLineChart />\r\n            <OpenCloseButton onClick={handleBottomOpen} bottom={panelState.chart ? 5 : bottomMargin}>\r\n                <svg version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\">\r\n                    <g transform=\"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)\">\r\n                        <path d=\"M38,33.8L23.9,47.9c-1.2,1.2-1.2,3.1,0,4.2L38,66.2l4.2-4.2l-9-9H71v17c0,0.6-0.4,1-1,1H59v6h11\r\n                        c3.9,0,7-3.1,7-7V30c0-3.9-3.1-7-7-7H59v6h11c0.6,0,1,0.4,1,1v17H33.2l9-9L38,33.8z\"/>\r\n                    </g>\r\n                </svg>\r\n                <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\">\r\n                    <g>\r\n                        <path d=\"M52.5,21.4c-1.9,0-3.6,1.3-4.1,3.1L37.9,63.7l-6.4-11.1c-1.2-2-3.7-2.7-5.7-1.5c-0.3,0.2-0.6,0.4-0.9,0.7\r\n                            L10.1,66.6c-1.7,1.6-1.7,4.2-0.2,5.9c1.6,1.7,4.2,1.7,5.9,0.2c0.1,0,0.1-0.1,0.1-0.1L27,61.5l8.7,15.1c1.2,2,3.7,2.7,5.7,1.5\r\n                            c0.9-0.6,1.6-1.5,1.9-2.5l9.1-33.9l4.6,17.2c0.6,2.2,2.9,3.5,5.1,2.9c1.1-0.3,2-1,2.5-1.9l10.4-18l8.9,9.4c1.6,1.7,4.2,1.8,5.9,0.3\r\n                            s1.8-4.2,0.3-5.9c0,0-0.1-0.1-0.1-0.1L77.3,32.1c-1.6-1.7-4.2-1.8-5.9-0.2c-0.3,0.3-0.6,0.6-0.8,1L62.5,47l-6-22.5\r\n                            C56,22.7,54.4,21.4,52.5,21.4L52.5,21.4z\"/>\r\n                    </g>\r\n                </svg>\r\n\r\n            </OpenCloseButton> */}\r\n        </BottomDrawer>\r\n    )\r\n\r\n}\r\n\r\nexport default BottomPanel","// These actions are part of the verbose boilerplate of redux\r\n// As part of the Flux architecture, these connect the dispatch from a component to the reducers\r\n\r\n// set active GEOID \r\n// currently not used\r\nexport const setGeoid = (geoid) => {\r\n    return {\r\n        type: 'SET_GEOID',\r\n        payload: {\r\n            geoid\r\n        }\r\n    }\r\n}\r\n\r\nexport const dataLoad = ( load ) => {\r\n    return {\r\n        type: 'DATA_LOAD',\r\n        payload: {\r\n            load\r\n        }\r\n    }\r\n}\r\n\r\nexport const dataLoadExisting = ( load ) => {\r\n    return {\r\n        type: 'DATA_LOAD_EXISTING',\r\n        payload: {\r\n            load\r\n        }\r\n    }\r\n}\r\n\r\nexport const setNewBins = ( load ) => {\r\n    return {\r\n        type: 'SET_NEW_BINS',\r\n        payload: {\r\n            load\r\n        }\r\n    }\r\n}\r\n\r\n// main store for map and tabular data\r\nexport const storeData = (data, name) => {\r\n    return {\r\n        type: 'SET_STORED_DATA',\r\n        payload: {\r\n            data,\r\n            name\r\n        }   \r\n    }\r\n}\r\n\r\n// store GEOJSON and pseudo-hash table\r\nexport const storeGeojson = (data, name) => {\r\n    return {\r\n        type: 'SET_STORED_GEOJSON',\r\n        payload: {\r\n            data,\r\n            name\r\n        }   \r\n    }\r\n}\r\n\r\nexport const storeMobilityData = (data) => {\r\n    return {\r\n        type: 'SET_STORED_MOBILITY_DATA',\r\n        payload: {\r\n            data\r\n        }\r\n    }\r\n}\r\n\r\n// store lisa values with specific variable combination\r\nexport const storeLisaValues = (data, name) => {\r\n    return {\r\n        type: 'SET_STORED_LISA_DATA',\r\n        payload: {\r\n            data,\r\n            name\r\n        }   \r\n    }\r\n}\r\n\r\n// store cartogra data, just like lisa\r\nexport const storeCartogramData = (data, name) => {\r\n    return {\r\n        type: 'SET_STORED_CARTOGRAM_DATA',\r\n        payload: {\r\n            data,\r\n            name\r\n        }   \r\n    }\r\n}\r\n\r\n// sets the name of the current data set, usually a geojson\r\nexport const setCurrentData = (data) => {\r\n    return {\r\n        type: 'SET_CURRENT_DATA',\r\n        payload: {\r\n            data\r\n        }\r\n    }\r\n}\r\n\r\n// not used -- this stored the Geoda Proxy, but was a bad idea\r\nexport const setGeodaProxy = (proxy) => {\r\n    return {\r\n        type: 'SET_GEODA_PROXY',\r\n        payload: {\r\n            proxy\r\n        }\r\n    }\r\n}\r\n\r\n// stores parsed centroid data \r\nexport const setCentroids = (data, name) => {\r\n    return {\r\n        type: 'SET_CENTROIDS',\r\n        payload: {\r\n            data,\r\n            name\r\n        }\r\n    }\r\n}\r\n\r\n// stores valid dates in current data set\r\nexport const setDates = (data) => {\r\n    return {\r\n        type: 'SET_DATES',\r\n        payload: {\r\n            data\r\n        }\r\n    }\r\n}\r\n\r\n// not used -- stores the current data parsing function in the store\r\nexport const setDataFunction = (fn) => {\r\n    return {\r\n        type: 'SET_DATA_FUNCTION',\r\n        payload: {\r\n            fn\r\n        }\r\n    }\r\n}\r\n\r\n// stores a pseudo-hash table or lookup table\r\n// the data attached to the geojson is stored in arrays / list,\r\n// so a lookup table is needed to find the key-value pairs\r\nexport const setColumnNames = (data, name) => {\r\n    return {\r\n        type: 'SET_COLUMN_NAMES',\r\n        payload: {\r\n            data,\r\n            name\r\n        }\r\n    }\r\n\r\n}\r\n\r\n// sets the current date as text\r\n// export const setDate = (date) => {\r\n//     return {\r\n//         type: 'SET_CURR_DATE',\r\n//         payload: {\r\n//             date\r\n//         }\r\n//     }\r\n// }\r\n\r\n// sets the index of the date within the current dataset(s)\r\nexport const setDateIndex = (index) => {\r\n    return {\r\n        type: 'SET_DATE_INDEX',\r\n        payload: {\r\n            index\r\n        }\r\n    }\r\n}\r\n\r\n// the first valid date in the main data columns (cases, deaths, etc.)\r\nexport const setStartDateIndex = (index) => {\r\n    return {\r\n        type: 'SET_START_DATE_INDEX',\r\n        payload: {\r\n            index\r\n        }\r\n    }\r\n}\r\n\r\n// stores the current bins (bin names / descriptions)\r\n// and breaks (numerical breaks)\r\nexport const setBins = (bins, breaks) => {\r\n    return {\r\n        type: 'SET_BINS',\r\n        payload: {\r\n            bins,\r\n            breaks\r\n        }\r\n    }\r\n}\r\n\r\n// not used -- set map to 3d\r\nexport const set3D = () => {\r\n    return {\r\n        type: 'SET_3D'\r\n    }\r\n}\r\n\r\n// loads data for the data/info sidebar\r\nexport const setDataSidebar = ( data ) => {\r\n    return {\r\n        type: 'SET_DATA_SIDEBAR',\r\n        payload: {\r\n            data\r\n        }\r\n    }\r\n}\r\n\r\n// increments the date by 1, for use with the animation\r\nexport const incrementDate = ( index ) => {\r\n    return {\r\n        type: 'INCREMENT_DATE',\r\n        payload: {\r\n            index\r\n        }\r\n    }\r\n}\r\n\r\n// sets the variables parameters (index and range, numerator, denominator, etc.)\r\nexport const setVariableParams = ( params ) => {\r\n    return {\r\n        type: 'SET_VARIABLE_PARAMS',\r\n        payload: {\r\n            params\r\n        }\r\n    }\r\n}\r\n\r\nexport const setParametersAndData = ( params ) => {\r\n    return {\r\n        type: 'SET_VARIABLE_PARAMS_AND_DATASET',\r\n        payload: {\r\n            params\r\n        }\r\n    }\r\n    \r\n}\r\n\r\n// change the Z axis variable for bi-variate 3D views\r\nexport const variableChangeZ = ( variable, params ) => {\r\n    return {\r\n        type: 'SET_Z_VARIABLE_PARAMS',\r\n        payload: {\r\n            variable,\r\n            params\r\n        }\r\n    }\r\n}\r\n\r\n// sets the map parameters (color mode, viz type, etc.)\r\nexport const setMapParams = ( params ) => {\r\n    return {\r\n        type: 'SET_MAP_PARAMS',\r\n        payload: {\r\n            params\r\n        }\r\n    }\r\n}\r\n\r\n// loads in chart data from current data\r\nexport const setSelectionData = ( data ) => {\r\n    return {\r\n        type: 'SET_SELECTION_DATA',\r\n        payload: {\r\n            data\r\n        }\r\n    }\r\n}\r\n\r\n// adds to current chart data from current data\r\nexport const appendSelectionData = ( data ) => {\r\n    return {\r\n        type: 'APPEND_SELECTION_DATA',\r\n        payload: {\r\n            data\r\n        }\r\n    }\r\n}\r\n\r\n// removes from current chart data from current data\r\nexport const removeSelectionData = ( data ) => {\r\n    return {\r\n        type: 'REMOVE_SELECTION_DATA',\r\n        payload: {\r\n            data\r\n        }\r\n    }\r\n}\r\n\r\n// sets current text-based variable name (eg. Death Count)\r\nexport const setVariableName = ( name ) => {\r\n    return {\r\n        type: 'SET_VARIABLE_NAME',\r\n        payload: {\r\n            name\r\n        }\r\n    }\r\n}\r\n\r\n// sets the anchor element for the inforational tooltip\r\nexport const setAnchorEl = ( anchorEl ) => {\r\n    return {\r\n        type: 'SET_ANCHOR_EL',\r\n        payload: {\r\n            anchorEl\r\n        }\r\n    }\r\n}\r\n\r\n// sets the left, right, and dock panel states\r\nexport const setPanelState = ( params ) => {\r\n    return {\r\n        type: 'SET_PANELS',\r\n        payload: {\r\n            params\r\n        }\r\n    }\r\n}\r\n\r\nexport const setMapLoaded = ( loaded ) => {\r\n    return {\r\n        type: 'SET_MAP_LOADED',\r\n        payload: {\r\n            loaded\r\n        }\r\n    }\r\n}\r\n\r\nexport const setNotification = ( info ) => {\r\n    return {\r\n        type: 'SET_NOTIFICATION',\r\n        payload: {\r\n            info\r\n        }\r\n    }\r\n}\r\n\r\nexport const setUrlParams = ( urlParams, presets ) => {\r\n    return {\r\n        type: 'SET_URL_PARAMS',\r\n        payload: {\r\n            urlParams,\r\n            presets\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { setAnchorEl } from '../actions';\r\n\r\nconst TooltipContainer = styled.button`\r\n    width:12.5px;\r\n    height:12.5px;\r\n    background:url('${process.env.PUBLIC_URL}/assets/img/info.png');\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    outline:none;\r\n    border:none;\r\n    padding:0;\r\n    margin:4px;\r\n`\r\n\r\nconst Tooltip = (props) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const handleMouseOver = (event) => {\r\n        dispatch(setAnchorEl(event.currentTarget))\r\n    }\r\n\r\n    const handleMouseLeave = () => {\r\n        dispatch(setAnchorEl(null))\r\n    }\r\n\r\n    return (\r\n        <TooltipContainer id={props.id} key={props.id} onMouseEnter={handleMouseOver} onMouseLeave={handleMouseLeave} />\r\n    )\r\n}\r\n\r\nexport default Tooltip","import React from 'react';\r\nimport {\r\n    LineChart, Line, YAxis\r\n} from 'recharts';\r\nimport styled from 'styled-components';\r\nimport * as d3 from 'd3-scale';\r\n\r\nconst LineContainer = styled.div`\r\n    display:inline;\r\n    padding:0;\r\n    margin:0;\r\n    align-self:flex-start;\r\n`\r\n\r\nconst CustomizedDot = (props) => {\r\n    const {\r\n      cx, cy, index, color, angle\r\n    } = props;\r\n    if (index === 13) {\r\n      return (\r\n        <svg x={cx - 10} y={cy - 10} width={20} height={20} fill={color} viewBox=\"0 0 500 500\" >\r\n\t\t    <polygon points=\"50,125 50,375 375,250\" transform={`rotate(${angle} 250 250)`}  />\r\n\t  </svg>\r\n      );\r\n    }\r\n  \r\n    return null;\r\n  };\r\n\r\nconst TwoWeekLineChart = ( props ) => {\r\n    \r\n    // map data into object\r\n    let data = props.data.map(d => {\r\n        return {val: d/props.data[0]}\r\n    })\r\n    \r\n    let schemas = {\r\n        'cases/deaths': ['green', 'yellow', 'red'],\r\n        'testingCap': ['#f7fbff', '#f7fbff', '#08306b'],\r\n        'testingPos': ['#0d0887', '#cb4679', '#f0f921'],\r\n        'vaccination': ['#fcfbfd', '#bcbcdb', '#54288f'],\r\n    }\r\n    \r\n    // colors derived from green - yellow - red diverging scale\r\n    const colorScale = d3.scaleLinear()\r\n        .domain([0, 0.5, 1])\r\n        .range(schemas[props.schema])\r\n\r\n    // change over past two weeks\r\n    const delta = props.data[13] - props.data[0]\r\n\r\n    const lineColor = (delta, start) => {\r\n        let pctChange = delta/start\r\n        return colorScale(pctChange + 0.5);\r\n    }\r\n\r\n    const calcAngle = (delta, start) => {\r\n        let pctChange = delta/start;\r\n        if (pctChange >= 0.5) {\r\n            return -60\r\n        } else if (pctChange <= -0.5) {\r\n            return 60\r\n        } else { \r\n            return pctChange*-1*60\r\n        }\r\n    }\r\n\r\n    return (\r\n        <LineContainer>\r\n            <LineChart data={data} width={60} height={30}>\r\n                <YAxis domain={['dataMin', 'dataMax']}  hide={true} />\r\n                <Line \r\n                    type=\"linear\" \r\n                    dataKey=\"val\" \r\n                    stroke={lineColor(delta, props.data[0])}\r\n                    strokeWidth={2} \r\n                    isAnimationActive={false}\r\n                    dot={\r\n                        <CustomizedDot color={lineColor(delta, props.data[0])} angle={calcAngle(props.data[12] - props.data[10], props.data[12])} />\r\n                        }\r\n                />\r\n            </LineChart>\r\n        </LineContainer>\r\n    );\r\n}\r\n\r\nexport default TwoWeekLineChart;\r\n  ","const colLookup = (columns, dataset, table, property) => {\r\n    try {\r\n        return columns[dataset][table].indexOf(property); \r\n    } catch {\r\n        return null;\r\n    }\r\n}\r\nexport default colLookup;","// branchless variant\r\n// const dataFn = (numeratorData, numeratorProperty, index, range, denominatorData, denominatorProperty, denominatorIndex, denominatorRange, scale)  => {\r\n\r\n//     return (\r\n//       (\r\n//         (\r\n//           (\r\n//             (numeratorData[index]||numeratorData[numeratorProperty])\r\n//             -\r\n//             ((range!==null)&&(numeratorData[index-range]))\r\n//           )\r\n          \r\n//           /\r\n//           (range+(range===null))\r\n//         )\r\n//       /\r\n//         (\r\n//           (\r\n//             (\r\n//               (denominatorData[denominatorIndex]||denominatorData[denominatorProperty])\r\n//               -\r\n//               ((denominatorRange!==null)&&(denominatorData[denominatorIndex-denominatorRange]))\r\n//             )\r\n//             /\r\n//             (denominatorRange+(denominatorRange===null))\r\n//           )\r\n//           ||\r\n//             (denominatorData[denominatorProperty])\r\n//           || \r\n//           1\r\n//         )\r\n//       )\r\n//       *\r\n//       scale\r\n//     )\r\n// }\r\n\r\n// export default dataFn;\r\n\r\nconst dataFn = (numeratorData, denominatorData, dataParams)  => {\r\n  const { \r\n    nProperty, nIndex, nRange,\r\n    dProperty, dIndex, dRange, \r\n    nType, dType,\r\n    scale\r\n  } = dataParams;\r\n\r\n  if ( nIndex < nRange ) nRange = nIndex\r\n  \r\n  if (numeratorData === undefined) {\r\n    return null;\r\n  } else if ((nProperty !== null && numeratorData[nProperty] === undefined) && (nIndex !== null && numeratorData[nIndex] === undefined)){\r\n    return null;\r\n  } else if (nType ==='time-series' && dType === 'time-series') {\r\n    if (nRange === null & dRange === null) {\r\n      return (\r\n        (numeratorData[nIndex])\r\n        /\r\n        (denominatorData[dIndex])\r\n        *scale   \r\n      )\r\n\r\n    } else {\r\n      return (\r\n        ((numeratorData[nIndex]-numeratorData[nIndex-nRange])/nRange)\r\n        /\r\n        ((denominatorData[dIndex]-denominatorData[dIndex-dRange])/dRange)\r\n        *scale   \r\n      )\r\n    }\r\n  } else if (dProperty===null&&nRange===null){ // whole count or number -- no range, no normalization\r\n    return (numeratorData[nProperty]||numeratorData[nIndex])*scale\r\n  } else if (dProperty===null&&nRange!==null){ // range number, daily or weekly count -- no normalization\r\n    return (numeratorData[nIndex]-numeratorData[nIndex-nRange])/nRange*scale\r\n  } else if (dProperty!==null&&nRange===null){ // whole count or number normalized -- no range\r\n    return (numeratorData[nProperty]||numeratorData[nIndex])/(denominatorData[dProperty]||denominatorData[dIndex])*scale\r\n  } else if (dProperty!==null&&nRange!==null&&dRange===null){ // range number, daily or weekly count, normalized to a single value\r\n    return (\r\n      (numeratorData[nIndex]-numeratorData[nIndex-nRange])/nRange)/(denominatorData[dProperty]||denominatorData[dIndex]\r\n        )*scale\r\n  // } else if (dProperty!==null&&nRange!==null&&dRange!==null){ // range number, daily or weekly count, normalized to a range number, daily or weekly count\r\n  //   console.log('getting the right col')\r\n  //   return (\r\n  //     (numeratorData[nIndex]-numeratorData[nIndex-nRange])/nRange)\r\n  //     /\r\n  //     ((denominatorData[dIndex]-denominatorData[dIndex-dIndex])/dIndex)\r\n  //     *scale\r\n  } else {      \r\n    return 0;\r\n  }\r\n}\r\n\r\nexport default dataFn;","export const findDateIndices = ( dateList, columnList ) => {\r\n    let validIndices = []\r\n    for (let i=0; i<dateList.length; i++) {\r\n        if (columnList.indexOf(dateList[i]) !== -1) validIndices.push(i)\r\n    }\r\n    return validIndices\r\n}\r\n\r\nexport const getDateIndices = ( data, names ) => {\r\n    let rtn = {}\r\n    \r\n    for (let i=0; i < data.length; i++) {\r\n        rtn[names[i]] = data[i][2]\r\n    }\r\n\r\n    return rtn;\r\n}","const geojsonArrayBuffer = async (data) => {\r\n    const arrayBuffer = await data.arrayBuffer()\r\n\r\n    return arrayBuffer;\r\n}\r\n\r\nexport default geojsonArrayBuffer;","const getCartogramValues = (gda_proxy, dataset, data ) => {\r\n    let cartogramData = gda_proxy.cartogram(dataset, data)\r\n    let tempObj = {}\r\n    for (let i=0; i<cartogramData.length; i++){\r\n        cartogramData[i].value = data[i]\r\n        tempObj[i] = cartogramData[i]\r\n    }\r\n    return tempObj;\r\n}\r\n\r\nexport default getCartogramValues;","const getCartogramCenter = (cartogramData) => {\r\n    let x = 0;\r\n    let y = 0;\r\n    let keys = Object.keys(cartogramData)\r\n    let dataLength = keys.length\r\n\r\n    for (let i=0; i<dataLength; i++) {\r\n        x += cartogramData[keys[i]]['position'][0];\r\n        y += cartogramData[keys[i]]['position'][1];\r\n    };\r\n    return [x/dataLength, y/dataLength]\r\n}\r\n\r\nexport default getCartogramCenter;","const getColumns = (data, names) => {\r\n    let rtn = {};\r\n\r\n    for (let i=0; i < data.length; i++) {\r\n        rtn[names[i]] = data[i][1]\r\n    }\r\n\r\n    return rtn;\r\n}\r\n\r\nexport default getColumns;","import * as d3 from 'd3-dsv';\r\n\r\nasync function getCSV(url){\r\n    const tempData = await fetch(url)\r\n      .then(response => {\r\n        return response.ok ? response.text() : Promise.reject(response.status);\r\n      }).then(text => {\r\n        let data = d3.csvParse(text, d3.autoType)\r\n        \r\n        return data\r\n      })\r\n    \r\n      return tempData\r\n}\r\n\r\nexport default getCSV","import dataFn from './dataFunction';\r\n// this function loops through the current data set and provides data for GeodaJS to create custom breaks \r\nconst getDataForBins = (tableData, dataParams) => {\r\n\r\n    const { numerator, nProperty, nIndex, denominator, dType, dIndex} = dataParams;\r\n    if (tableData[0][denominator] === undefined) return;\r\n    // declare empty array for return variables\r\n    let rtn = [];\r\n\r\n    // length of data table to loop through\r\n    let n = tableData.length;\r\n\r\n    // this checks if the bins generated should be dynamic (generating for each date) or fixed (to the most recent date)\r\n    if (nIndex === null && nProperty === null) {\r\n        // if fixed, get the most recent date\r\n        let tempIndex = tableData[0][numerator].length-1;\r\n        // if the denominator is time series data (eg. deaths / cases this week), make the indices the same (most recent)\r\n        let tempDIndex = dType === 'time-series' ? tableData[0][denominator].length-1 : dIndex;\r\n        // loop through, do appropriate calculation. add returned value to rtn array\r\n        while (n>0) {\r\n            n--;\r\n            rtn.unshift(dataFn(tableData[n][numerator], tableData[n][denominator], {...dataParams, nIndex:tempIndex, dIndex: tempDIndex})||0)\r\n        }\r\n    } else {\r\n       while (n>0) {\r\n            n--;\r\n            rtn.unshift(dataFn(tableData[n][numerator], tableData[n][denominator], dataParams)||0)\r\n        }\r\n    }\r\n    return rtn;   \r\n}\r\nexport default getDataForBins","const getDataForCharts = (data, table, dateIndices, dateList, name=null) => {\r\n    // get list of all features (GEOIDs/FIPS)\r\n    let features = Object.keys(data);\r\n    // counter for days \r\n    let n = 0;\r\n    // return array\r\n    let rtn = new Array(dateList.length)\r\n    // 7 day average delay -- early data\r\n    let j = -7;\r\n\r\n    let countCol;\r\n    let sumCol;\r\n    // based on whether specific to geography, or all cases\r\n    if (name===null) {\r\n        countCol = 'count'\r\n        sumCol = 'sum'\r\n    } else {\r\n        countCol = name + ' Daily Count'\r\n        sumCol = name + ' Total Cases'\r\n    }\r\n    \r\n    while (n<dateList.length) {\r\n        let tempObj = {};\r\n        // if we are missing data for that date, skip it\r\n        if (dateIndices.indexOf(n)===-1){\r\n            tempObj[sumCol] = null;\r\n            tempObj[countCol] = null;\r\n            rtn[n] = tempObj;\r\n            n++;\r\n            j++;\r\n        } else {\r\n            // loop through features and sum values for index\r\n            let sum = 0;\r\n            let i = 0;\r\n            while (i<features.length) {\r\n                if (data[features[i]][table]!== undefined) sum += data[features[i]][table][n]||0\r\n                // tempObj[`n${i}`] = data[features[i]][table][n]\r\n                i++;\r\n            }\r\n            tempObj[sumCol] = sum\r\n            tempObj.date = dateList[n]\r\n            if (j<0) {\r\n                tempObj[countCol] = sum\r\n            } else {\r\n                tempObj[countCol] = (sum - rtn[j][sumCol])/7\r\n            }\r\n            rtn[n] = tempObj;\r\n            n++;\r\n            j++;\r\n        }\r\n    }\r\n    return rtn;\r\n}\r\n\r\nexport default getDataForCharts","import dataFn from './dataFunction';\r\n\r\n// this function loops through the current data set and provides data for GeodaJS to create custom breaks \r\nconst getDataForLisa = (tableData, dataParams, order) => {\r\n    let t0 = performance.now() // logging performance\r\n    \r\n    const { numerator, nProperty, nIndex, denominator, dType, dIndex} = dataParams;\r\n\r\n    // declare empty array for return variables\r\n    let tempDict = {};\r\n\r\n    // length of data table to loop through\r\n    let n = tableData.length;\r\n\r\n    // this checks if the bins generated should be dynamic (generating for each date) or fixed (to the most recent date)\r\n    if (nIndex === null && nProperty === null) {\r\n        // if fixed, get the most recent date\r\n        let tempNIndex = tableData[0][denominator].length-1;\r\n        \r\n        // if the denominator is time series data (eg. deaths / cases this week), make the indices the same (most recent)\r\n        let tempDIndex = dType === 'time-series' ? tableData[0][denominator].length-1 : dIndex;\r\n\r\n        // loop through, do appropriate calculation. add returned value to rtn array\r\n        while (n>0) {\r\n            n--;\r\n            tempDict[tableData[n].properties.GEOID] = dataFn(tableData[n][numerator], tableData[n][denominator], {...dataParams, nIndex:tempNIndex, dIndex: tempDIndex})||0\r\n        }\r\n    } else {\r\n       while (n>0) {\r\n            n--;\r\n            tempDict[tableData[n].properties.GEOID] = dataFn(tableData[n][numerator], tableData[n][denominator], dataParams)||0\r\n        }\r\n    }\r\n    \r\n    let rtn = [];\r\n\r\n    n = 0;\r\n    let keys = Object.keys(order)\r\n    while (n<keys.length) {\r\n        rtn.push(tempDict[order[keys[n]]]);\r\n        n++;\r\n    }\r\n\r\n    console.log(performance.now() - t0);\r\n\r\n    return rtn;\r\n    \r\n}\r\nexport default getDataForLisa","const getGeoidIndex = (features) => {\r\n    let geoidOrder = {};\r\n    let indexOrder = {};\r\n    let i = 0\r\n    while (i<features.length) {\r\n        geoidOrder[features[i].properties.GEOID] = i\r\n        indexOrder[i] = features[i].properties.GEOID\r\n        i++;\r\n    }\r\n\r\n    return {geoidOrder, indexOrder};\r\n}\r\nexport default getGeoidIndex","import { getJsonPure, geojsonArrayBuffer } from '../utils';\r\n\r\n// async function getJson(url, gda_proxy){\r\n//     const tempData = await fetch(url).then(response => {\r\n//       const responseFromJson = response.clone();        \r\n//       const data = loadGeojsonToGeoda(responseFromJson, url, gda_proxy).then(\r\n//         () =>\r\n//           {\r\n//             return response.json()\r\n//           }\r\n//       )\r\n//       return data;\r\n//     }).then(data => {\r\n//       console.log('loaded json')\r\n//       return {\r\n//         data: data,\r\n//         geoidIndex: getGeoidIndex(data.features)\r\n//       }\r\n//     });        \r\n//     return tempData;\r\n// }\r\n\r\nconst getJson = async (url) => {\r\n  const response = await getJsonPure(url)\r\n  const responseFromJson = response.clone();        \r\n  const abResponse = await geojsonArrayBuffer(responseFromJson);\r\n  return { response, ab: abResponse }\r\n}\r\n\r\nexport default getJson;\r\n","const getJsonPure = async (url) => {\r\n    const tempData = await fetch(url).then(response => {\r\n      return response //.json();\r\n    })      \r\n    return tempData;\r\n}\r\n\r\nexport default getJsonPure;","const getCurrentWuuid = (gda_proxy, selectedDataset) => {\r\n    var w = gda_proxy.CreateQueenWeights(selectedDataset, 1, 0, 0);\r\n\r\n    return {\r\n      'map_uuid': selectedDataset,\r\n      'w': w,\r\n      'w_uuid': w.get_uid()\r\n    };\r\n}\r\n\r\nexport default getCurrentWuuid","import getCurrentWuuid from './getCurrentWuuid.js';\r\n\r\nconst getLisaValues = (gda_proxy, dataset, data, geoids) => {\r\n  let w = getCurrentWuuid(gda_proxy, dataset);\r\n  let all_zeros = true;\r\n  for (let i=0; i<data.length; ++i) { \r\n    if (data[i] !== 0)\r\n      all_zeros = false;\r\n  }\r\n  let clusters = [];\r\n  let sig = [];\r\n\r\n  if (all_zeros) {\r\n    for (let i=0; i<data.length; ++i) { \r\n      clusters.push(0);\r\n      sig.push(0);\r\n    }\r\n  } else {\r\n    var lisa = gda_proxy.local_moran(w.map_uuid, w.w_uuid, data);\r\n    clusters = gda_proxy.parseVecDouble(lisa.clusters());\r\n    sig = gda_proxy.parseVecDouble(lisa.significances());\r\n  }\r\n  console.log(w.w_uuid)\r\n  console.log(w.map_uuid)\r\n  return clusters;\r\n}\r\n\r\nexport default getLisaValues;","import * as d3 from 'd3-dsv';\r\nimport { findDateIndices } from '../utils';\r\n\r\nasync function getParseCSV(url, joinCol, accumulate, dateList){\r\n\r\n  const tempData = await fetch(url)\r\n    .then(response => {\r\n      return response.ok ? response.text() : Promise.reject(response.status);\r\n    }).then(text => {\r\n      let data = d3.csvParse(text, d3.autoType);\r\n      let rtn = {};\r\n      let n = data.length;\r\n      let selectedJoinColumn;\r\n      let dateIndices = null; \r\n\r\n      joinCol.forEach(colOption => {\r\n        if (data[0].hasOwnProperty(colOption)) selectedJoinColumn = colOption;\r\n      })\r\n      if (dateList !== undefined) dateIndices = findDateIndices(dateList, Object.keys(data[0]))\r\n\r\n      if (accumulate) {\r\n        while (n>0){\r\n          n--;\r\n          let i = 0;\r\n          let tempArr = new Array(dateList.length);\r\n          while (i < dateList.length){\r\n            tempArr[i] = (data[n][dateList[i]]||0)+(tempArr[i-1]||0);\r\n            i++;\r\n          }\r\n          rtn[data[n][selectedJoinColumn]] = tempArr\r\n        }\r\n      } else if (dateList !== undefined){\r\n        while (n>0){\r\n          n--;\r\n          let i = 0;\r\n          let tempArr = new Array(dateList.length);\r\n          while (i < dateList.length){\r\n            tempArr[i] = (data[n][dateList[i]]||tempArr[i-1])\r\n            i++;\r\n          }\r\n          rtn[data[n][selectedJoinColumn]] = tempArr\r\n        }\r\n      } else {\r\n        while (n>0){\r\n          n--;\r\n          rtn[data[n][selectedJoinColumn]] = Object.values(data[n])\r\n        }\r\n      }\r\n      return [rtn, Object.keys(data[0]), dateIndices]\r\n    });\r\n  return tempData;\r\n}\r\n\r\nexport default getParseCSV","const getURLParams = (params) => {\r\n    const { dataParams, mapParams, coords, currentData, lastDateIndex } = params;\r\n\r\n    let mapCoords = `?lat=${Math.round(coords.latitude*1000)/1000}&lon=${Math.round(coords.longitude*1000)/1000}&z=${Math.round(coords.zoom*10)/10}`;\r\n    let source = `&src=${currentData.split('.geojson')[0]}`\r\n    let variable = dataParams.variableName !== 'Confirmed Count per 100K Population' ? `&var=${dataParams.variableName.replace(/ /g,\"_\")}` : ''\r\n    let method = mapParams.mapType !== 'natural_breaks' ? `&mthd=${mapParams.mapType}` : '';\r\n    let prop = dataParams.nProperty !== null ? `&propCol=${dataParams.nProperty}` : '';\r\n    let bin = mapParams.binMode !== '' ? '&dbin=True' : ''        \r\n    let date = lastDateIndex !== null && dataParams.nIndex !== lastDateIndex.slice(-1,)[0] ? `&date=${dataParams.nIndex}` : '';\r\n    let dateRange = dataParams.nRange !== 7 && dataParams.nType === 'time-series' ? `&range=${dataParams.nRange}` : ''\r\n    let overlay = mapParams.overlay ? `&ovr=${mapParams}` : '';\r\n    let resource = mapParams.resource ? `&res=${mapParams.resource}` : '';\r\n    let mapType = mapParams.vizType === \"cartogram\" ? `&viz=cartogram` : mapParams.vizType === '3D' ? '&viz=3D' : '';\r\n  \r\n    return `${mapCoords}${source}${variable}${method}${prop}${bin}${date}${dateRange}${overlay}${resource}${mapType}&v=2`\r\n}\r\n\r\nexport default getURLParams;","const getVarId = (currentData, dataParams) => {\r\n    return `${currentData}-${dataParams.numerator}-${dataParams.nIndex}-${dataParams.nRange}-${dataParams.denominator}-${dataParams.dProperty}-${dataParams.dIndex}-${dataParams.dRange}-${dataParams.scale}`\r\n}\r\n\r\nexport default getVarId;","import { getJson, getGeoidIndex } from '../utils';\r\n\r\nconst loadJson = async (url, gda_proxy) => {\r\nconst data = getJson(url).then(values => {\r\n    gda_proxy.ReadGeojsonMap(url.split('/').slice(-1,)[0], values.ab);\r\n    return values.response.json().then(\r\n    data => {\r\n        return {\r\n        data: data,\r\n        geoidIndex: getGeoidIndex(data.features)\r\n        }\r\n    })\r\n})\r\nreturn data;\r\n}\r\n\r\nexport default loadJson;","const mapFn = (val, bins, colors, maptype, column) => {\r\n  if (val === null) {\r\n    return null;\r\n  } else if (maptype === \"natural_breaks\") {\r\n    if (val === 0 || (val === -1 && column.includes('testing'))) return colors[0];\r\n\r\n    for (let i=1; i<bins.length; i++) {\r\n      if (val < bins[i]) {\r\n        return colors[i]\r\n      }\r\n    }\r\n    return colors[0];\r\n  } else if (maptype.includes(\"hinge\")) {\r\n    \r\n    if (val === null) return [0,0,0,0];\r\n    \r\n    for (let i=1; i<bins.length; i++) {\r\n      if (val < bins[i]) {\r\n        return colors[i-1]\r\n      }\r\n    }\r\n    return colors[0];\r\n  }\r\n}\r\n\r\nexport default mapFn","import { merge } from 'lodash';\r\n\r\nconst mergeData = (featureCollection, featureCollectionJoinCol, joinData, joinDataNames, joinDataCol) => {\r\n    // declare parent dictionaries\r\n    let features = {}\r\n    let dataDict = {}\r\n    \r\n    // declare and prep feature collection object\r\n    let i = featureCollection.features.length;\r\n    let colNumCheck = parseInt(featureCollection.features[0].properties[featureCollectionJoinCol])\r\n    if (Number.isInteger(colNumCheck)) {\r\n      while (i>0) {\r\n        i--;\r\n        features[parseInt(featureCollection.features[i].properties[featureCollectionJoinCol])] = featureCollection.features[i];\r\n        dataDict[parseInt(featureCollection.features[i].properties[featureCollectionJoinCol])] = {};\r\n      }\r\n    } else {\r\n      while (i>0) {\r\n        i--;\r\n        features[featureCollection.features[i].properties[featureCollectionJoinCol]] = featureCollection.features[i];\r\n        dataDict[featureCollection.features[i].properties[featureCollectionJoinCol]] = {};\r\n      }\r\n    }\r\n  \r\n    // // declare data objects\r\n    // for (let n=0; n < joinDataNames.length; n++) {\r\n    //   dataDict[`${joinDataNames[n]}`] = {}\r\n    // }\r\n  \r\n    // loop through data and add to dictionaries\r\n    let n = joinData.length;\r\n    while (n>0) {\r\n      n--;\r\n      let cols = Object.keys(joinData[n][0]);\r\n      i = cols.length;\r\n      while (i>0) {\r\n        i--;\r\n        try {\r\n          dataDict[cols[i]][joinDataNames[n]] = joinData[n][0][cols[i]]\r\n        } catch {}\r\n      }\r\n    }\r\n    \r\n    // // use lodash to merge data\r\n    let merged = merge(features, dataDict)\r\n    // for (let n=1; n < joinDataNames.length; n++){\r\n    //   merged = merge(merged, dataDict[joinDataNames[n]])\r\n    // }\r\n    \r\n    // clean data\r\n    let rtn = [];\r\n    let keys = Object.keys(merged)\r\n    \r\n    for (let i = 0; i < keys.length; i++) {\r\n      // if (Object.keys(merged[keys[i]]).length == (joinDataNames.length+baseColumnLength)) rtn.push(merged[keys[i]])\r\n      rtn.push(merged[keys[i]])\r\n    }\r\n\r\n    return rtn;\r\n}\r\n\r\nexport default mergeData;","export const compact = <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 19.6 32\">\r\n        <path d=\"M1,0h17.6c0.6,0,1,0.5,1,1v3.1c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.5-1-1V1C0,0.5,0.4,0,1,0z\"/>\r\n        <path d=\"M1,9h17.6c0.6,0,1,0.5,1,1v3.1c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.5-1-1V10C0,9.4,0.4,9,1,9z\"/>\r\n        <path d=\"M1,17.9h17.6c0.6,0,1,0.5,1,1V22c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.5-1-1v-3.1C0,18.4,0.4,17.9,1,17.9z\"/>\r\n        <path d=\"M1,26.9h17.6c0.6,0,1,0.5,1,1V31c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.5-1-1v-3.1C0,27.3,0.4,26.9,1,26.9z\"/>\r\n    </svg>\r\n\r\nexport const expand = <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 19.6 32\" >\r\n        <path d=\"M1,0h17.6c0.6,0,1,0.5,1,1v3.1c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.5-1-1V1C0,0.5,0.4,0,1,0z\"/>\r\n        <path d=\"M1,9h17.6c0.6,0,1,0.5,1,1v21c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.5-1-1V10C0,9.4,0.4,9,1,9z\"/>\r\n    </svg>\r\n\r\nexport const settings = <svg viewBox=\"0 0 50 50\">\r\n            <circle className=\"cls-1\" cx=\"25.43\" cy=\"24.63\" r=\"15.4\" transform=\"translate(-3.28 3.92) rotate(-8.28)\"/>\r\n            <path className=\"cls-2\" d=\"M28.87,47.49l-7.07,0L22,41.58a17.18,17.18,0,0,0,6.74,0Z\"/>\r\n            <path className=\"cls-2\" d=\"M28.84,7.68a17.18,17.18,0,0,0-6.74,0l-.16-5.89H29Z\"/>\r\n            <path className=\"cls-2\" d=\"M44,38.35l-5,5L35,39a17.33,17.33,0,0,0,4.78-4.76Z\"/>\r\n            <path className=\"cls-2\" d=\"M15.85,10.22A17.19,17.19,0,0,0,11.07,15L6.8,10.92l5-5Z\"/>\r\n            <path className=\"cls-2\" d=\"M48.27,21.17l0,7.08-5.88-.19a17.23,17.23,0,0,0,0-6.75Z\"/>\r\n            <path className=\"cls-2\" d=\"M8.45,21.2a17.37,17.37,0,0,0,0,6.74l-5.89.16,0-7.08Z\"/>\r\n            <path className=\"cls-2\" d=\"M39.12,6l5,5-4.29,4a17.43,17.43,0,0,0-4.75-4.78Z\"/>\r\n            <path className=\"cls-2\" d=\"M11,34.2A17.16,17.16,0,0,0,15.75,39L11.7,43.25l-5-5Z\"/>\r\n    </svg>\r\n\r\nexport const report = <svg viewBox=\"0 0 50 50\">\r\n        <rect x=\"0.03\" y=\"0.19\" width=\"49.93\" height=\"3.85\" rx=\"1\"/>\r\n        <rect x=\"0.03\" y=\"8.4\" width=\"46.19\" height=\"3.85\" rx=\"1\"/>\r\n        <rect x=\"0.03\" y=\"21.12\" width=\"49.93\" height=\"3.85\" rx=\"1\"/>\r\n        <rect x=\"0.03\" y=\"29.58\" width=\"49.93\" height=\"3.85\" rx=\"1\"/><rect x=\"0.03\" y=\"38.04\" width=\"43.69\" height=\"3.85\" rx=\"1\"/>\r\n        <rect x=\"0.03\" y=\"46.15\" width=\"49.93\" height=\"3.85\" rx=\"1\"/>\r\n    </svg>\r\n\r\nexport const chart = <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\">\r\n        <g>\r\n            <path d=\"M52.5,21.4c-1.9,0-3.6,1.3-4.1,3.1L37.9,63.7l-6.4-11.1c-1.2-2-3.7-2.7-5.7-1.5c-0.3,0.2-0.6,0.4-0.9,0.7\r\n                L10.1,66.6c-1.7,1.6-1.7,4.2-0.2,5.9c1.6,1.7,4.2,1.7,5.9,0.2c0.1,0,0.1-0.1,0.1-0.1L27,61.5l8.7,15.1c1.2,2,3.7,2.7,5.7,1.5\r\n                c0.9-0.6,1.6-1.5,1.9-2.5l9.1-33.9l4.6,17.2c0.6,2.2,2.9,3.5,5.1,2.9c1.1-0.3,2-1,2.5-1.9l10.4-18l8.9,9.4c1.6,1.7,4.2,1.8,5.9,0.3\r\n                s1.8-4.2,0.3-5.9c0,0-0.1-0.1-0.1-0.1L77.3,32.1c-1.6-1.7-4.2-1.8-5.9-0.2c-0.3,0.3-0.6,0.6-0.8,1L62.5,47l-6-22.5\r\n                C56,22.7,54.4,21.4,52.5,21.4L52.5,21.4z\"/>\r\n        </g>\r\n    </svg>\r\n\r\nexport const info =  <svg viewBox=\"0 0 100 100\" x=\"0px\" y=\"0px\">\r\n        <g>\r\n            <path d=\"M 62.0763 27.4552 C 64.0258 25.642 65 23.4406 65 20.8589 C 65 18.2815 64.0258 16.0809 62.0763 14.2511 C 60.1273 12.4207 57.7859 11.5 55.0413 11.5 C 52.3076 11.5 49.9438 12.4207 47.9833 14.2511 C 46.0343 16.0809 45.0487 18.2815 45.0487 20.8589 C 45.0487 23.4406 46.0343 25.642 47.9833 27.4552 C 49.9438 29.2682 52.3076 30.178 55.0413 30.178 C 57.7859 30.178 60.1273 29.2682 62.0763 27.4552 ZM 57.5841 88.0802 C 61.1017 86.4348 62.9616 83.3419 61.1353 81.9274 C 60.0823 81.1132 58.7041 82.4604 57.6963 82.4604 C 55.5343 82.4604 54.0103 82.1065 53.1367 81.3939 C 52.2518 80.6754 51.8261 79.3446 51.8261 77.3796 C 51.8261 76.5942 51.9493 75.4433 52.2182 73.9213 C 52.487 72.395 52.8007 71.0302 53.1367 69.8404 L 57.3153 55.0418 C 57.7073 53.683 57.9988 52.1893 58.1554 50.5672 C 58.301 48.9276 58.3798 47.7935 58.3798 47.1533 C 58.3798 44.0378 57.2817 41.5004 55.0971 39.5465 C 52.9237 37.5991 49.8094 36.6159 45.7765 36.6159 C 43.5361 36.6159 41.1501 36.9472 38.652 37.8117 C 33.7564 39.5293 34.8432 43.7968 35.9296 43.7968 C 38.1364 43.7968 39.6152 44.1722 40.3995 44.9193 C 41.1837 45.6604 41.5868 46.9796 41.5868 48.8828 C 41.5868 49.9269 41.4413 51.1007 41.1947 52.3689 C 40.9369 53.6381 40.635 54.9909 40.2541 56.4111 L 36.053 71.2659 C 35.6947 72.8267 35.4253 74.2246 35.2463 75.4648 C 35.0784 76.7058 35 77.9187 35 79.1091 C 35 82.1578 36.12 84.6722 38.3716 86.6596 C 40.6238 88.6528 44.0854 90.5 48.1405 90.5 C 50.7731 90.5 54.537 89.518 57.5841 88.0802 Z\">\r\n            </path>\r\n        </g>\r\n    </svg>\r\n\r\nexport const verticalGrip = <svg viewBox=\"0 0 12.1 50\" >\r\n        <rect width=\"2.4\" height=\"50\"/>\r\n        <rect x=\"4.9\" width=\"2.4\" height=\"50\"/>\r\n        <rect x=\"9.8\" width=\"2.4\" height=\"50\"/>\r\n    </svg>\r\n\r\nexport const selectRect = <svg viewBox=\"0 0 100 100\">\r\n    <g transform=\"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)\">\r\n        <svg\r\n            fill=\"#000000\"\r\n            viewBox=\"0 0 8.4666665 8.4666669\"\r\n        >\r\n            <g transform=\"translate(0,-288.53333)\">\r\n                <path\r\n                    d=\"m 0.52916618,289.0625 v 1.05833 H 1.0583328 v -0.52916 h 0.5291667 v -0.52917 z m 1.58750012,0 v 0.52917 h 1.0583333 v -0.52917 z m 1.5875,0 v 0.52917 h 1.0583333 v -0.52917 z m 1.5875,0 v 0.52917 h 1.0583333 v -0.52917 z m 1.5875,0 v 0.52917 H 7.408333 v 0.52916 H 7.9374996 V 289.0625 Z M 0.52916618,290.65 v 1.05833 H 1.0583328 V 290.65 Z m 6.87916682,0 v 1.05833 H 7.9374996 V 290.65 Z m -6.87916682,1.5875 v 1.05833 H 1.0583328 v -1.05833 z m 6.87916682,0 v 1.05833 h 0.5291666 v -1.05833 z m -6.87916682,1.5875 v 1.05833 H 1.0583328 V 293.825 Z m 6.87916682,0 v 1.05833 H 7.9374996 V 293.825 Z m -6.87916682,1.5875 v 1.05833 H 1.5874995 v -0.52916 H 1.0583328 v -0.52917 z m 6.87916682,0 v 0.52917 H 6.8791663 v 0.52916 h 1.0583333 v -1.05833 z m -5.2916667,0.52917 v 0.52916 h 1.0583333 v -0.52916 z m 1.5875,0 v 0.52916 h 1.0583333 v -0.52916 z m 1.5875,0 v 0.52916 h 1.0583333 v -0.52916 z\"\r\n                ></path>\r\n            </g>\r\n        </svg>\r\n    </g>\r\n    </svg>\r\n","// This components formats the data for the selected geography\r\n// and displays it in the right side panel.\r\n\r\nimport React, {useState} from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport styled from 'styled-components';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport Tooltip from './tooltip';\r\nimport TwoWeekChart from './twoWeekLineChart';\r\nimport { setPanelState } from '../actions';\r\nimport {dataFn, colLookup} from '../utils';\r\nimport { colors } from '../config';\r\nimport { report } from '../config/svg';\r\n\r\n// Styled components CSS\r\nconst DataPanelContainer = styled.div`\r\n  display: ${props => props.dataLength === 0 ? 'none' : 'initial'};\r\n  position:fixed;\r\n  min-width:250px;\r\n  right:0;\r\n  top:50px;\r\n  overflow-x:visible;\r\n  height:calc(100vh - 50px);\r\n  background-color: ${colors.gray}fa;\r\n  box-shadow: -2px 0px 5px rgba(0,0,0,0.7);\r\n  padding:20px;\r\n  box-sizing: border-box;\r\n  transition:250ms all;\r\n  font: 'Lato', sans-serif;\r\n  color: white;\r\n  font-size:100%;\r\n  padding:0;\r\n  z-index:5;\r\n  transform: translateX(100%);\r\n  &.open {\r\n    transform:none;\r\n  }\r\n  @media (max-width:1024px) {\r\n    min-width:50vw;\r\n  }  \r\n  @media (max-width:600px) {\r\n    width:100%;\r\n    left:0;\r\n    transform:translateX(-100%);\r\n    z-index:51;\r\n    &.open {\r\n      transform:none;\r\n    }\r\n    display: ${props => (props.otherPanels || props.dataLength === 0) ? 'none' : 'initial'};\r\n  }\r\n  button#showHideRight {\r\n    position:absolute;    \r\n    right:calc(100% - 20px);\r\n    top:20px;\r\n    width:40px;\r\n    height:40px;\r\n    padding:0;\r\n    margin:0;\r\n    background-color: ${colors.gray};\r\n    box-shadow: 0px 0px 6px rgba(0,0,0,1);\r\n    outline:none;\r\n    border:none;\r\n    cursor: pointer;\r\n    transition:500ms all;\r\n    svg {\r\n      width:15px;\r\n      height:15px;\r\n      margin:12.5px 0 0 0;\r\n      @media (max-width:600px){\r\n        width:20px;\r\n        height:20px;\r\n        margin:5px;\r\n      }\r\n      fill:white;\r\n      transform:rotate(180deg);\r\n      transition:500ms all;\r\n    }\r\n    :after {\r\n      opacity:0;\r\n      font-weight:bold;\r\n      color:white;\r\n      position: relative;\r\n      top:-17px;\r\n      transition:500ms all;\r\n      content: 'Report';\r\n      right:50px;\r\n      z-index:4;\r\n    }  \r\n    &.hidden {\r\n      right:100%;\r\n      svg {\r\n        transform:rotate(0deg);\r\n      }\r\n      :after {\r\n        opacity:1;\r\n      }\r\n    }\r\n    @media (max-width:768px){\r\n      top:120px;\r\n    }\r\n    @media (max-width:600px) {\r\n      left:100%;\r\n      width:30px;\r\n      height:30px;\r\n      top:180px;\r\n      &.hidden svg {\r\n        transform:rotate(0deg);\r\n      }\r\n      :after {\r\n        display:none;\r\n      }\r\n      &.active {\r\n        left:90%;\r\n      }\r\n      &.active svg {\r\n        transform:rotate(90deg);\r\n      }\r\n    }\r\n  }\r\n  \r\n\r\n  div {\r\n    div {\r\n      p {\r\n        line-height:1.5;\r\n        margin:0;\r\n        display:inline-block;\r\n      }\r\n    }\r\n  }\r\n  h2 {\r\n    padding:15px 0 5px 0;\r\n    margin:0;\r\n    display:inline-block;\r\n    max-width:200px;\r\n  }\r\n  h6 {\r\n    padding:0 0 15px 0;\r\n    margin:0;\r\n    a {\r\n      color:${colors.yellow};\r\n      text-decoration:none;\r\n    }\r\n  }\r\n  .extraPadding {\r\n    padding-bottom:20vh;\r\n  }\r\n`\r\n\r\nconst ReportWrapper = styled.div`\r\n  height:100vh;\r\n  overflow-y:scroll;\r\n`\r\n\r\nconst ReportContainer = styled.div`\r\n    padding:5px 0 0 30px;\r\n    box-sizing:border-box;\r\n    overflow-x:visible;\r\n    // display:flex;\r\n    // flex-direction:column;\r\n    // flex-wrap:wrap;\r\n    // width:500px;\r\n    // columns:${props => props.cols} 250px;\r\n    // column-gap:10px;\r\n    // display:inline-block;\r\n    h3 {\r\n      font-size:${props => props.expanded ? '150%' : '100%'};\r\n      display:${props => props.expanded ? 'block' : 'inline'};\r\n      margin:${props => props.expanded ? '0': '0 15px 0 0'};\r\n      padding:${props => props.expanded ? '0 0 15px 0 !important': '0'};\r\n      &:before {\r\n        content: ': ';\r\n        display: ${props => props.expanded ? 'none' : 'initial'};\r\n      }\r\n      &:after {\r\n        content:\" \";\r\n        white-space:pre;\r\n        height:0;\r\n        display: ${props => props.expanded ? 'none' : 'block'};\r\n      }\r\n    }\r\n    div.numberChartContainer {\r\n      width:100%;\r\n      display:${props => props.expanded ? 'flex' : 'inline'};\r\n      align-items: center;\r\n    }\r\n    div.numberContainer {\r\n      display:${props => props.expanded ? 'flex' : 'inline'};\r\n    }\r\n    .bigOnly {\r\n      display: ${props => props.expanded ? 'initial' : 'none'};\r\n    }\r\n    \r\n`\r\n\r\nconst ReportSection = styled.span`\r\n    padding-right:20px;\r\n    box-sizing:border-box;\r\n    // width:100%;\r\n    // display:inline-block;\r\n    padding: 0;\r\n    margin: 0;\r\n`\r\n\r\nconst ExpandSelect = styled(FormControl)`\r\n  outline:none;\r\n  border:none;\r\n  position:absolute !important;\r\n  right:25px;\r\n  top:15px;\r\n  div.MuiInputBase-root:before {\r\n    display:none !important;\r\n  }\r\n  div.MuiInputBase-root:after {\r\n    display:none !important;\r\n  }\r\n  svg {\r\n    path {\r\n      fill:white;\r\n    }\r\n  }\r\n\r\n`\r\n\r\nconst DataPanel = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const storedData = useSelector(state => state.storedData);\r\n  // name of current data set\r\n  const currentData = useSelector(state => state.currentData);\r\n  // current date and index\r\n  const currDateIndex = useSelector(state => state.dataParams.nIndex);\r\n  const dates = useSelector(state => state.dates);\r\n  const selectionKeys = useSelector(state => state.selectionKeys);\r\n  const selectionIndex = useSelector(state => state.selectionIndex);\r\n  // panels open/close state\r\n  const panelState = useSelector(state => state.panelState);\r\n  //column names\r\n  const cols = useSelector(state => state.cols);\r\n  const [expanded, setExpanded] = useState(true)\r\n\r\n  // de-structure sidebarData, which houses selected geography data\r\n  const datasetList = ['properties', 'cases', 'deaths', 'predictions',\r\n    'chr_health_factors', 'chr_life', 'chr_health_context',\r\n    'testing', 'vaccinesAdmin']\r\n  const [ properties, cases, deaths, predictions,\r\n    chr_health_factors, chr_life, chr_health_context,\r\n    testing, vaccinesAdmin\r\n  ] = datasetList.map(dataset => {\r\n    if (storedData[currentData] === undefined) {\r\n      return false \r\n    } else {\r\n      return storedData[currentData][0].hasOwnProperty(dataset)\r\n    }\r\n  });\r\n\r\n  \r\n  // helper for predictions data\r\n  const parsePredictedDate = (list) => `${list.slice(-2,)[0]}/${list.slice(-1,)[0]}`\r\n\r\n  // handles panel open/close\r\n  const handleOpenClose = () => panelState.info ? dispatch(setPanelState({info:false})) : dispatch(setPanelState({info:true}))\r\n  \r\n  // DRY issue -- refactor these functions\r\n\r\n  const performOperation = (dataArray, operation, totalPopulation) => {\r\n    const reducer = (accumulator, currentValue) => accumulator + currentValue;\r\n    switch(operation) {\r\n      case 'sum':\r\n        return dataArray.reduce(reducer)\r\n      case 'average':\r\n        return dataArray.reduce(reducer)/dataArray.length\r\n      case 'weighted_average':\r\n        return Math.round(dataArray.reduce(reducer)/totalPopulation*100)/100\r\n      default:\r\n        return null\r\n    }\r\n  } \r\n\r\n  const aggregateProperty = (dataset, property, operation, specialCase=null) => {\r\n    let dataArray; \r\n    let totalPopulation = 0;\r\n    try {\r\n      if (operation === 'weighted_average') {\r\n        dataArray = selectionIndex.map(selection => {\r\n          let selectionPop = storedData[currentData][selection]['properties']['population'];\r\n          totalPopulation+=selectionPop;\r\n          if (specialCase === 'pcp') try { return parseInt(storedData[currentData][selection][dataset][property].split(':')[0])*selectionPop } catch { return 0}\r\n          return storedData[currentData][selection][dataset][property]*selectionPop\r\n        })\r\n      } else {\r\n        dataArray = selectionIndex.map(selection => storedData[currentData][selection][dataset][property]);\r\n      }\r\n    } catch {\r\n      return 0\r\n    }\r\n\r\n    return performOperation(dataArray, operation, totalPopulation);\r\n  }\r\n\r\n  const aggregateTimeseries = (dataset, index, operation) => {\r\n    let dataArray; \r\n    let totalPopulation = 0;\r\n    try {\r\n      if (operation === 'weighted_average') {\r\n        dataArray = selectionIndex.map(selection => {\r\n          let selectionPop = storedData[currentData][selection]['properties']['population'];\r\n          totalPopulation+=selectionPop;\r\n          return storedData[currentData][selection][dataset].slice(index,)[0]*selectionPop\r\n        })\r\n      } else {\r\n        dataArray = selectionIndex.map(selection => storedData[currentData][selection][dataset].slice(index,)[0]);\r\n      }\r\n    } catch {\r\n      return 0\r\n    }\r\n\r\n    return performOperation(dataArray, operation, totalPopulation);\r\n  }\r\n\r\n  const aggregate2WeekTimeSeries = (dataset, index, operation) => {\r\n    let lookbackPeriod = []\r\n    let rtn;\r\n\r\n    try {\r\n      for (let i=-13;i<1;i++) {\r\n        lookbackPeriod.push(index+i)\r\n      }\r\n      rtn = lookbackPeriod.map(day => aggregateTimeseries(dataset, day, operation))\r\n    } catch {\r\n      return 0\r\n    }\r\n    return rtn;\r\n  }\r\n  \r\n  const aggregateDataFunction = (numerator, denominator, params, operation) => {\r\n    \r\n    let dataArray; \r\n    let totalPopulation = 0;\r\n    try {\r\n      if (operation === 'weighted_average') {\r\n        dataArray = selectionIndex.map(selection => {\r\n          let selectionPop = storedData[currentData][selection]['properties']['population'];\r\n          totalPopulation+=selectionPop;\r\n          return dataFn(storedData[currentData][selection][numerator], storedData[currentData][selection][denominator], params)*selectionPop\r\n        })\r\n      } else {\r\n        dataArray = selectionIndex.map(selection => dataFn(storedData[currentData][selection][numerator], storedData[currentData][selection][denominator], params));\r\n      }\r\n    } catch {\r\n      return 0\r\n    }\r\n\r\n    return performOperation(dataArray, operation, totalPopulation);\r\n  }\r\n\r\n  const handleExpandContract = (event) => {\r\n    setExpanded(event.target.value)\r\n  }\r\n\r\n  \r\n\r\n  const aggregateQualitative = (dataset, property) => {\r\n    let dataObj = {};\r\n    let returnStr = [];\r\n    try {\r\n      let dataArray = selectionIndex.map(selection => storedData[currentData][selection][dataset][property]);\r\n    \r\n      for (let i=0; i<dataArray.length; i++){\r\n        if (dataObj[dataArray[i]] === undefined) {\r\n          dataObj[dataArray[i]] = 1\r\n        } else {\r\n          dataObj[dataArray[i]] += 1\r\n        }\r\n      }  \r\n      for (let i=0; i<Object.keys(dataObj).length; i++){\r\n        returnStr.push(`${[Object.keys(dataObj)[i]]}: ${Math.round(dataObj[Object.keys(dataObj)[i]]/dataArray.length*10000)/100}%`)\r\n      }\r\n    } catch {\r\n      return 0\r\n    }\r\n    return returnStr;\r\n  }\r\n\r\n  return (\r\n    <DataPanelContainer className={panelState.info ? 'open' : ''} id=\"data-panel\"  otherPanels={panelState.variables} dataLength={selectionKeys.length}>\r\n      {properties &&  \r\n      <ExpandSelect>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={null}\r\n          onChange={handleExpandContract}\r\n        >\r\n          <MenuItem value={true}>Expanded</MenuItem>\r\n          <MenuItem value={false}>Compact</MenuItem>\r\n        </Select>\r\n      </ExpandSelect>\r\n      }\r\n      <ReportWrapper>\r\n        <ReportContainer expanded={expanded}>\r\n          <ReportSection>\r\n            {(properties && selectionIndex.length < 4) && <h2>{selectionKeys.map((key, index) => index === selectionKeys.length-1 ? selectionKeys.length === 1 ? key : `and ${key}` : `${key}, `)}</h2>}\r\n            {(properties && selectionIndex.length >= 4) && <h2>{(currentData.includes('county')||currentData.includes('cdc')) ? 'Selected Counties' : 'Selected States'}</h2>}\r\n            <br/>\r\n          {(properties && selectionIndex.length) && \r\n              <span>\r\n                <h4>{dates[currDateIndex]}</h4>\r\n                <p>Population</p>\r\n                <h3>{aggregateProperty('properties', 'population', 'sum').toLocaleString('en')}</h3>\r\n              </span>\r\n            }       \r\n          </ReportSection>\r\n          {(cases && deaths && selectionIndex.length) && \r\n              <ReportSection>\r\n                <p>Total Cases</p>\r\n                <div className=\"numberChartContainer\">\r\n                  <h3>{aggregateTimeseries('cases', currDateIndex, 'sum')?.toLocaleString('en')}</h3>\r\n                  {expanded && <TwoWeekChart data={aggregate2WeekTimeSeries('cases', currDateIndex, 'sum')} schema='cases/deaths'/>}\r\n                </div>\r\n                <p>Total Deaths </p>\r\n                <div className=\"numberChartContainer\">\r\n                  <h3>{aggregateTimeseries('deaths', -1, 'sum')?.toLocaleString('en')}</h3>\r\n                  {expanded && <TwoWeekChart data={aggregate2WeekTimeSeries('deaths', currDateIndex, 'sum')} schema='cases/deaths'/>}\r\n                </div>\r\n                <p>Cases per 100k Population</p>\r\n                <h3>{aggregateDataFunction('cases', 'properties', {nProperty: null, nIndex: currDateIndex, nRange: null, dProperty: 'population', dIndex: null, dRange: null, scale: 100000}, 'weighted_average')?.toFixed(2).toLocaleString('en')}</h3>\r\n                <p>Deaths per 100k Population</p>\r\n                <h3>{aggregateDataFunction('deaths', 'properties', {nProperty: null, nIndex: currDateIndex, nRange: null, dProperty: 'population', dIndex: null, dRange: null, scale: 100000}, 'weighted_average')?.toFixed(2).toLocaleString('en')}</h3>\r\n                <p>New Cases per 100k Population</p>\r\n                <h3>{aggregateDataFunction('cases', 'properties', {nProperty: null, nIndex: currDateIndex, nRange: 1, dProperty: 'population', dIndex: null, dRange: null, scale: 100000}, 'weighted_average')?.toFixed(2).toLocaleString('en')}</h3>\r\n                <p>New Deaths per 100k Population</p>\r\n                <h3>{aggregateDataFunction('deaths', 'properties', {nProperty: null, nIndex: currDateIndex, nRange: 1, dProperty: 'population', dIndex: null, dRange: null, scale: 100000}, 'weighted_average')?.toFixed(2).toLocaleString('en')}</h3>\r\n                <p>Licensed Hospital Beds</p>\r\n                <h3>{aggregateProperty('properties','beds','sum').toLocaleString('en')}</h3>\r\n                {/* <p>Cases per Bed: {dataFn(cases, null, cases.length-1, null, properties, 'beds', null, null, 1)?.toFixed(2)?.toLocaleString('en')}</p><br/> */}\r\n              </ReportSection>\r\n            }\r\n          {(testing && selectionIndex.length) &&\r\n              <ReportSection>\r\n                <h2>Testing</h2><br/>\r\n                <p>7-Day Positivity Rate</p>\r\n                <div className=\"numberChartContainer\">\r\n                  <h3>{Math.round(aggregateTimeseries('testing_wk_pos', currDateIndex, 'weighted_average')*100)}%</h3>\r\n                  {expanded && <TwoWeekChart data={aggregate2WeekTimeSeries('testing_wk_pos', currDateIndex, 'weighted_average')} schema='testingPos'/>}\r\n                </div>\r\n\r\n                <p>7-Day Testing Capacity<br className=\"bigOnly\"/> per 100k People</p>\r\n                <div className=\"numberChartContainer\">\r\n                  <h3>{Math.round(aggregateTimeseries('testing_tcap', currDateIndex, 'weighted_average')*100)/100}</h3>\r\n                  {expanded && <TwoWeekChart data={aggregate2WeekTimeSeries('testing_tcap', currDateIndex, 'weighted_average')} schema='testingCap'/>}\r\n                </div>\r\n\r\n                <p>Total Testing</p>\r\n                <h3>{aggregateTimeseries('testing', currDateIndex, 'sum')?.toLocaleString('en')}</h3>\r\n\r\n                <p>7-Day Confirmed Cases<br className=\"bigOnly\"/>  per Testing</p>\r\n                <h3>{Math.round(aggregateTimeseries('testing_ccpt', currDateIndex, 'weighted_average')?.toLocaleString('en')*100)}%</h3>\r\n\r\n                <p>Testing Criterion</p><br className=\"bigOnly\"/>\r\n                <h3>{aggregateQualitative('properties', 'criteria').map(f => <span>{f}<br/></span>)}</h3>\r\n              </ReportSection>\r\n            }\r\n            {(vaccinesAdmin && selectionIndex.length) &&\r\n                <ReportSection>\r\n                  <h2>COVID Vaccination</h2><br/>\r\n                  <h6>Source: <a href=\"https://covid.cdc.gov/covid-data-tracker/#vaccinations\" target=\"_blank\" rel=\"noopener noreferrer\">CDC COVID Data Tracker</a></h6>            \r\n                \r\n                  <p>Vaccines Administered</p>\r\n                  <div className=\"numberChartContainer\">\r\n                    <h3>{Math.round(aggregateTimeseries('vaccinesAdmin', currDateIndex, 'weighted_average'))?.toLocaleString('en')}</h3>\r\n                    {expanded && <TwoWeekChart data={aggregate2WeekTimeSeries('vaccinesAdmin', currDateIndex, 'weighted_average')} schema='vaccination'/>}\r\n                  </div>\r\n                  <p>Vaccines Administered<br className=\"bigOnly\"/> Per 100k Population</p>\r\n                  <h3>{aggregateDataFunction('vaccinesAdmin', 'properties', {nProperty: null, nIndex: currDateIndex, nRange: null, dProperty: 'population', dIndex: null, dRange: null, scale: 100000}, 'weighted_average')?.toFixed(2).toLocaleString('en')}</h3>\r\n                  \r\n                  <p>Vaccines Distributed</p>\r\n                  <div className=\"numberChartContainer\">\r\n                    <h3>{Math.round(aggregateTimeseries('vaccinesDist', currDateIndex, 'weighted_average'))?.toLocaleString('en')}</h3>\r\n                    {expanded && <TwoWeekChart data={aggregate2WeekTimeSeries('vaccinesDist', currDateIndex, 'weighted_average')} schema='vaccination'/>}\r\n                  </div>\r\n\r\n                  <p>Vaccines Distributed<br className=\"bigOnly\"/>  Per 100k Population</p>\r\n                  <h3>{aggregateDataFunction('vaccinesDist', 'properties', {nProperty: null, nIndex: currDateIndex, nRange: null, dProperty: 'population', dIndex: null, dRange: null, scale: 100000}, 'weighted_average')?.toFixed(2).toLocaleString('en')}</h3>\r\n                \r\n                </ReportSection>\r\n              }\r\n          {(chr_health_factors && selectionIndex.length) && \r\n            <ReportSection>\r\n              <h2>Community Health Factors<Tooltip id=\"healthfactor\"/></h2>\r\n              <h6>Source: <a href=\"https://www.countyhealthrankings.org/\" target=\"_blank\" rel=\"noopener noreferrer\">County Health Rankings</a></h6>\r\n              <p>Children in poverty</p><Tooltip id=\"PovChldPrc\"/>\r\n              <h3>{aggregateProperty('chr_health_factors', colLookup(cols, currentData, 'chr_health_factors', 'PovChldPrc'), 'weighted_average')}%</h3>\r\n              <p>Income inequality<Tooltip id=\"IncRt\"/></p>\r\n              <h3>{aggregateProperty('chr_health_factors', colLookup(cols, currentData, 'chr_health_factors', 'IncRt'), 'weighted_average')}</h3>\r\n\r\n              <p>Median household income</p><Tooltip id=\"MedianHouseholdIncome\"/>\r\n              <h3>${aggregateProperty('chr_health_factors', colLookup(cols, currentData, 'chr_health_factors', 'MedianHouseholdIncome'), 'weighted_average').toLocaleString('en')}</h3>\r\n\r\n              <p>Food insecurity</p><Tooltip id=\"FdInsPrc\"/>\r\n              <h3>{aggregateProperty('chr_health_factors', colLookup(cols, currentData, 'chr_health_factors', 'FdInsPrc'), 'weighted_average')}%</h3>\r\n\r\n              <p>Unemployment</p><Tooltip id=\"UnEmplyPrc\"/>\r\n              <h3>{aggregateProperty('chr_health_factors', colLookup(cols, currentData, 'chr_health_factors', 'UnEmplyPrc'), 'weighted_average')}%</h3>\r\n\r\n              <p>Uninsured</p><Tooltip id=\"UnInPrc\"/>\r\n              <h3>{aggregateProperty('chr_health_factors', colLookup(cols, currentData, 'chr_health_factors', 'UnInPrc'), 'weighted_average')}%</h3>\r\n\r\n              <p>Primary care physicians</p><Tooltip id=\"PrmPhysRt\"/>\r\n              <h3>{Math.round(aggregateProperty('chr_health_factors', colLookup(cols, currentData, 'chr_health_factors', 'PrmPhysRt'), 'weighted_average', 'pcp'))}:1</h3>\r\n\r\n              <p>Preventable hospital stays</p><Tooltip id=\"PrevHospRt\"/>\r\n              <h3>{aggregateProperty('chr_health_factors', colLookup(cols, currentData, 'chr_health_factors', 'PrevHospRt'), 'sum')}</h3>\r\n\r\n              <p>Residential segregation black/white</p>\r\n              <h3>{aggregateProperty('chr_health_factors', colLookup(cols, currentData, 'chr_health_factors', 'RsiSgrBlckRt'), 'weighted_average')}</h3>\r\n\r\n              <p>Severe housing problems</p><Tooltip id=\"SvrHsngPrbRt\"/>\r\n              <h3>{aggregateProperty('chr_health_factors', colLookup(cols, currentData, 'chr_health_factors', 'SvrHsngPrbRt'), 'weighted_average')}%</h3>\r\n            </ReportSection>\r\n          }\r\n          {(chr_health_context && selectionIndex.length) && \r\n              <ReportSection>\r\n                <h2>Community Health Context<Tooltip id=\"healthcontext\"/></h2>\r\n                <h6>Source: <a href=\"https://www.countyhealthrankings.org/\" target=\"_blank\" rel=\"noopener noreferrer\">County Health Rankings</a></h6>\r\n\r\n                <p>65 and older<Tooltip id=\"Over65YearsPrc\"/></p>\r\n                <h3>{aggregateProperty('chr_health_context', colLookup(cols, currentData, 'chr_health_context', 'Over65YearsPrc'), 'weighted_average')}%</h3>\r\n\r\n                <p>Adult obesity<Tooltip id=\"AdObPrc\"/></p>\r\n                <h3>{aggregateProperty('chr_health_context', colLookup(cols, currentData, 'chr_health_context', 'AdObPrc'), 'weighted_average')}%</h3>\r\n\r\n                <p>Diabetes prevalence<Tooltip id=\"AdDibPrc\"/></p>\r\n                <h3>{aggregateProperty('chr_health_context', colLookup(cols, currentData, 'chr_health_context', 'AdDibPrc'), 'weighted_average')}%</h3>\r\n\r\n                <p>Adult smoking<Tooltip id=\"SmkPrc\"/></p>\r\n                <h3>{aggregateProperty('chr_health_context', colLookup(cols, currentData, 'chr_health_context', 'SmkPrc'), 'weighted_average')}%</h3>\r\n\r\n                <p>Excessive drinking<Tooltip id=\"ExcDrkPrc\"/></p>\r\n                <h3>{aggregateProperty('chr_health_context', colLookup(cols, currentData, 'chr_health_context', 'ExcDrkPrc'), 'weighted_average')}%</h3>\r\n\r\n                <p>Drug overdose deaths<Tooltip id=\"DrOverdMrtRt\"/></p>\r\n                <h3>{aggregateProperty('chr_health_context', colLookup(cols, currentData, 'chr_health_context', 'DrOverdMrtRt'), 'sum')||0}</h3>\r\n\r\n              </ReportSection>\r\n            }\r\n          {(chr_life && selectionIndex.length) &&\r\n              <ReportSection expanded={expanded}>\r\n                <h2>Length &amp; Quality of Life<Tooltip id=\"healthlife\"/></h2>\r\n                <h6>Source: <a href=\"https://www.countyhealthrankings.org/\" target=\"_blank\" rel=\"noopener noreferrer\">County Health Rankings</a></h6>\r\n                \r\n                <p>Life expectancy<Tooltip id=\"LfExpRt\"/></p>\r\n                <h3>{aggregateProperty('chr_life', colLookup(cols, currentData, 'chr_life', 'LfExpRt'), 'weighted_average')}</h3>\r\n\r\n                <p>Self-rated health<Tooltip id=\"SlfHlthPrc\"/></p>\r\n                <h3>{aggregateProperty('chr_life', colLookup(cols, currentData, 'chr_life', 'SlfHlthPrc'), 'weighted_average')}%</h3>\r\n\r\n              </ReportSection>\r\n            }\r\n          {(predictions && cols[currentData] && cols[currentData].predictions && selectionIndex.length) && \r\n              <ReportSection>\r\n                <h2>Forecasting</h2><br/>            \r\n                <h6>Source: <a href=\"https://github.com/Yu-Group/covid19-severity-prediction/\" target=\"_blank\" rel=\"noopener noreferrer\">Yu Group at Berkeley</a></h6>            \r\n                \r\n                <p>5-Day Severity Index<Tooltip id=\"SeverityIndex\"/></p>\r\n                <h3> {['','Low','Medium','High'][Math.round(aggregateProperty('predictions', 1, 'weighted_average'))]}</h3>\r\n                \r\n                <p>Predicted Deaths by {parsePredictedDate(cols[currentData].predictions[2].split('_'))}<Tooltip id=\"PredictedDeaths\"/></p>\r\n                <h3>{Math.round(aggregateProperty('predictions', 2, 'sum')*10)/10}</h3>\r\n              \r\n                <p>Predicted Deaths by {parsePredictedDate(cols[currentData].predictions[4].split('_'))}<Tooltip id=\"PredictedDeaths\"/></p>\r\n                <h3>{Math.round(aggregateProperty('predictions', 4, 'sum')*10)/10}</h3>\r\n                \r\n                <p>Predicted Deaths by {parsePredictedDate(cols[currentData].predictions[6].split('_'))}<Tooltip id=\"PredictedDeaths\"/></p>\r\n                <h3>{Math.round(aggregateProperty('predictions', 6, 'sum')*10)/10}</h3>\r\n                \r\n                <p>Predicted Deaths by {parsePredictedDate(cols[currentData].predictions[8].split('_'))}<Tooltip id=\"PredictedDeaths\"/></p>\r\n                <h3>{Math.round(aggregateProperty('predictions', 8, 'sum')*10)/10}</h3>\r\n                \r\n                <p>Predicted Deaths by {parsePredictedDate(cols[currentData].predictions[10].split('_'))}<Tooltip id=\"PredictedDeaths\"/></p>\r\n                <h3>{Math.round(aggregateProperty('predictions', 10, 'sum')*10)/10}</h3>\r\n                \r\n                <p>Predicted Deaths by {parsePredictedDate(cols[currentData].predictions[12].split('_'))}<Tooltip id=\"PredictedDeaths\"/></p>\r\n                <h3>{Math.round(aggregateProperty('predictions', 12, 'sum')*10)/10}</h3>\r\n                \r\n                <p>Predicted Deaths by {parsePredictedDate(cols[currentData].predictions[14].split('_'))}<Tooltip id=\"PredictedDeaths\"/></p>\r\n                <h3>{Math.round(aggregateProperty('predictions', 14, 'sum')*10)/10}</h3>\r\n              \r\n              </ReportSection>\r\n            }\r\n          \r\n          <div className=\"extraPadding\"></div>\r\n          \r\n          {properties && <button onClick={handleOpenClose} id=\"showHideRight\" className={panelState.info ? 'active' : 'hidden'}>{report}</button>}\r\n          {/* {properties && <ResizeButton \r\n                  id=\"resize\"\r\n                  onMouseDown={handleDown}\r\n                  onTouchStart={handleTouch}\r\n                  style={{zIndex:10}}\r\n              >\r\n                  {verticalGrip}\r\n              </ResizeButton>} */}\r\n        </ReportContainer>\r\n      </ReportWrapper>\r\n    </DataPanelContainer>\r\n  );\r\n}\r\n\r\nexport default DataPanel;","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Button from '@material-ui/core/Button';\r\nimport styled from 'styled-components';\r\nimport { setVariableParams, incrementDate } from '../actions';\r\n\r\nconst SliderContainer = styled.div`\r\n    color: white;\r\n    box-sizing:border-box;\r\n    padding:5px 20px 5px 20px;\r\n    width:100%;\r\n`\r\nconst PlayPauseContainer = styled(Grid)`\r\n    height:0;\r\n    padding:0;\r\n    margin:0;\r\n`\r\n\r\nconst PlayPauseButton = styled(Button)`\r\n    background:none;\r\n    padding:0;\r\n    margin:0;\r\n    transform:translate(-20px, -5px);\r\n    @media (max-width: 600px) {\r\n        transform:translate(-20px, 3px);\r\n    }\r\n    svg {\r\n        width: 24px;\r\n        height:24px;\r\n        @media (max-width: 600px) {\r\n            width: 20px;\r\n            height:20px;\r\n        }\r\n        g {\r\n            fill: white;\r\n        },\r\n        path {\r\n            fill:white;\r\n        }\r\n    }\r\n    &.MuiButton-text {\r\n        padding:6px 0;\r\n    }\r\n`\r\n\r\nconst LineSlider = styled(Slider)`\r\n    &.MuiSlider-root {\r\n        width:68%;\r\n        margin-left:15%;\r\n        box-sizing:border-box;\r\n        color:#FFFFFF55;\r\n        @media (max-width: 600px) {\r\n            width:50%;\r\n            margin-left:24%;\r\n        }\r\n    }\r\n    span.MuiSlider-rail {\r\n        // display:none;\r\n    }\r\n    span.MuiSlider-track {\r\n        // color:white;\r\n        // height:4px;\r\n        display:none;\r\n    }\r\n    span.MuiSlider-thumb {\r\n        color:white;\r\n        width:15px;\r\n        height:15px;\r\n        transform:translate(-1.5px, -1.5px);\r\n        .MuiSlider-valueLabel {\r\n            transform:translateY(-10px);\r\n            pointer-events:none;\r\n            font-size:15px;\r\n            span {\r\n                background: none;\r\n            }\r\n        }\r\n    }\r\n    span.MuiSlider-mark {\r\n        width:1px;\r\n        height:2px;\r\n    }\r\n    // .MuiSlider-valueLabel span{\r\n    //     transform:translateX(-100%);        \r\n    // }\r\n    span.MuiSlider-thumb.MuiSlider-active {\r\n        box-shadow: 0px 0px 10px rgba(200,200,200,0.5);\r\n    }\r\n`\r\n\r\nconst RangeSlider = styled(Slider)`\r\n    box-sizing:border-box;\r\n    &.MuiSlider-root {\r\n        width:70%;\r\n        margin-left:13%;\r\n        box-sizing:border-box;\r\n        color:#FFFFFF55;\r\n        padding-top: 50px;\r\n        @media (max-width: 600px) {\r\n            width:90%;\r\n            margin-left:0;\r\n        }\r\n    }\r\n    span.MuiSlider-rail {\r\n        color:white;\r\n        height:4px;\r\n        display:none;\r\n    }\r\n    span.MuiSlider-track {\r\n        color:white;\r\n        height:4px;\r\n        display:none;\r\n    }\r\n    span.MuiSlider-thumb {\r\n        color:white;\r\n        .MuiSlider-valueLabel {\r\n            transform:translateY(0px);\r\n            pointer-events:none;\r\n            span {\r\n                background: none;\r\n            }\r\n        }\r\n    }\r\n    span.MuiSlider-mark {\r\n        width:1px;\r\n        height:2px;\r\n    }\r\n    span.MuiSlider-thumb.MuiSlider-active: {\r\n        box-shadow: 0px 0px 10px rgba(200,200,200,0.5);\r\n    }\r\n`\r\n\r\nconst DateTitle = styled.h3`\r\n    width:100%;\r\n    font-size:1.05rem;\r\n    padding:10px 0 5px 0;\r\n    margin:0;\r\n    left:0;\r\n    text-align:center;\r\n    pointer-events:none;\r\n`\r\nconst InitialDate = styled.p`\r\n    position:absolute;\r\n    left:10%;\r\n    bottom:8px;\r\n    font-size:75%;\r\n    @media (max-width: 600px) {\r\n        bottom:15px;\r\n        left:12%;\r\n    }\r\n`\r\n\r\nconst EndDate = styled(InitialDate)`\r\n    left:initial;\r\n    right:10px;\r\n`\r\n\r\nconst DateSelectorContainer = styled(Grid)`\r\n    display:flex;\r\n    justify-items: center;\r\n    justify-content: flex-end;\r\n    align-items:center;\r\n    margin:0;\r\n    padding:0;\r\n    .MuiFormControl-root {\r\n        padding: 0 0 0 20px !important; \r\n    }\r\n    span {\r\n        font-weight:bold;\r\n    }\r\n    #dateSelector {\r\n        position:absolute;\r\n        left:50%;\r\n        transform:translateX(-50%);\r\n        @media (max-width: 600px) {\r\n            transform:none;\r\n            left:20px;\r\n        }\r\n        @media (max-width: 450px) {\r\n            transform:none;\r\n            left:0px;\r\n        }\r\n    }\r\n`\r\nconst DateSlider = () => {\r\n    const dispatch = useDispatch();  \r\n\r\n    const currentData = useSelector(state => state.currentData);\r\n    const dataParams = useSelector(state => state.dataParams);\r\n    const dateIndices = useSelector(state => state.dateIndices);\r\n    const dates = useSelector(state => state.dates);\r\n    const currentVariable = useSelector(state => state.currentVariable);\r\n    \r\n    const [timerId, setTimerId] = useState(null);\r\n    \r\n    const handleChange = (event, newValue) => {\r\n\r\n        if (dataParams.nType === \"time-series\" && dataParams.dType === \"time-series\") {\r\n            dispatch(setVariableParams({nIndex: newValue, dIndex: newValue}))\r\n        } else if (dataParams.nType === \"time-series\") {\r\n            dispatch(setVariableParams({nIndex: newValue}))\r\n        } else if (dataParams.dType === \"time-series\") {\r\n            dispatch(setVariableParams({dIndex: newValue}))\r\n        } else if (currentVariable.includes('Testing')){\r\n            dispatch(setVariableParams({nIndex: newValue}))\r\n        }\r\n    };\r\n        \r\n    const handleRangeChange = (event, newValue) => { \r\n        if (dataParams.dRange) {\r\n            dispatch(setVariableParams(\r\n                {\r\n                    nIndex: newValue[1], \r\n                    nRange: newValue[1]-newValue[0],\r\n                    rIndex: newValue[1], \r\n                    rRange: newValue[1]-newValue[0]\r\n                }\r\n            ))\r\n        } else {\r\n            dispatch(setVariableParams(\r\n                {\r\n                    nIndex: newValue[1], \r\n                    nRange: newValue[1]-newValue[0]\r\n                }\r\n            ))\r\n        }\r\n    }\r\n\r\n    const handlePlayPause = (timerId, rate, interval) => {\r\n        if (timerId === null) {\r\n            setTimerId(setInterval(o => dispatch(incrementDate(rate)), interval))\r\n        } else {\r\n            clearInterval(timerId);\r\n            setTimerId(null)\r\n        }\r\n    }\r\n\r\n    const valuetext = (value) => `${dates[value].slice(-5,-3)}-${dates[value].slice(2,4)}`;\r\n    \r\n    const formatDate = (date) => {\r\n        const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n        let rawDate = new Date(date);\r\n        rawDate.setDate(rawDate.getDate() + 1);\r\n        return rawDate.toLocaleDateString('en-US', options);\r\n    }\r\n    \r\n    if (dateIndices[currentData] !== undefined) {\r\n        return (\r\n            <SliderContainer>\r\n                <Grid container spacing={2} style={{display:'flex', padding: '0 0 10px 0'}}>\r\n                        {dataParams.rangeType !== 'custom' && \r\n                            <DateSelectorContainer item xs={12}>\r\n                                <DateTitle>{dataParams.nType !== 'characteristic' ? formatDate(`${dates[dataParams.nIndex]}`) : 'Characteristic Data'}</DateTitle>\r\n                            </DateSelectorContainer>\r\n                        } \r\n                    \r\n                    {dataParams.nType !== 'characteristic' && <PlayPauseContainer item xs={1}>\r\n                        <PlayPauseButton id=\"playPause\" onClick={() => handlePlayPause(timerId, 1, 100)}>\r\n                            {timerId === null ? \r\n                                <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" ><path d=\"M78.627,47.203L24.873,16.167c-1.082-0.625-2.227-0.625-3.311,0C20.478,16.793,20,17.948,20,19.199V81.27  c0,1.25,0.478,2.406,1.561,3.031c0.542,0.313,1.051,0.469,1.656,0.469c0.604,0,1.161-0.156,1.703-0.469l53.731-31.035  c1.083-0.625,1.738-1.781,1.738-3.031C80.389,48.984,79.71,47.829,78.627,47.203z\"></path></svg>\r\n                                : \r\n                                <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\">\r\n                                    <g transform=\"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)\">\r\n                                        <g>\r\n                                            <path d=\"M22.4,0.6c3.4,0,6.8,0,10.3,0c6.5,0,11.8,5.3,11.8,11.8c0,25,0,50.1,0,75.2c0,6.5-5.3,11.8-11.8,11.8\r\n                                                c-3.4,0-6.8,0-10.3,0c-6.5,0-11.8-5.3-11.8-11.8c0-25.1,0-50.2,0-75.2C10.6,5.9,15.9,0.6,22.4,0.6z M22.4,6.5c3.4,0,6.8,0,10.3,0\r\n                                                c3.2,0,5.9,2.6,5.9,5.9c0,25,0,50.1,0,75.2c0,3.2-2.7,5.9-5.9,5.9c-3.4,0-6.8,0-10.3,0c-3.2,0-5.9-2.7-5.9-5.9\r\n                                                c0-25.1,0-50.2,0-75.2C16.5,9.1,19.2,6.5,22.4,6.5z M67.3,6.5c3.4,0,6.8,0,10.2,0s6,2.6,6,5.9c0,25,0,50.1,0,75.2\r\n                                                c0,3.2-2.7,5.9-6,5.9s-6.7,0-10.2,0c-3.3,0-5.9-2.7-5.9-5.9c0-25.1,0-50.2,0-75.2C61.4,9.1,64,6.5,67.3,6.5z M67.3,0.6\r\n                                                c3.4,0,6.8,0,10.2,0c6.5,0,11.8,5.3,11.8,11.8c0,25,0,50.1,0,75.2c0,6.5-5.3,11.8-11.8,11.8c-3.3,0-6.7,0-10.2,0\r\n                                                c-6.5,0-11.8-5.3-11.8-11.8c0-25.1,0-50.2,0-75.2C55.5,5.9,60.8,0.6,67.3,0.6z\"/>\r\n                                        </g>\r\n                                    </g>\r\n                                </svg>\r\n\r\n                            }\r\n                        </PlayPauseButton>\r\n                    </PlayPauseContainer>}\r\n                    <Grid item xs={11}> {/* Sliders Grid Item */}\r\n                        {/* Main Slider for changing date */}\r\n                        { (dataParams.rangeType !== 'custom' && dataParams.nType !== \"characteristic\") && \r\n                            <LineSlider \r\n                                id=\"timeSlider\"\r\n                                value={dataParams.nIndex} \r\n                                // valueLabelDisplay=\"on\"\r\n                                onChange={handleChange} \r\n                                // getAriaValueText={valuetext}\r\n                                // valueLabelFormat={valuetext}\r\n                                // aria-labelledby=\"aria-valuetext\"\r\n                                min={1}\r\n                                max={dates.length}\r\n                                marks={(dateIndices.hasOwnProperty(currentData) && dateIndices[currentData].hasOwnProperty(dataParams.numerator)) && dateIndices[currentData][dataParams.numerator].map(date => { return { value: date }})}\r\n                                step={null}\r\n                                characteristic={dataParams.nType===\"characteristic\"}\r\n                        />}\r\n                        {/* Slider for bin date */}\r\n                        {/* {!customRange && \r\n                            <BinSlider \r\n                                value={dataParams.binIndex} \r\n                                valueLabelDisplay=\"auto\"\r\n                                onChange={handleBinChange} \r\n                                getAriaValueText={binValuetext}\r\n                                valueLabelFormat={binValuetext}\r\n                                aria-labelledby=\"aria-valuetext\"\r\n                                min={startDateIndex}\r\n                                step={1}\r\n                                max={startDateIndex+dates[currentData].length-1}\r\n                        />} */}\r\n                        {/* Slider for changing date range */}\r\n                        {dataParams.rangeType === 'custom' && <RangeSlider \r\n                            id=\"timeSlider\"\r\n                            value={[dataParams.nIndex-dataParams.nRange, dataParams.nIndex]} \r\n                            valueLabelDisplay=\"on\"\r\n                            onChange={handleRangeChange} \r\n                            getAriaValueText={valuetext}\r\n                            valueLabelFormat={valuetext}\r\n                            aria-labelledby=\"aria-valuetext\"\r\n                            min={1}\r\n                            max={350}\r\n                            marks={(dateIndices.hasOwnProperty(currentData) && dateIndices[currentData].hasOwnProperty(dataParams.numerator)) && dateIndices[currentData][dataParams.numerator].map(date => { return { value: date }})}\r\n                            step={null}\r\n                        />}\r\n                    </Grid>\r\n                    {(dataParams.rangeType !== 'custom' && dataParams.nType !== 'characteristic') && <InitialDate>{dates[0]}</InitialDate>}\r\n                    {(dataParams.rangeType !== 'custom' && dataParams.nType !== 'characteristic') && <EndDate>{dates.slice(-1,)[0]}</EndDate>}\r\n                </Grid>\r\n            </SliderContainer>\r\n        );\r\n    } else {\r\n        return <SliderContainer />\r\n    }\r\n}\r\n\r\nexport default DateSlider","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport styled from 'styled-components';\r\nimport { chart, info } from '../config/svg';\r\nimport { colors } from '../config';\r\n\r\nimport { setPanelState } from '../actions';\r\n\r\nconst DockContainer = styled.div`\r\n    position:absolute;\r\n    left:calc(100% + 2px);\r\n    top:-2px;\r\n    display:flex;\r\n    @media (max-width:1024px) {\r\n        position:fixed;\r\n        display:block;\r\n        left:0px;\r\n        top:210px;\r\n    }\r\n    @media (max-width:600px) {\r\n        top:260px;\r\n    }\r\n`\r\n\r\nconst DockButton = styled.button`\r\n    background:${props => props.isActive ? colors.lightgray : colors.gray};\r\n    border:none;\r\n    outline:none;\r\n    padding:10px;\r\n    height:40px;\r\n    box-sizing:border-box;\r\n    font-family:'Lato', sans-serif;\r\n    font-weight:bold;\r\n    margin:2px 2px 0 0;\r\n    box-shadow: 2px 0px 5px rgba(0,0,0,0.7);\r\n    cursor:pointer;\r\n    border-radius: 5px;\r\n    transition:150ms transform, 150ms background;\r\n    font-size:115%;\r\n    display:inline-block;\r\n    svg {\r\n        width:20px;\r\n        height:20px;\r\n        fill:${props => props.isActive ? colors.darkgray : colors.white};\r\n    }\r\n    &:hover {\r\n        background:${props => props.isActive ? colors.white : colors.darkgray};\r\n        svg {\r\n            fill:${props => props.isActive ? colors.darkgray : colors.lightgray};\r\n        }\r\n    }\r\n    @media (max-width:1024px) {\r\n        height:40px;\r\n        width:40px;\r\n        margin-top:10px;\r\n        display:block;\r\n        border-radius:0;\r\n    }\r\n    \r\n    @media (max-width:600px) {\r\n        height:30px;\r\n        width:30px;\r\n        padding:0;\r\n        svg {\r\n            width:20px;\r\n            height:20px;\r\n        }\r\n    }\r\n`\r\n\r\nconst Dock = () => {\r\n    const panelState = useSelector(state => state.panelState);\r\n    const dispatch = useDispatch();\r\n    const handlePanelButton = (panel) => panelState[panel] ? dispatch(setPanelState({[panel]: false})) : dispatch(setPanelState({[panel]: true}))\r\n    return (\r\n        <DockContainer>\r\n            <DockButton\r\n                title=\"Show Line Chart\"\r\n                id=\"showLineChart\"\r\n                isActive={panelState.lineChart}\r\n                onClick={() => handlePanelButton('lineChart')}\r\n            >   \r\n                {chart}\r\n            </DockButton>\r\n            <DockButton\r\n                title=\"Show Tutorial\"\r\n                id=\"showTutorial\"\r\n                isActive={panelState.tutorial}\r\n                onClick={() => handlePanelButton('tutorial')}\r\n            >\r\n                {info}\r\n            </DockButton>\r\n        </DockContainer>\r\n    )\r\n} \r\n\r\nexport default Dock","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport styled from 'styled-components'\r\n\r\nimport { colors } from '../config';\r\nimport { setPanelState } from '../actions';\r\n\r\nconst DragContainer = styled.div`\r\n    position:fixed;\r\n    overflow:hidden;\r\n    background:${colors.gray};\r\n    padding:20px 20px 0 20px;\r\n    box-sizing: border-box;\r\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\r\n    border-radius: 0.5vh;\r\n    &.collapsed {\r\n        display:none;\r\n    };\r\n`\r\nconst DragButton = styled.button`\r\n    position:absolute;\r\n    left:0;\r\n    top:5px;\r\n    background:none;\r\n    outline:none;\r\n    border:none;\r\n    cursor:move;\r\n    svg {\r\n        fill:white;\r\n        width:20px;\r\n        height:20px;\r\n    }\r\n`\r\n\r\n\r\nconst CollapseButton = styled.button`\r\n    position: absolute;\r\n    top: 3px;\r\n    right: 5px;\r\n    font-size: 200%;\r\n    cursor: pointer;\r\n    padding:0;\r\n    background:none;\r\n    outline:none;\r\n    border:none;\r\n    color:white;\r\n    p {\r\n        font-size:50%;\r\n        display:inline;\r\n        font-family:'Montserrat', sans-serif;\r\n        line-height:1;\r\n    }\r\n    svg {\r\n        fill:white;\r\n        width:40px;\r\n        height:30px;\r\n    }\r\n`\r\n\r\nconst Draggable = (props) => {\r\n    const dispatch = useDispatch();\r\n    const open = useSelector(state => state.panelState[props.title]);\r\n\r\n    const [X, setX] = useState(props.defaultX);\r\n    const [Y, setY] = useState(props.defaultY);\r\n    const [isDragging, setIsDragging] = useState(false)\r\n\r\n    const listener = (e) => {\r\n        setX(prevWidth => prevWidth+e.movementX)\r\n        setY(prevHeight => prevHeight+e.movementY)\r\n    }\r\n\r\n    const touchListener = (e) => {\r\n        setX(e?.targetTouches[0]?.clientX-15)\r\n        setY(e?.targetTouches[0]?.clientY-15)\r\n    }\r\n\r\n    const removeListener = () => {\r\n        window.removeEventListener('mousemove', listener)\r\n        window.removeEventListener('mouseup', removeListener)\r\n        setIsDragging(false)\r\n    }\r\n\r\n    const removeTouchListener = () => {\r\n        window.removeEventListener('touchmove', touchListener);\r\n        window.removeEventListener('touchend', removeTouchListener);\r\n    }\r\n    \r\n    const handleDown = () => {\r\n        window.addEventListener('mousemove', listener)\r\n        window.addEventListener('mouseup', removeListener)\r\n        setIsDragging(true)\r\n    }\r\n\r\n    const handleTouch = () => {\r\n        window.addEventListener('touchmove', touchListener)\r\n        window.addEventListener('touchend', removeTouchListener)\r\n    }\r\n\r\n    const handleCollapse = () => dispatch(setPanelState({[props.title]: false}))\r\n\r\n    useEffect(() => {\r\n        setX(props.defaultX);\r\n        setY(props.defaultY);\r\n    },[open, props.defaultX, props.defaultY])\r\n\r\n    return (\r\n        <DragContainer style={{left:`${X}px`, top: `${Y}px`, zIndex: props.z || 1}} className={open ? '' : 'collapsed'} isDragging={isDragging}>\r\n            {props.content}\r\n            <DragButton \r\n                id=\"resize\"\r\n                onMouseDown={handleDown}\r\n                onTouchStart={handleTouch}\r\n                style={{zIndex:10}}\r\n            >\r\n                <svg viewBox=\"0 0 64 64\" x=\"0px\" y=\"0px\"><g><path d=\"M53.39,32.57a1.52,1.52,0,0,0-.33-1.63l-5.84-5.85a1.51,1.51,0,0,0-2.13,2.13l3.29,3.28H33.5V15.62l3.28,3.29a1.51,1.51,0,0,0,2.13-2.13l-5.85-5.84a1.5,1.5,0,0,0-2.12,0l-5.85,5.84a1.51,1.51,0,0,0,2.13,2.13l3.28-3.29V30.5H15.62l3.29-3.28a1.51,1.51,0,0,0-2.13-2.13l-5.84,5.85a1.5,1.5,0,0,0,0,2.12l5.84,5.85a1.51,1.51,0,0,0,2.13-2.13L15.62,33.5H30.5V48.38l-3.28-3.29a1.51,1.51,0,0,0-2.13,2.13l5.85,5.84a1.5,1.5,0,0,0,2.12,0l5.85-5.84a1.51,1.51,0,0,0-2.13-2.13L33.5,48.38V33.5H48.38l-3.29,3.28a1.51,1.51,0,0,0,2.13,2.13l5.84-5.85A1.51,1.51,0,0,0,53.39,32.57Z\"></path></g></svg>\r\n            </DragButton>\r\n            <CollapseButton onClick={handleCollapse}></CollapseButton>\r\n        </DragContainer>\r\n    )\r\n}\r\n\r\nexport default Draggable;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport { colors } from '../config';\r\n\r\n\r\nconst FooterContainer = styled.footer`\r\n    width:100%;\r\n    background: ${colors.teal};\r\n    p {\r\n        color:${colors.lightgray};\r\n        font-size:1rem;\r\n    }\r\n    h6 {\r\n        margin-top: 0;\r\n        margin-bottom: 12px;\r\n        font-size:1rem;\r\n        font-weight: 600;\r\n        font-stretch: normal;\r\n        font-style: normal;\r\n        line-height: normal;\r\n        letter-spacing: normal;\r\n        color: ${colors.white};\r\n    }\r\n    a {\r\n        text-decoration:none;\r\n        color:${colors.skyblue};\r\n        opacity:0.8;\r\n        &:hover {\r\n            opacity:1;\r\n        }\r\n    }   \r\n    img {\r\n        margin-bottom:10px;\r\n        @media (max-width: 960px) {\r\n            max-width:50%;\r\n            display:block;\r\n            margin:40px auto;\r\n        }\r\n    }\r\n    hr.footerHr {\r\n        margin:20px 0;\r\n    }\r\n`\r\nconst FooterContent = styled.div`\r\n    width:100%;\r\n    max-width:1140px;\r\n    margin:0 auto;\r\n`\r\n\r\nconst LinkLists = styled(Grid)`\r\n    width:100%;\r\n    padding:50px;\r\n    ul {\r\n        list-style:none;\r\n        li {\r\n            line-height:1.5;\r\n        }\r\n    }\r\n    p.copyright {\r\n        font-size:.9rem;\r\n        color:${colors.lightgray};\r\n    }\r\n    @media (max-width: 960px) {\r\n        text-align:center;\r\n    }\r\n    \r\n`\r\n\r\nconst SignupForm = styled.div`\r\n    max-width:800px;\r\n    margin:0 auto;\r\n    padding:40px;\r\n    text-align:center;\r\n    h1.signup {\r\n        width:100%;\r\n        font-size:2rem;\r\n    }\r\n    h2 {\r\n        color: ${colors.lightgray};\r\n        font-size:1.25rem;\r\n        font-weight:200;\r\n    }\r\n    form {\r\n        max-width:600px;\r\n        margin:0 auto;\r\n    }\r\n    .MuiOutlinedInput-root {\r\n        display:inline-block;\r\n        background:white;\r\n        width:100%;\r\n    }\r\n    .SubmitEmailBox {\r\n        width:100%;\r\n        height:100%;\r\n        display:inline-block;\r\n        background-color: ${colors.orange};\r\n        color: #0d0d0d;\r\n        border:none;\r\n        outline:none;\r\n        border-radius:5px;\r\n        font-weight:bold;\r\n        font-family:'Lato', sans-serif;\r\n        cursor:pointer;\r\n    }\r\n    .sr-only {\r\n        visibility: hidden;\r\n    }\r\n`\r\n\r\nconst Footer = ( props ) => {\r\n    return (\r\n        <FooterContainer>\r\n            <FooterContent>\r\n                {props.signUp && \r\n                    <SignupForm>\r\n                        <h1 className=\"signup\">Sign up for the Newsletter</h1>                    \r\n                        <h2>We'll keep you up to date with new updates, features, and insights on the COVID-19 pandemic. Follow the US COVID Atlas team on Medium too.</h2>\r\n            \r\n                        <form action=\"https://github.us10.list-manage.com/subscribe/post?u=5ed730d26727290870ec65153&amp;id=74f209d5ed\" method=\"post\" id=\"mc-embedded-subscribe-form\" name=\"mc-embedded-subscribe-form\" class=\"validate form-inline vertical-center\" target=\"_blank\" novalidate=\"\">\r\n                            <label class=\"sr-only\" for=\"inlineFormInputGroupUsername2\">Email</label>                            \r\n                            <Grid container spacing={1}>\r\n                                                                \r\n                                {/* <input type=\"email\" class=\"form-control EnterEmailBox\" name=\"b_5ed730d26727290870ec65153_74f209d5ed\" placeholder=\"Enter email address\" /> */}\r\n                                <Grid item xs={8} sm={10}>\r\n                                    <TextField id=\"outlined-basic\" variant=\"outlined\" type=\"email\" class=\"form-control EnterEmailBox\" name=\"b_5ed730d26727290870ec65153_74f209d5ed\" placeholder=\"Enter email address\"/>\r\n                                </Grid>\r\n                                <Grid item xs={4} sm={2}>\r\n                                    <input type=\"submit\" value=\"SUBSCRIBE\" name=\"subscribe\" id=\"mc-embedded-subscribe\" class=\"btn btn-lg SubmitEmailBox\" />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </form>\r\n                    </SignupForm>\r\n                    }\r\n                    \r\n                {props.signUp && <hr className=\"footerHr\" />}\r\n                <LinkLists container spacing={1}>\r\n                    <Grid item xs={6} md={3}>\r\n                        <p>\r\n                            <h6>Explore</h6>\r\n                            <ul>\r\n                                <li><NavLink to=\"/map\">The Atlas</NavLink></li>\r\n                                <li><NavLink to=\"/data\">Data</NavLink></li>\r\n                                <li><NavLink to=\"/methods\">Methods</NavLink></li>\r\n                                <li><NavLink to=\"/faq\">Help + Faq</NavLink></li>\r\n                            </ul>\r\n                        </p>\r\n                    </Grid>\r\n                    <Grid item xs={6} md={4}>\r\n                        <p>\r\n                            <h6>About</h6>\r\n                            <ul>\r\n                                <li><NavLink to=\"/about\">Our Team</NavLink></li>\r\n                                <li><NavLink to=\"/contact\">Contact Us</NavLink></li>\r\n                                <li><a href=\"https://geodacenter.github.io/\" target=\"_blank\" rel=\"noopener noreferrer\">GeoDa Open Software</a></li>\r\n                                <li><a href=\"https://covidatlas.healthcarecommunities.org\" target=\"_blank\" rel=\"noopener noreferrer\">Learning Community</a></li>\r\n                            </ul>\r\n                        </p>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={5}>\r\n                        <img src={`${process.env.PUBLIC_URL}/img/csds-university-wordmark-white.png`} width=\"100%;\" alt=\"Center for Spatial Data Science logo\" />\r\n                        <p class=\"copyright\">\r\n                            Brought to you by the Center for Spatial Data Science <a href=\"https://spatial.uchicago.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">@UChicago</a>. Powered by <a href=\"https://geodacenter.github.io/\" target=\"_blank\" rel=\"noopener noreferrer\">GeoDa</a>. Funded in part by the <a href=\"https://www.rwjf.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Robert Wood Johnson Foundation</a>.\r\n                        </p>\r\n                    </Grid>\r\n                </LinkLists>\r\n            </FooterContent>\r\n        </FooterContainer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react';\r\n\r\nconst highlightFeature = ( selector, backup=false ) => {\r\n    try {\r\n        if (backup && ((document.querySelector(selector).getBoundingClientRect().x < 0) || (document.querySelector('#variablePanel').getBoundingClientRect().x > window.innerWidth))) selector = backup \r\n        if (selector === null) return;\r\n        document.querySelector(selector).classList.add('highlighted')\r\n    } catch { return }\r\n}\r\n\r\nconst unhighlightFeature = ( selector, backup=false ) => {\r\n    try {\r\n        if (backup && ((document.querySelector(selector).getBoundingClientRect().x < 0) || (document.querySelector('#variablePanel').getBoundingClientRect().x > window.innerWidth))) selector = backup \r\n        if (selector === null) return;\r\n        document.querySelector(selector).classList.remove('highlighted')\r\n    } catch { return }\r\n}\r\n\r\nconst HoverButton = (props) => {\r\n    let {selector, backup } = props\r\n\r\n    return (\r\n        <button \r\n            className=\"hoverButton\"\r\n            onMouseEnter={() => highlightFeature(selector, backup)}\r\n            onMouseLeave={() => unhighlightFeature(selector, backup)}\r\n        >\r\n            {props.text}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport const pages = {\r\n    \"welcome\": {\r\n        \"pageName\": \"Welcome\",\r\n        \"icon\": \"logo\",\r\n        \"content\": \r\n            <div>\r\n                <h1>Welcome to the US Covid Atlas v2</h1>\r\n                <h3>1/12 Notes</h3>\r\n                <p>\r\n                    Welcome to the refactored US Covid Atlas. We have greatly expanded the functionality, usability, and \r\n                    portability of the Atlas by refactoring the project into the frontend framework, React.\r\n                </p>\r\n                <p>\r\n                    While we've worked to maintain the general structure of the Atlas, we've introduced a few new features and\r\n                    interface elements we hope will make the Atlas more robust and usable for more people.\r\n                </p>\r\n                <p>\r\n                    This wiki serves as a useful reference guide for tutorials, features, and data description. We recommend exploring the \r\n                    rest of the US Covid Atlas website for more in depth documentation on methods, data sources, and FAQs.\r\n                </p>\r\n            </div>\r\n    },\r\n    \"getting-started\": {\r\n        \"pageName\": \"Getting Started\",\r\n        \"icon\": \"info\",\r\n        \"content\": \r\n            <div>\r\n                <h1>Getting Started with the Atlas</h1>\r\n                <p>\r\n                    In a quickly changing pandemic landscape, our tool connects COVID case data and community indicators across \r\n                    the United States from its beginning to today. The Atlas helps you access current, validated county-level data \r\n                    and spatial analysis to better understand the spread in communities and to bolster planning efforts.\r\n                </p>\r\n                <p>\r\n                    Features and use cases for the Atlas include identifying regional hotspots for mitigation, tracking patterns to plan ahead,\r\n                    interacting and forecasting the viral spread at both state and county levels, and making vulnerable communities visible. Read more on \r\n                    potential use cases on our <a href=\"./\">landing page</a>.\r\n                </p>\r\n                <hr />\r\n                <h3>Tutorials</h3>\r\n                <p>\r\n                    Below are tutorials to help you get started using the Atlas. Each has <HoverButton selector={null} text=\"Highlighted Text\" id=\"exText\" /> that will \r\n                    highlight the related interface component to help you get started.\r\n                </p>\r\n            </div>\r\n    },\r\n    \"new-features\": {\r\n        \"pageName\": \"New Features\",\r\n        \"icon\": \"info\",\r\n        \"content\": \r\n            <div>\r\n                <h3>Changelog 1/12</h3>\r\n                <p>Refactor Update</p>\r\n                <ul>\r\n                    <li>The US Covid Atlas has been refactored into the React javascript framework with Redux used for state management</li>\r\n                    <li>Major features updates:\r\n                        <ul>\r\n                            <li>Improved temporal controls including custom date range and date selection</li>\r\n                            <li>Multiple geography selection and aggregation tools</li>\r\n                            <li>3D visualization mode</li>\r\n                            <li>Floating information panels for information and tutorials and line chart</li>\r\n                            <li>Improved performance and user interface</li>\r\n                            <li>Improved responsive design on phone and tablet</li>\r\n                        </ul>\r\n                    </li>\r\n                    <li>New data sources:\r\n                        <ul>\r\n                            <li>New York Times county and state data sources are now available</li>\r\n                            <li>CDC county level data is now available, aggregated 7-Day rolling averages</li>\r\n                            <li>CDC state level vaccination data is now available</li>\r\n                        </ul>\r\n                    </li>\r\n                    <li>New variables:\r\n                        <ul>\r\n                            <li>County level CDC data now includes testing volume and positivity rates</li>\r\n                            <li>Vaccination data at the state level includes distribution and administration numbers</li>\r\n                            <li>Time scale (cumulative, daily new, 7 day average) are now selected in the timeline panel</li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n    },\r\n    \"interface\":{\r\n        \"pageName\": \"Interface\",\r\n        \"icon\": \"info\",\r\n        \"content\": \r\n        <div>\r\n            <h1>Interface Overview</h1>\r\n            <p>\r\n                The interface for navigating and controlling the map contains 4 main panels and the map itself. This page will briefly describe the functions of each panel and where to find them. <HoverButton selector={null} text=\"Highlighted Text\" id=\"exText\" /> will \r\n                highlight the relevant interface feature to help easily identify it.\r\n            </p>\r\n            <h3>Data Sources &amp; Map Variables</h3>\r\n            <p>\r\n                The <HoverButton selector=\"#variablePanel\" backup=\"#showHideLeft\" text=\"Data Sources and Map Variables Panel\" /> contains\r\n                the controls to change data sources, the variable being visualized, how it is visualized, and any informational overlays.\r\n            </p>\r\n            <p>\r\n                The <HoverButton selector=\"#newVariableSelect\" backup=\"#showHideLeft\" text=\"Variable\"/> selection contains the available variables\r\n                for your selected dataset, including data like cases, deaths, testing rates, forecasting, and community health factors.\r\n            </p>\r\n            <p>\r\n                The <HoverButton selector=\"#dateSelector\" text=\"Timescale\" /> dropdown can change the aggregation over time between daily, weekly, cumulative, or custom date ranges. \r\n                The <HoverButton selector=\"#binModeSwitch\" text=\"Binning Switch\" /> can change between fixed bins relative to the today and bins relative to the selected date. \r\n            </p>\r\n            <p>\r\n                The <HoverButton selector=\"#geographySelect\" backup=\"#showHideLeft\" text=\"Geography\"/> selector shows the relevant geography (county or state) for your selected variable.\r\n                The <HoverButton selector=\"#datasetSelect\" backup=\"#showHideLeft\" text=\"Data Source\"/> selector contains the available dataset for your chosen variable and geography.\r\n            </p>\r\n            <p>\r\n                The <HoverButton selector=\"#mapType\" backup=\"#showHideLeft\" text=\"Map Type\"/> buttons change how the map is colored and how the data is symbolized.\r\n                Natural breaks (jenks) uses a non-linear algorithm to classify (bin) data into groups, box map uses the same concept as a box plot chart, and hotspots \r\n                identify clusters of high and low rates based on LISA methods. Read more on the <a href=\"./methods.html\" target=\"_blank\" rel=\"noopener noreferrer\">methods</a> page.\r\n            </p>\r\n            <p>\r\n                The <HoverButton selector=\"#visualizationType\" backup=\"#showHideLeft\" text=\"Visualization Type\"/> buttons change the visual representation of the map. The 2D map is \r\n                a traditional, flat map, the 3D map scales the vertical height of geographies to reflect the selected variable, and the cartogram map scales the geographies as circles \r\n                based on the variable values.\r\n            </p>\r\n            <p>\r\n                The <HoverButton selector=\"#overlaysResources\" backup=\"#showHideLeft\" text=\"Overlays and Resources\"/> selection boxes contain useful contextual information, and highlight \r\n                potentially vulnerable areas.\r\n            </p>\r\n            <h3>Timeline</h3>\r\n            <p>\r\n                The <HoverButton selector=\"#timelinePanel\" text=\"Timeline Panel\" /> contains all of the temporal controls for the Atlas. Here, you can select a date, change the timescale (daily, weekly, etc.)\r\n                and change how the data is binned - relative to the selected date or relative to the most recent date.\r\n            </p>\r\n            <p>\r\n                The <HoverButton selector=\"#timeSlider\" text=\"Slider\" /> can change the date selection for your selected variable. \r\n                You can animate the map by clicking the <HoverButton selector=\"#playPause\" text=\"Play/Pause Button\" />.\r\n            </p>\r\n\r\n            \r\n        </div>\r\n    },\r\n    \"datasets\": {\r\n        \"pageName\": \"Data Sources\",\r\n        \"icon\": \"info\",\r\n        \"content\":\r\n            <div>\r\n                <h1 id=\"data-sources\">Data Sources</h1>\r\n                <p><i>Read more detailed information <a href=\"https://theuscovidatlas.org/data.html\">here</a></i></p>\r\n                <h2 id=\"covid-data\">COVID Data</h2>\r\n                <h3 id=\"-usa-facts-https-usafacts-org-visualizations-coronavirus-covid-19-spread-map-\"><a href=\"https://usafacts.org/visualizations/coronavirus-covid-19-spread-map\">USA Facts</a></h3>\r\n                <p>Available at the county level this data aggregates from CDC, state- and local-level public health agencies. </p>\r\n                <h3 id=\"-1p3a-https-coronavirus-1point3acres-com-en-\"><a href=\"https://coronavirus.1point3acres.com/en\">1P3A</a></h3>\r\n                <p>Available at the state and county level, 1P3A was the initial, crowdsourced data project that served as a volunteer project led by 1P3acres.com and Dr. Yu Gao, Head of Machine Learning Platform at Uber. </p>\r\n                <h3 id=\"-new-york-times-https-github-com-nytimes-covid-19-data-\"><a href=\"https://github.com/nytimes/covid-19-data\">New York Times</a></h3>\r\n                <p>The New York Times has made data available aggregated from dozens of journalists working to collect and monitor data from new conferences. They communicate with public officials to clarify and categorize cases. </p>\r\n                <h3 id=\"-cdc-https-covid-cdc-gov-covid-data-tracker-\"><a href=\"https://covid.cdc.gov/covid-data-tracker/\">CDC</a></h3>\r\n                <p>CDC data includes detailed historic testing data and case data aggregated to rolling 7-day averages.</p>\r\n                {/* <h3 id=\"-forecasting-statistics-https-github-com-yu-group-covid19-severity-prediction-\"><a href=\"https://github.com/Yu-Group/covid19-severity-prediction\">Forecasting Statistics</a></h3>\r\n                <p>The Yu Group at UC Berkeley Statistics and EECS has compiled, cleaned and continues to update a large corpus of hospital- and county-level data from a variety of public sources to aid data science efforts to combat COVID-19 (see covidseverity.com).</p> */}\r\n                <h2 id=\"county-and-state-data\">County and State Data</h2>\r\n                <h3 id=\"-covidcaremap-https-github-com-covidcaremap-covid19-healthsystemcapacity-tree-v0-2-data-\"><a href=\"https://github.com/covidcaremap/covid19-healthsystemcapacity/tree/v0.2/data\">COVIDCareMap</a></h3>\r\n                <p>Healthcare System Capacity includes Staffed beds, Staffed ICU beds, Licensed Beds by County. The data is from 2018 facility reports with additions/edits allowed in real-time.</p>\r\n                <h3 id=\"-american-community-survey-https-www-census-gov-programs-surveys-acs-\"><a href=\"https://www.census.gov/programs-surveys/acs\">American Community Survey</a></h3>\r\n                <p>The American Community Survey data contains demographic information about states, counties, and other geographic units. We use ACS population counts to generate normalized rates for COVID cases and deaths.</p>\r\n                <h3 id=\"-county-health-rankings-roadmaps-chr-r-https-www-countyhealthrankings-org-explore-health-rankings-rankings-data-documentation-\"><a href=\"https://www.countyhealthrankings.org/explore-health-rankings/rankings-data-documentation\">County Health Rankings &amp; Roadmaps (CHR&amp;R)</a></h3>\r\n                <p>CHR&amp;R includes socioeconomic data, health access and care metrics, and demographic information about counties and states. CHR&amp;R is a collaboration between the Robert Wood Johnson Foundation and the University of Wisconsin Population Health Institute.</p>\r\n            </div>\r\n    },\r\n    \"variables\":{\r\n        \"pageName\": \"Variables\",\r\n        \"icon\": \"info\",\r\n        \"content\": \r\n            <div>\r\n                <h1>Variables</h1>\r\n                <h3>Cases</h3>\r\n                <i>Times-series data</i>\r\n                <ul>\r\n                    <li>Confirmed Count: Number of cases reported in selected time scale</li>\r\n                    <li>Confirmed Count per 100K Population: Number of cases normalized to population and scaled to number of cases per 100,000 residents of the county or state</li>\r\n                    <li>Confirmed Count per Licensed Bed: Number of cases normalized to the available beds in the county or state</li>\r\n                </ul>\r\n\r\n                <h3>Deaths</h3>\r\n                <i>Times-series data</i>\r\n                <ul>\r\n                    <li>Death Count: Number of deaths reported in selected time scale</li>\r\n                    <li>Death Count per 100K Population: Number of deaths normalized to population and scaled to number of deaths per 100,000 residents of the county or state</li>\r\n                    <li>Death Count per Licensed Bed: Number of deaths normalized to the available beds in the county or state</li>\r\n                </ul>\r\n\r\n                <h3> Testing</h3>\r\n                <i>Times-series data</i>\r\n                <ul>\r\n                    <li>7 Day Testing Positivity Rate %: The percentage of COVID tests returning positive results, aggregated to a 7-day rolling average</li>\r\n                    <li>7 Day Testing Capacity: The number of COVID tests administered in the county or state normalized to tests per 100,000 population</li>\r\n                    <li>7 Day Confirmed Cases per Testing %: The number of positive COVID cases per number of COVID tests as a percentage</li>\r\n                </ul>\r\n\r\n                <h3>Vaccination</h3>\r\n                <i>Times-series data</i>\r\n                <ul>\r\n                    <li>Vaccinations Administered per 100K Population: The number of vaccination doses that have been administered in the state, normalized to number of doses administered per 100K population.</li>\r\n                    <li>Vaccinations Distributed per 100K Population: The total number of vaccination doses that have been distributed in the state, normalized to number of doses distributed per 100K population. </li>\r\n                </ul>\r\n                \r\n                {/* <h3>Forecasting</h3>\r\n                <i>Current snapshot data</i>\r\n                <ul>\r\n                    <li>Severity Index: Data and models (updated daily) for forecasting COVID-19 severity for individual counties and hospitals in the US</li>\r\n                </ul> */}\r\n\r\n                <h3>Community Health</h3>\r\n                <i>Characteristic data</i>\r\n                <ul>\r\n                    <li>Uninsured % (Community Health Factor): Percentage of the county or state that does not have health insurance</li>\r\n                    <li>Over 65 Years % (Community Health Context): Percentage of the county or state this is over 65 years of age</li>\r\n                    <li>Life expectancy (Length and Quality of Life): Average life expectancy for individuals living in the state or county</li>\r\n                </ul>\r\n            </div>\r\n    },\r\n    \"bug-report\":{\r\n        \"pageName\": \"Bug Report\",\r\n        \"icon\": \"info\",\r\n        \"content\": \r\n        <div>\r\n            <h1>Found a bug or have a suggestion?</h1>\r\n            \r\n            <p>\r\n                The US Covid Atlas team is always working to improve the platform and its ability to generate insights.\r\n            </p>\r\n            <p>\r\n                Please contact the team at <a href=\"mailto:contact@theuscovidatlas.org\">contact@theuscovidatlas.org</a> or reach out on social media below.\r\n            </p>\r\n            <div className=\"social-container\">\r\n                <a href=\"https://twitter.com/covid_atlas\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    <img src=\"./icons/twitter-icon.png\" alt=\"Twitter Icon\" />\r\n                </a>\r\n                <a href=\"https://github.com/GeoDaCenter/covid\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    <img src=\"./icons/github-icon.png\" alt=\"Twitter Icon\" />\r\n                </a>\r\n            </div>\r\n        </div>\r\n    },\r\n    // tutorials section\r\n    \"choropleth-tutorial\": {\r\n        \"pageName\":null,\r\n        \"content\": \r\n            <div>\r\n                <h1>Choropleth Maps</h1>\r\n                <p>\r\n                    Choropleth maps use color to show the count or percentage of a variable.\r\n                </p>\r\n                <p> \r\n                    The Atlas uses color to show the count and percentage of all coronavirus cases, daily new cases, deaths, and hospital beds. \r\n                    Use choropleth maps to see data about the virus on a particular day.\r\n                </p>\r\n                <p>\r\n                    For more details on how the Atlas created the choropleth maps, please see the <a href=\"./methods.html\">Methods page</a>.\r\n                </p>\r\n                <hr/>\r\n                <ol className=\"tutorialSteps\">\r\n                    <li>\r\n                        <p>\r\n                            The choropleth map is the default display for the atlas webpage. To change data settings, \r\n                            use the <HoverButton selector=\"#variablePanel\" backup=\"#showHideLeft\" text=\"Variables Panel\" />\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Select the <HoverButton selector=\"#newVariableSelect\" backup=\"#showHideLeft\" text=\"Variable\"/> you would like to map. \r\n                            You can also select a different <HoverButton selector=\"#geographySelect\" backup=\"#showHideLeft\" text=\"Geography\"/> and <HoverButton selector=\"#datasetSelect\" backup=\"#showHideLeft\" text=\"Data Source\"/> if\r\n                             available for your chosen variable.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Click on \"Natural Breaks\" in the <HoverButton selector=\"#mapType\" backup=\"#showHideLeft\" text=\"Map Type\"/> button group, if not already selected.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Use the <HoverButton selector=\"#bottomPanel\" text=\"Color Ramp\"/> at the bottom of the screen to interpret the count or percentage for each county or state.\r\n                            Brighter reds represent larger counts and percentages. Paler yellows represent smaller counts and percentages.\r\n                        </p>\r\n                    </li>\r\n                </ol>\r\n            </div>\r\n    },\r\n    \"hotspot-tutorial\": {\r\n        \"pageName\":null,\r\n        \"content\": \r\n            <div>\r\n                <h1>Hotspots</h1>\r\n                <p>\r\n                    Local clusters are areas that neighbor one another and share a particular quality, such as high numbers of Covid-19 cases. A hot spot is an area that is significantly different from the areas surrounding it. A hot spot may be one place or a cluster of places.\r\n                    <br/><br/>\r\n                    The Atlas shows patterns in the spread of the disease by displaying hot spots and clusters. See the Methods page for details about detecting clusters.\r\n                    <br/><br/>\r\n                    The Atlas shows four types of hot spots:\r\n                    <ul>\r\n                        <li>\r\n                            <b>High-High:</b> Areas with high numbers whose neighbors also have high numbers. Bright red counties have a significantly high number of cases or deaths, or significantly fewer hospital beds per case. Neighbors for these areas also have a high number of cases.\r\n                        </li>\r\n                        <br/>\r\n                        <li>\r\n                            <b>Low-Low:</b> Areas with low numbers whose neighbors also have low numbers. Bright blue counties have significantly fewer cases or deaths, or significantly more hospital beds per case. Neighbors for these areas also have a low number of cases.\r\n                        </li>\r\n                        <br/>\r\n                        <li>\r\n                            <b>High-Low:</b> Areas with high numbers whose neighbors have low numbers. This type of hot spot is also called an outlier, because it differs so much from its neighbors. Pale red counties have more cases, deaths, or fewer hospital beds per case than do their immediate neighbors. The surrounding areas may experience significant spread of the virus in future weeks.\r\n                        </li>\r\n                        <br/>\r\n                        <li>\r\n                            <b>Low-High:</b> Areas with low numbers whose neighbors have high numbers. This type of hot spot is also called an outlier, because it differs so much from its neighbors. Pale blue counties have fewer cases, deaths, or more hospital beds per case than do their immediate neighbors. These areas may experience significant spread of the virus from surrounding areas in future weeks.\r\n                        </li> \r\n                    </ul>\r\n                    Use local clustering to explore geographic patterns of the virus and to help locate areas that will soon be significantly affected by the virus.\r\n                </p>\r\n                <hr/>\r\n                <ol className=\"tutorialSteps\">\r\n                    <li>\r\n                        <p>\r\n                            Select the <HoverButton selector=\"#newVariableSelect\" backup=\"#showHideLeft\" text=\"Variable\"/> you would like to map from the <HoverButton selector=\"#variablePanel\" backup=\"#showHideLeft\" text=\"Variables Panel\" />.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Select \"Hotspot\" under the <HoverButton selector=\"#mapType\" backup=\"#showHideLeft\" text=\"Map Type\"/> selection.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Use the <HoverButton selector=\"#bottomPanel\" text=\"Color Ramp\"/> at the bottom of the screen to see if a county falls into a hotspot category. \r\n                            <br/><br/>\r\n                            Reds represent high numbers and percentages and blues represent low counts and percentages. Gray represents areas that do not fall into a hotspot.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Use the above hot spot types to determine if a county or state on the map is significantly affected by Covid-19: High-High and High-Low spots.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Look for neighboring areas that are significantly affected. High-Low and Low-High spots may show an emerging trend.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Click on a county or state in the map for a popup containing all data variables, socioeconomic indicators, and a disease forecast for that area.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Move the time <HoverButton selector=\"#timeSlider\" text=\"Slider\" /> at the top of the map to see counts and percentages of cases, deaths, or hospital beds on different dates.\r\n                        </p>\r\n                    </li>\r\n                </ol>\r\n            </div>\r\n    },\r\n    \"emerging-tutorial\": {\r\n        \"pageName\":null,\r\n        \"content\": \r\n            <div>\r\n                <h1>Emerging Trends</h1>\r\n                <p>\r\n                    We can make educated guesses about the future spread of the pandemic by using data from the past and present. It is important to look at several variables together when looking for emerging virus trends.\r\n                    <br/><br/>\r\n                    Use Choropleth maps, Hotspots, and the Time Animated Slider and Graph to find areas that may soon be significantly affected by Covid-19.\r\n                </p>\r\n                <hr/>\r\n                <ol className=\"tutorialSteps\">\r\n                    <h4>Choropleth: Map Todays Data for Individual Counties</h4>\r\n                    <li>\r\n                        <p>\r\n                            Select Confirmed Count as the <HoverButton selector=\"#newVariableSelect\" backup=\"#showHideLeft\" text=\"Variable\"/>.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Click on the \"Natural Breaks\" button under <HoverButton selector=\"#mapType\" backup=\"#showHideLeft\" text=\"Map Type\"/>. Bright red counties have a high number of Covid-19 cases.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Change the <HoverButton selector=\"#newVariableSelect\" backup=\"#showHideLeft\" text=\"Variable\"/> to Confirmed Count per 100K Population. \r\n                            Now bright red counties show populations with a high percentage of cases. \r\n                            The percentage is useful for looking at counties with small populations and the severity of the virus in a place.\r\n                            <br/><br/>\r\n                            The count and the percentage of cases in a county are important for understanding the impact of the virus, but they only show one day of data. \r\n                            Next, select \"Hotspot\" under <HoverButton selector=\"#mapType\" backup=\"#showHideLeft\" text=\"Map Type\"/> to see how cases compare across counties.\r\n\r\n                        </p>\r\n                    </li>\r\n                    <hr/>\r\n                    <h4>Hotspots: Map Todays Data Across Counties</h4>\r\n                    <li>\r\n                        <p>\r\n                            Select Confirmed Count as the <HoverButton selector=\"#newVariableSelect\" backup=\"#showHideLeft\" text=\"Variable\"/>.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Click on \"Hotspots\" under <HoverButton selector=\"#mapType\" backup=\"#showHideLeft\" text=\"Map Type\"/>. Bright red counties have high case counts and are surrounded by similar areas. These regions are currently significantly affected by Covid-19.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Find counties in pale blue. These are outlier counties: they have a low number of cases compared to the high number of cases in neighboring counties. This means that pale blue counties may soon be affected by Covid-19 through spread from nearby counties.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Find counties in pale red. These are also outlier counties, but they have a high case count compared to neighboring counties. Areas close to pale red counties may soon be affected by Covid-19 as the virus spreads.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Change the <HoverButton selector=\"#newVariableSelect\" backup=\"#showHideLeft\" text=\"Variable\"/> to Confirmed Count per 100K Population and explore clusters of high virus percentages and outliers. \r\n                            The percentage is useful for looking at counties with small populations and for comparing counties.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Explore the variables with different time aggregation (daily, weekly, custom, and cumulative) \r\n                            using the <HoverButton selector=\"#dateSelector\" backup=\"#showHideLeft\" text=\"Date Range\" /> selector. \r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Clusters of high counts and percentages of new cases may also mean that nearby areas will soon see an increase in virus spread.\r\n                            <br/><br/>\r\n                            Local clustering shows current groups of counties that are significantly affected and nearby places that may soon see an increase in virus spread. Next, use the Time Graph to see the history of the virus spread to learn about the trajectory of new cases.\r\n                        </p>\r\n                    </li>\r\n                </ol>\r\n            </div>\r\n    },\r\n    \"change-tutorial\": {\r\n        \"pageName\":null,\r\n        \"content\": \r\n            <div>\r\n                <h1>Change Over Time</h1>\r\n                <p>\r\n                    How a variable changed over time offers insights into what will happen next. The Atlas uses the animated slider and the time graph to show the history of Covid-19s spread. Read the <a href=\"./methods.html\">Methods</a> page for more information on data limitations and reporting lags.\r\n                </p>\r\n                <hr/>\r\n                <ol className=\"tutorialSteps\">\r\n                    <p><b>Slider</b></p>\r\n                    <li>\r\n                        <p>\r\n                            Select the <HoverButton selector=\"#newVariableSelect\" backup=\"#showHideLeft\" text=\"Variable\"/> you would like to map from the <HoverButton selector=\"#variablePanel\" backup=\"#showHideLeft\" text=\"Variables Panel\" />.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            From the map, locate the animated <HoverButton selector=\"#timeSlider\" text=\"Slider\" /> at the top.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Click and drag your cursor along the slider to change the date of the map display.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Click the <HoverButton selector=\"#playPause\" text=\"Play/Pause Button\"/> to watch the data change over time. You can pan and scroll on the map as it is animating.\r\n                        </p>\r\n                    </li>\r\n                    <p><b>Time Graph</b></p>\r\n                    <li>\r\n                        <p>\r\n                            The <HoverButton selector=\"#showLineChart\" text=\"Line Chart\"/> button opens a panel that shows new cases in the US since January 2020.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            The graph will animate with the <HoverButton selector=\"#timeSlider\" text=\"Slider\" />, highlighting each new day of data as the slider moves forward in time.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                            Click on a county to show the entire history of daily new cases for that county.\r\n                        </p>\r\n                    </li>\r\n                    <li>\r\n                        <p>\r\n                        Adjusting the animated <HoverButton selector=\"#timeSlider\" text=\"Slider\" /> will update the line chart, as well as tooltips and data information.\r\n                        </p>\r\n                    </li>\r\n                </ol>\r\n            </div>\r\n    },\r\n}","import styled from 'styled-components';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { colors } from '../config';\r\n\r\nexport const StyledDropDown = styled(FormControl)`\r\n  margin:0 10px ${props => props.component === 'radios' ? '20' : '40'}px 0!important;\r\n  color:white;\r\n  padding:0;\r\n  .MuiInputBase-root {\r\n    font-family: 'Lato', sans-serif;\r\n  }\r\n  .MuiFormLabel-root {\r\n    color: white;\r\n    font-family: 'Lato', sans-serif;\r\n  }\r\n  .Mui-focused {\r\n    color: white !important;\r\n  }\r\n  .MuiInput-underline:before {\r\n    border-bottom:1px solid rgba(255,255, 255, 0.42);\r\n  }\r\n  .MuiInput-underline:after {\r\n    border-bottom: 2px solid white\r\n  }\r\n  .MuiInputBase-root {\r\n    color: white;\r\n    .MuiSvgIcon-root {\r\n      color: rgba(255,255,255,0.54);\r\n    },\r\n    .MuiPopover-paper {\r\n      color:white;\r\n    }\r\n  }\r\n  .MuiFormGroup-root {\r\n    .MuiFormControlLabel-root{\r\n      color:white;\r\n      span {\r\n        font-family: 'Lato', sans-serif;\r\n      }\r\n      .MuiRadio-root {\r\n        color: rgba(255,255,255,0.54);\r\n      }\r\n    }\r\n  }\r\n  .MuiRadio-root {\r\n    color:white;\r\n  }\r\n  .MuiRadio-colorSecondary.Mui-checked {\r\n    color:white;\r\n  }\r\n  div.radioContainer {\r\n    display:block;\r\n      .MuiFormControlLabel-root {\r\n        margin-right:0;\r\n      }\r\n      button {\r\n        transform:translateY(4px);\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const StyledDropDownNoLabel = styled(StyledDropDown)`\r\n  .MuiFormLabel-root {\r\n    display:none;\r\n  }\r\n  padding:10px 0 5px 20px !important;\r\n  label + .MuiInput-formControl {\r\n    margin-top:0;\r\n  }\r\n`\r\n\r\nexport const SwitchContainer = styled(Grid)`\r\n  padding-top:4px !important;\r\n  p { \r\n    display: inline;\r\n    color:white;\r\n    transform:translateY(5px);\r\n  }\r\n  span.MuiSwitch-track {\r\n      background-color:${colors.buttongray};\r\n  }\r\n  .MuiSwitch-colorSecondary.Mui-checked {\r\n      color:${colors.lightblue};\r\n  }\r\n  .MuiSwitch-colorSecondary.Mui-checked + .MuiSwitch-track {\r\n      background-color: ${colors.lightblue};\r\n  }\r\n  .MuiSwitch-colorSecondary:hover {\r\n      background-color:${colors.lightblue}55;\r\n  }\r\n`\r\n\r\nexport const BinsContainer = styled.div`\r\n  display:inline-block;\r\n  transform:translateY(10px);\r\n  opacity: ${props => props.disabled ? 0.25 : 1};\r\n  pointer-events: ${props => props.disabled ? 'none' : 'initial'};\r\n  p { \r\n    display: inline;\r\n    color:white;\r\n    transform:translateY(5px);\r\n  }\r\n  span.MuiSwitch-track {\r\n      background-color:${colors.buttongray};\r\n  }\r\n  .MuiSwitch-colorSecondary.Mui-checked {\r\n      color:${colors.lightblue};\r\n  }\r\n  .MuiSwitch-colorSecondary.Mui-checked + .MuiSwitch-track {\r\n      background-color: ${colors.lightblue};\r\n  }\r\n  .MuiSwitch-colorSecondary:hover {\r\n      background-color:${colors.lightblue}55;\r\n  }\r\n`\r\n\r\nexport const ContentContainer = styled.div`\r\n  width:100%;\r\n  max-width:1140px;\r\n  padding:20px;\r\n  margin:0 auto;\r\n  h1, h2, h3, h4, h5, h6, p {\r\n    color: #0d0d0d;\r\n  }\r\n  h1 {\r\n    font-family: 'Playfair Display', serif;\r\n    font-size: 49px;\r\n    font-weight: 300;\r\n    font-style: italic;\r\n  }\r\n  h2 { \r\n    font-family: 'Lato', sans-serif;\r\n    font-size: 16px;\r\n    line-height: 1.5;\r\n    letter-spacing: 1.75px;\r\n    font-weight: 700;\r\n    font-stretch: normal;\r\n    margin-bottom:20px;\r\n  }\r\n  h3 {\r\n    font-family: 'Playfair Display', serif;\r\n    font-size: 24px;\r\n    font-weight: 300;\r\n    font-style: italic;\r\n  }\r\n  p, a, ul li, ol li {\r\n    font-family: 'Lato', sans-serif;\r\n    font-size: 16px;\r\n    font-weight: 400;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: 1.63;\r\n    letter-spacing: normal;\r\n  }\r\n  ul, ol {\r\n    padding-left:20px;\r\n  }\r\n  a {\r\n    font-weight:bold;\r\n    text-decoration:none;\r\n    color: ${colors.blue};\r\n  }\r\n  hr {\r\n    display: block;\r\n    height: 1px;\r\n    border: 0;\r\n    border-top: 1px solid #c1ebeb;\r\n    margin: 1em 0;\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nexport const Gutter = styled.div`\r\n    width:100%;\r\n    height: ${props => props.h}px;\r\n`","import React, {useState, useEffect} from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\n\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport { colors } from '../config';\r\nimport { pages } from '../wiki';\r\nimport { StyledDropDown } from '../styled_components';\r\n\r\nconst InfoContainer = styled.div`\r\n    background: ${colors.gray};\r\n    color: ${colors.white};\r\n    padding: 20px;\r\n    overflow: hidden;\r\n    display: ${props => props.active ? 'initial' : 'none'};\r\n    border-radius: 4px;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    svg {\r\n        width: 10px;\r\n        height: 10px;\r\n        padding: 5px;\r\n        fill: ${colors.white};\r\n        display: inline;\r\n        transition: 250ms all;\r\n        cursor: pointer;\r\n    }\r\n    a {\r\n       color: ${colors.yellow}; \r\n       text-decoration:none;\r\n    }\r\n    @media (max-width:1024px) {\r\n        right:50%;\r\n        bottom:50%;\r\n        transform: translate(50%, 50%);\r\n        overflow:hidden;\r\n    }\r\n`\r\n\r\nconst Drawer = styled.div`\r\n    position:absolute;\r\n    left:20px;\r\n    top:30px;\r\n    max-width:120px;\r\n    @media(max-width:1024px) {\r\n        width:100%;\r\n    }\r\n`\r\n\r\nconst DrawerButton = styled.button`\r\n    display:block;\r\n    text-align:left;\r\n    background:none;\r\n    color:${props => props.active ? colors.lightblue : colors.white};\r\n    border:none;\r\n    outline:none;\r\n    line-height:2;\r\n    transition:250ms;\r\n    font-family:'Lato', sans-serif;\r\n    opacity: ${props => props.active ? 1 : 0.6};\r\n    &:hover {\r\n        opacity:1;\r\n    }\r\n    @media(max-width:1024px) {\r\n        display:none;\r\n    }\r\n`\r\n\r\nconst BodyContainer = styled.div`\r\n    position:absolute;\r\n    left: 120px;\r\n    padding: 0 50px 50px 0;\r\n    box-sizing:border-box;\r\n    top:25px;\r\n    transform:translateX(25px);\r\n    overflow-y:scroll;\r\n    height:calc(100% - 25px);\r\n    width:calc(100% - 105px);\r\n    font-size:115% !important;\r\n    line-height:1.75 !important;\r\n    .social-container {\r\n        a {\r\n            img {\r\n                width: 25px;\r\n                height: 25px;\r\n                padding: 5px 10px 0px 0px;\r\n                transition: all 250ms ease 0s;\r\n                opacity: 0.7;\r\n                &:hover {\r\n                    opacity:1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    button.hoverButton {\r\n        background:none;\r\n        border:none;\r\n        font-size:100% !important;\r\n        border-bottom:1px solid ${colors.yellow};\r\n        outline:none;\r\n        color:${colors.yellow};\r\n        padding:0;\r\n        &:after {\r\n            content:' ';\r\n        }\r\n    }\r\n    @media (max-width:1024px) {\r\n        left:0;\r\n        width:calc(100% + 15px);\r\n        height:calc(100% - 75);\r\n        top:75px;\r\n        font-size:100% !important;\r\n    }\r\n`\r\n\r\nconst TutorialButton = styled.button`\r\n    background:none;\r\n    outline:none;\r\n    box-sizing:border-box;\r\n    border:1px solid white;\r\n    cursor:pointer;\r\n    text-align:left;\r\n    padding:5px;\r\n    width:calc(50% - 10px);\r\n    margin: 5px;\r\n    display:inline-block;\r\n    color:${colors.white};\r\n    font-family:'Lato', sans-serif;\r\n    padding:10px;\r\n    transition:250ms all;\r\n    &:hover {\r\n        background: ${colors.yellow};\r\n        color: ${colors.gray};\r\n    }\r\n    h3, p {\r\n        padding:0;\r\n        margin:0;\r\n    }\r\n`\r\n\r\nconst PagesDropDown = styled(StyledDropDown)`\r\n    position:absolute;\r\n    top:0;\r\n    visibility:hidden;\r\n    left:50%;\r\n    transform:translateX(-50%);\r\n    @media (max-width:1024px) {\r\n        visibility:visible;\r\n    }\r\n`\r\n\r\nconst tutorialInfo = [\r\n    {\r\n        \"title\":\"Choropleth Maps\",\r\n        \"subtitle\": \"Explore counts and percentages of cases, deaths, hosipital beds, and testing data.\",\r\n        \"link\": \"choropleth-tutorial\"\r\n    },\r\n    {\r\n        \"title\":\"Hotspots\",\r\n        \"subtitle\": \"Find groups of counties and states affected by the virus.\",\r\n        \"link\": \"hotspot-tutorial\"\r\n    },\r\n    {\r\n        \"title\":\"Emerging Trends\",\r\n        \"subtitle\": \"Locate areas that will soon be significantly affected by COVID.\",\r\n        \"link\": \"emerging-tutorial\"\r\n    },\r\n    {\r\n        \"title\":\"Change Over Time\",\r\n        \"subtitle\": \"See the history of the virus by county and state.\",\r\n        \"link\": \"change-tutorial\"\r\n    },\r\n]\r\n\r\n\r\nconst InfoBox = () => {\r\n    const panelOpen = useSelector(state => state.panelState.tutorial)\r\n    const [currArticle, setCurrArticle] = useState(\"welcome\")\r\n    \r\n    const handleSelect = (e) => {\r\n        setCurrArticle(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <InfoContainer active={panelOpen}>\r\n            <Drawer>\r\n                {Object.keys(pages).map(page => \r\n                    pages[page][\"pageName\"] !== null ? \r\n                    <DrawerButton \r\n                            onClick={() => setCurrArticle(page)}\r\n                            active={currArticle === page}\r\n                        >\r\n                                {pages[page][\"pageName\"]}\r\n                    </DrawerButton>\r\n                    : ''\r\n                )}\r\n            </Drawer>\r\n            <PagesDropDown id=\"selectPage\">\r\n                    <Select \r\n                        value={currArticle} \r\n                        id=\"numerator-select\"\r\n                        onChange={handleSelect}\r\n                    >\r\n                        \r\n                        {Object.keys(pages).map(page => \r\n                            pages[page][\"pageName\"] !== null ? \r\n                            <MenuItem \r\n                                value={page} \r\n                                key={page}\r\n                                >\r\n                                        {pages[page][\"pageName\"]}\r\n                            </MenuItem>\r\n                            : \r\n                            <MenuItem \r\n                                value={page} \r\n                                key={page}\r\n                                style={{display:'none'}}\r\n                                >\r\n                                        {pages[page][\"pageName\"]}\r\n                            </MenuItem>\r\n                        )}\r\n                    </Select>\r\n                </PagesDropDown>\r\n            <BodyContainer>\r\n                {pages[currArticle]['content']}\r\n                {(currArticle === \"getting-started\") && \r\n                    tutorialInfo.map(tutorial => \r\n                        <TutorialButton onClick={() => setCurrArticle(tutorial.link)}>\r\n                            <h3>{tutorial.title}</h3>\r\n                            <p>{tutorial.subtitle}</p>\r\n                        </TutorialButton>\r\n                    )\r\n                }\r\n                {currArticle.includes('tutorial') && <TutorialButton onClick={() => setCurrArticle('getting-started')}>Return to Tutorials</TutorialButton>}\r\n            </BodyContainer>\r\n        </InfoContainer>\r\n    )\r\n}\r\n\r\nexport default InfoBox;","import React from 'react';\r\nimport { Tooltip } from '../components';\r\n\r\nconst BinsList = (props) => {\r\n    let bins = props.data;\r\n\r\n    if (bins.slice(-1,)[0] === '>'+bins.slice(-2,-1)[0]) {\r\n        bins.splice(-2,1)\r\n    }\r\n    return (\r\n        (bins.map((bin, index) => \r\n            <div className=\"bin label\" key={`${bin}_${index}`}>\r\n                {bin.indexOf('tooltip') === -1 && bin}\r\n                {bin.indexOf('tooltip') !== -1 && <span>{bin.split(' tooltip:')[0]}<Tooltip id={bin.split(' tooltip:')[1]} /></span>}\r\n            </div>\r\n            )\r\n        )\r\n    )\r\n}\r\n\r\nexport default BinsList;","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport BinsList from './binsList';\r\n\r\nconst LegendContainer = styled.div`\r\n    width:100%;\r\n    padding:10px;\r\n    margin:0;\r\n    box-sizing: border-box;\r\n    div.MuiGrid-item {\r\n        padding:5px 5px 0 5px;\r\n    }\r\n`\r\n\r\nconst LegendTitle = styled.h3`\r\n    text-align: center;\r\n    font-family:'Playfair Display', serif;\r\n    padding:0;\r\n    font-weight:normal;\r\n    margin:0;\r\n    color:white;\r\n`\r\n\r\nconst BinLabels = styled.div`\r\n    width:100%;\r\n    display: flex;\r\n    margin-top:0px;\r\n    box-sizing: border-box;\r\n    padding: 0 ${props => props.binLength > 6 ? 100/props.binLength/2-1 : 0}%;\r\n    .bin { \r\n        height:10px;\r\n        display: inline;\r\n        border:0;\r\n        margin:0;\r\n        flex:2;\r\n        color:white;\r\n        font-size:10px;\r\n        text-align: center;\r\n    }\r\n    .bin:nth-of-type(1) {\r\n        transform: ${props => props.firstBinZero ? 'translateX(-45%)' : 'none'};\r\n    }\r\n`\r\nconst BinBars = styled.div`\r\n    width:100%;\r\n    display: flex;\r\n    margin-top:3px;\r\n    box-sizing: border-box;\r\n    .bin { \r\n        height:5px;\r\n        display: inline;\r\n        flex:1;\r\n        border:0;\r\n        margin:0;\r\n    }\r\n    .bin:nth-of-type(1) {\r\n        transform: ${props => props.firstBinZero ? 'scaleX(0.35)' : 'none'};\r\n    }\r\n`\r\n\r\n\r\nconst Legend =  () => {\r\n    \r\n    const mapParams = useSelector(state => state.mapParams);\r\n    const dataParams = useSelector(state => state.dataParams);\r\n\r\n    return (\r\n        <LegendContainer>\r\n            <Grid container spacing={2} id='legend-bins-container'>\r\n                <Grid item xs={12}>\r\n                    <LegendTitle>\r\n                        {dataParams.variableName}\r\n                    </LegendTitle>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    {mapParams.colorScale !== undefined &&  \r\n                        <span>\r\n                            <BinBars firstBinZero={`${mapParams.colorScale[0]}` === `240,240,240` && dataParams.fixedScale === null}>\r\n                                {mapParams.colorScale.map(color => <div className=\"bin color\" key={`${color[0]}${color[1]}`}style={{backgroundColor:`rgb(${color[0]},${color[1]},${color[2]})`}}></div>)}\r\n                            </BinBars>\r\n                            <BinLabels firstBinZero={`${mapParams.colorScale[0]}` === `240,240,240`} binLength={mapParams.bins.bins.length}>\r\n                                {(`${mapParams.colorScale[0]}` === `240,240,240` && dataParams.fixedScale === null) && <div className=\"bin firstBin\">0</div>}\r\n\r\n                                {\r\n                                    mapParams.bins.bins !== undefined && \r\n                                    <BinsList data={mapParams.bins.bins} />\r\n                                }\r\n                                \r\n                            </BinLabels>\r\n                        </span>\r\n                    }\r\n                </Grid>\r\n            </Grid>\r\n        </LegendContainer>\r\n    )\r\n}\r\n\r\nexport default Legend","import React, {useState} from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport {\r\n  LineChart, Line, XAxis, YAxis, ReferenceArea, \r\n  Tooltip, Label, ResponsiveContainer, Legend\r\n} from 'recharts';\r\n\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nimport styled from 'styled-components';\r\nimport { colors } from '../config';\r\nimport { setVariableParams } from '../actions';\r\n\r\nconst ChartContainer = styled.span`\r\n    span {\r\n        color:white;\r\n    }\r\n`\r\n\r\nconst StyledSwitch = styled.div`\r\n    float:left;\r\n    p {\r\n        color:white;\r\n        display:inline;\r\n    }\r\n    span.MuiSwitch-track {\r\n        background-color:${colors.lightgray};\r\n    }\r\n    .MuiSwitch-colorSecondary.Mui-checked {\r\n        color:${colors.lightblue};\r\n    }\r\n    .MuiSwitch-colorSecondary.Mui-checked + .MuiSwitch-track {\r\n        background-color: ${colors.lightblue};\r\n    }\r\n    .MuiSwitch-colorSecondary:hover {\r\n        background-color:${colors.lightblue}55;\r\n    }\r\n`\r\n\r\n\r\nconst ChartTitle = styled.h3`\r\n    text-align: center;\r\n    font-family:'Playfair Display', serif;\r\n    padding:0;\r\n    font-weight:normal;\r\n    margin:0;\r\n    color:white;\r\n`\r\n\r\n// const LegendList = styled.ul`\r\n//     list-style:none;\r\n//     margin-block-start: 0;\r\n//     margin-block-end: 0;\r\n//     padding-inline-start: 0;\r\n//     text-align:center;\r\n// `\r\n\r\n// const LegendItem = styled.li`\r\n//     color: ${props => props.color};\r\n//     font-family:'Lato', sans-serif;\r\n//     line-height:1.5;\r\n//     text-decoration: ${props => props.active ? 'underline' : 'none'};\r\n//     display:inline;\r\n//     margin-right:10px;\r\n\r\n// `\r\n\r\n\r\nconst monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\", \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n\r\nconst millionFormatter = val => { return `${val/1000000}M` };\r\nconst thousandFormatter = val => { return `${val/1000}K` };\r\nconst dateFormatter = val => { \r\n    let tempDate = new Date(val).getMonth();\r\n    return `${monthNames[tempDate]}`\r\n};\r\n\r\nconst CustomTick = props => {\r\n    return <text {...props}>{props.labelFormatter(props.payload.value)}</text>\r\n};\r\n\r\n\r\n// const stripLeadingZero = ( str ) => str[0] !== '0' ? str : str.slice(1,);\r\n\r\n// const getStartDate = (range, index, data) => {\r\n//     if (range === null) {\r\n//         try {\r\n//             if ((data.slice(0,1)[0].date).indexOf('-') === -1) {\r\n//                 return data.slice(0,1)[0].date\r\n//             } else {\r\n//                 let tempDate = data.slice(0,1)[0].date.split('-');\r\n//                 return `${stripLeadingZero(tempDate[1])}/${stripLeadingZero(tempDate[2])}/${tempDate[0].slice(0,2)}`\r\n//             }            \r\n//         } catch {\r\n//             return null\r\n//         }\r\n//     } else {\r\n//         try {\r\n//             if ((data[index-range].date).indexOf('-') === -1) {\r\n//                 return data[index-range].date\r\n//             } else {\r\n//                 let tempDate = data[index-range].date.split('-');\r\n//                 return `${stripLeadingZero(tempDate[1])}/${stripLeadingZero(tempDate[2])}/${tempDate[0].slice(0,2)}`\r\n//             }\r\n//         } catch {\r\n//             return null\r\n//         }\r\n//     }\r\n// }\r\n\r\n// const getEndDate = (index, data) => {\r\n//     try {\r\n//         if ((data[index].date).indexOf('-') === -1) {\r\n//             return data[index].date\r\n//         } else {\r\n//             let tempDate = data[index].date.split('-');\r\n//             return `${stripLeadingZero(tempDate[1])}/${stripLeadingZero(tempDate[2])}/${tempDate[0].slice(0,2)}`\r\n//         }\r\n//     } catch {\r\n//         return null\r\n//     }\r\n// }\r\n\r\nconst getDateRange = ({startDate, endDate}) => {\r\n    let dateArray = [];\r\n\r\n    let years;\r\n\r\n    if (startDate.getUTCFullYear() === endDate.getUTCFullYear()) {\r\n        years = [endDate.getUTCFullYear()]\r\n    } else {\r\n        years = []\r\n        for (let i=startDate.getUTCFullYear(); i<endDate.getUTCFullYear(); i++) {\r\n            years.push(i)\r\n        }\r\n    }\r\n\r\n    for (let i=0; i<years.length; i++){\r\n        let yearStr = ''+years[i]\r\n        let n;\r\n    \r\n        if (years[i] === 2020) {\r\n            n = 2\r\n        } else {\r\n            n = 1\r\n        }\r\n        while (n<13) {\r\n            let dateString = `${n}/${1}/${yearStr.slice(-2,)}`\r\n            if (new Date(dateString) > endDate) break\r\n            dateArray.push(dateString)\r\n            n++\r\n        }\r\n    }\r\n    return dateArray;\r\n}\r\n\r\nconst CustomTooltip = props => {\r\n    try {\r\n        if (props.active) {\r\n            let data = props.payload\r\n            return (\r\n                <div \r\n                    style={{\r\n                        background:colors.darkgray,\r\n                        padding:'1px 10px',\r\n                        borderRadius:'4px',\r\n                        boxShadow: '0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)'\r\n                \r\n                }}> \r\n                <p style={{color:'white', padding:0,}}>{data[0].payload.date}</p>\r\n                    {data.map(data => \r\n                        <p style={{color: data.color, textShadow: `2px 2px 4px ${colors.black}`, fontWeight:600}}>{data.name}: {Number.isInteger(Math.floor(data.payload[data.dataKey])) ? \r\n                            Math.floor(data.payload[data.dataKey]).toLocaleString('en') \r\n                            : data.payload[data.dataKey]}\r\n                        </p>\r\n                        \r\n                    )}\r\n                </div>\r\n            )\r\n        }\r\n    } catch {\r\n        return null;\r\n    }\r\n    return null;\r\n};\r\n\r\nconst MainLineChart = () => {\r\n    const chartData = useSelector(state => state.chartData);\r\n    const dataParams = useSelector(state => state.dataParams);\r\n    const currentVariable = useSelector(state => state.currentVariable);\r\n    const currentData = useSelector(state => state.currentData);\r\n    const dateIndices = useSelector(state => state.dateIndices);\r\n    const selectionKeys = useSelector(state => state.selectionKeys);\r\n\r\n    \r\n    const [logChart, setLogChart] = useState(false);\r\n    const [strokeOpacities, setStrokeOpacities] = useState([])\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleSwitch = () => {\r\n        setLogChart(prev => !prev);\r\n    }\r\n\r\n    const chartSetDate = (e) => {\r\n        if (e?.activeTooltipIndex !== undefined) {\r\n            if (dateIndices[currentData][dataParams.numerator].indexOf(e.activeTooltipIndex) !== -1) {\r\n                handleChange(e.activeTooltipIndex)\r\n            } else {\r\n                handleChange(dateIndices[currentData][dataParams.numerator].reduce((a, b) => {return Math.abs(b - e.activeTooltipIndex) < Math.abs(a - e.activeTooltipIndex) ? b : a}))\r\n            }\r\n        }\r\n    }    \r\n\r\n    const handleChange = (newValue) => {\r\n        if (dataParams.nType === \"time-series\" && dataParams.dType === \"time-series\") {\r\n            dispatch(setVariableParams({nIndex: newValue, dIndex: newValue}))\r\n        } else if (dataParams.nType === \"time-series\") {\r\n            dispatch(setVariableParams({nIndex: newValue}))\r\n        } else if (dataParams.dType === \"time-series\") {\r\n            dispatch(setVariableParams({dIndex: newValue}))\r\n        } else if (currentVariable.includes('Testing')){\r\n            dispatch(setVariableParams({nIndex: newValue}))\r\n        }\r\n    };\r\n\r\n    const getMax = ({ array, variables }) => {\r\n        let maxVals = {}\r\n\r\n        for (let i=0;i<array.length;i++) {\r\n            for (let n=0;n<variables.length;n++){\r\n                let tempVal = array[i][variables[n]];\r\n                if (maxVals[variables[n]]===undefined || maxVals[variables[n]] < tempVal) {\r\n                    maxVals[variables[n]] = tempVal\r\n                }\r\n            }\r\n        }\r\n\r\n        return maxVals\r\n    }\r\n\r\n    const rangeIncrement = ({ maximum, increment }) => {\r\n        let returnArray = []\r\n        \r\n        for (let i=0; i<maximum; i+=increment) {\r\n            returnArray.push(i)\r\n        }\r\n\r\n        return returnArray;\r\n    }\r\n\r\n    const summarizeChartData = ( { chartData, keys }) => {\r\n        let summarizedData = []\r\n\r\n        for (let i=0;i<chartData.length;i++) {\r\n            let tempSum = 0;\r\n            \r\n            for (let n=0; n<keys.length;n++ ) {\r\n                tempSum += chartData[i][`${keys[n]} Daily Count`]\r\n            }\r\n\r\n            summarizedData.push({\r\n                ...chartData[i],\r\n                'summarized': tempSum \r\n            })\r\n        }\r\n\r\n        return summarizedData\r\n    }\r\n\r\n    const parsedData = summarizeChartData( { chartData: chartData, keys: selectionKeys })\r\n    const maximums = getMax({array: parsedData, variables: ['count','sum']})\r\n    const dateRange = getDateRange({startDate: new Date('02/01/2020'), endDate: new Date()})\r\n    \r\n    const handleLegendHover = (o) => {\r\n        setStrokeOpacities(o.dataKey)\r\n    }\r\n\r\n    const handleLegendLeave = () => {\r\n        setStrokeOpacities(null)\r\n    }\r\n\r\n    return (\r\n        <ChartContainer id=\"lineChart\">\r\n            {selectionKeys.length < 2 && \r\n                <ChartTitle>Total Cases and 7-Day Average New Cases\r\n                    {selectionKeys.length>0 && `: ${selectionKeys[0]}`}\r\n                </ChartTitle>\r\n            }\r\n            {selectionKeys.length >= 2 && \r\n                <ChartTitle>7-Day Average New Cases</ChartTitle>\r\n            }\r\n            <ResponsiveContainer width=\"100%\" height=\"80%\">\r\n                <LineChart\r\n                    data={parsedData}\r\n                    margin={{\r\n                        top: 0, right: 10, left: 10, bottom: 20,\r\n                    }}\r\n                    onClick={dataParams.nType === 'characteristic' ? '' : chartSetDate}\r\n                >\r\n                    <XAxis \r\n                        dataKey=\"date\"\r\n                        ticks={dateRange}\r\n                        tick={\r\n                            <CustomTick\r\n                            style={{\r\n                                fill: `${colors.white}88`,\r\n                                fontSize: \"10px\",\r\n                                fontFamily: \"Lato\",\r\n                                fontWeight: 600,\r\n                                transform:'translateY(10px)'\r\n                            }}\r\n                            labelFormatter={dateFormatter}\r\n                            />\r\n                        }\r\n                    />\r\n                    <YAxis yAxisId=\"left\" type=\"number\" scale={logChart ? \"log\" : \"linear\"} domain={[0.01, 'dataMax']} allowDataOverflow \r\n                        ticks={selectionKeys.length === 0 ? rangeIncrement({maximum: maximums.sum, increment: 2000000}) : []} \r\n                        tick={\r\n                            <CustomTick\r\n                            style={{\r\n                                fill: colors.lightgray,\r\n                                fontSize: \"10px\",\r\n                                fontFamily: \"Lato\",\r\n                                fontWeight: 600\r\n                            }}\r\n                            labelFormatter={selectionKeys.length === 0 ? millionFormatter : thousandFormatter}\r\n                            />\r\n                        }\r\n                        >\r\n                        <Label value=\"Total Cases\" position='insideLeft' style={{marginTop:10, fill:colors.lightgray, fontFamily: 'Lato', fontWeight: 600}} angle={-90}  />\r\n                    </YAxis>\r\n                    <YAxis yAxisId=\"right\" orientation=\"right\" scale={logChart ? \"log\" : \"linear\"} domain={[0.01, 'dataMax']} allowDataOverflow \r\n                        ticks={selectionKeys.length === 0 ? rangeIncrement({maximum: maximums.count, increment: 50000}) : []}\r\n                        tick={\r\n                            <CustomTick\r\n                                style={{\r\n                                    fill: colors.lightgray,\r\n                                    fontSize: \"10px\",\r\n                                    fontFamily: \"Lato\",\r\n                                    fontWeight: 600,\r\n                                }}\r\n                                labelFormatter={thousandFormatter}\r\n                            />\r\n                        }\r\n                        >\r\n                        <Label value=\"7-Day Average New Cases\" position='insideTopRight' style={{marginTop:10, fill:(selectionKeys.length < 2 ? colors.yellow : colors.lightgray), fontFamily: 'Lato', fontWeight: 600}} angle={-90}  />\r\n                    </YAxis>\r\n                    <Tooltip\r\n                        content={CustomTooltip}\r\n                    />\r\n                    <ReferenceArea \r\n                        yAxisId=\"left\"\r\n                        // x1={getStartDate(dataParams.nRange, dataParams.nIndex, parsedData)}\r\n                        // x2={getEndDate(dataParams.nIndex, parsedData)} \r\n                        x1={dataParams.nRange === null ? \r\n                            dataParams.variableName.indexOf('Testing') !== -1 ? dataParams.nIndex - 7 : 0\r\n                            : dataParams.nIndex-dataParams.nRange}\r\n                        x2={dataParams.nIndex}\r\n                        fill=\"white\" \r\n                        fillOpacity={0.15}\r\n                        isAnimationActive={false}\r\n                    />\r\n                    {selectionKeys.length < 2 && <Line type=\"monotone\" yAxisId=\"left\" dataKey={selectionKeys.length > 0 ? selectionKeys[0] + \" Total Cases\" : \"sum\"} name=\"Total Cases\" stroke={colors.lightgray} dot={false} isAnimationActive={false} /> }\r\n                    {selectionKeys.length < 2 && <Line type=\"monotone\" yAxisId=\"right\" dataKey={selectionKeys.length > 0 ? selectionKeys[0] + \" Daily Count\": \"count\"} name=\"7-Day Average New Cases\" stroke={colors.yellow} dot={false} isAnimationActive={false} /> }\r\n                    \r\n                    {/* {selectionKeys.length !== 0 && \r\n                        selectionKeys.map((key,index) => { \r\n                            return <Line \r\n                                type=\"monotone\" \r\n                                yAxisId=\"left\" \r\n                                dataKey={key + ' Total Cases'} \r\n                                name={key + ' Total Cases'} \r\n                                stroke={colors.pairedColors.sum[index]} \r\n                                dot={false} \r\n                                isAnimationActive={false}  \r\n                                strokeOpacity={strokeOpacities.length === 0 || strokeOpacities.includes(key + ' Total Cases') ? 1 : 0.25}\r\n                            />}\r\n                        )\r\n                    } */}\r\n                    {selectionKeys.length > 1 && \r\n                            <Line \r\n                                type='monotone'\r\n                                yAxisId='right'\r\n                                dataKey='summarized' \r\n                                name='Total For Selection' \r\n                                stroke={colors.lightgray}\r\n                                strokeWidth={3} \r\n                                dot={false} \r\n                                isAnimationActive={false}  \r\n                            />\r\n                    }\r\n                    {selectionKeys.length > 1 && \r\n                        selectionKeys.map((key,index) => {\r\n                            return <Line \r\n                                type='monotone'\r\n                                yAxisId='right' \r\n                                dataKey={key + ' Daily Count'} \r\n                                name={key} \r\n                                stroke={colors.qualtitiveScale[index]} \r\n                                dot={false} \r\n                                isAnimationActive={false}  \r\n                                strokeOpacity={strokeOpacities === key + ' Daily Count' ? 1 : 0.5}\r\n                                strokeWidth={strokeOpacities === key + ' Daily Count' ? 2 : 1}\r\n                            />}\r\n                        )\r\n                    }\r\n                    <Legend \r\n                        // content={renderLegend}\r\n                        onMouseEnter={handleLegendHover} \r\n                        onMouseLeave={handleLegendLeave}\r\n                    />\r\n                </LineChart>\r\n            </ResponsiveContainer>\r\n            <StyledSwitch>\r\n                <Switch\r\n                    checked={logChart}\r\n                    onChange={handleSwitch}\r\n                    name='log chart switch'\r\n                    inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                />\r\n                <p>{logChart ? 'Log Scale' : 'Linear Scale'}</p>\r\n            </StyledSwitch>\r\n        </ChartContainer>\r\n    );\r\n}\r\n\r\nexport default MainLineChart\r\n\r\n// dataParams.nIndex-(dataParams.nRange||dataParams.nIndex)","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport {fromJS} from 'immutable';\r\nimport {find, findIndex} from 'lodash';\r\n\r\nimport DeckGL from '@deck.gl/react';\r\nimport {MapView, FlyToInterpolator} from '@deck.gl/core';\r\nimport { GeoJsonLayer, PolygonLayer, ScatterplotLayer, IconLayer, TextLayer } from '@deck.gl/layers';\r\nimport {fitBounds} from '@math.gl/web-mercator';\r\n\r\nimport MapboxGLMap, {NavigationControl, GeolocateControl } from 'react-map-gl';\r\nimport Geocoder from 'react-map-gl-geocoder';\r\n\r\nimport { MapTooltipContent } from '.';\r\nimport { setMapLoaded, setSelectionData, appendSelectionData, removeSelectionData } from '../actions';\r\nimport { mapFn, dataFn, getVarId, getCSV, getCartogramCenter, getDataForCharts, getURLParams } from '../utils';\r\nimport { colors, colorScales } from '../config';\r\nimport MAP_STYLE from '../config/style.json';\r\nimport { selectRect } from '../config/svg'; \r\n\r\nconst bounds = fitBounds({\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n    bounds: [[-130.14, 53.96],[-67.12, 19]]\r\n})\r\n\r\n// const hawaiiBounds = fitBounds({\r\n//     width: window.innerWidth*.15,\r\n//     height: window.innerHeight*.12,\r\n//     bounds: [[-161.13, 23.23],[-152.75, 17.67]]\r\n// })\r\n\r\n// const alaskaBounds = fitBounds({\r\n//     width: window.innerWidth*.15,\r\n//     height: window.innerHeight*.12,\r\n//     bounds: [[-167.75, 73.59],[-132.70, 50.09]]\r\n// })\r\n\r\nconst ICON_MAPPING = {\r\n    hospital: {x: 0, y: 0, width: 128, height: 128},\r\n    clinic: {x: 128, y: 0, width: 128, height: 128},\r\n  };\r\n\r\nconst MAPBOX_ACCESS_TOKEN = 'pk.eyJ1IjoibGl4dW45MTAiLCJhIjoiY2locXMxcWFqMDAwenQ0bTFhaTZmbnRwaiJ9.VRNeNnyb96Eo-CorkJmIqg';\r\n\r\nconst defaultMapStyle = fromJS(MAP_STYLE);\r\n\r\nconst MapContainer = styled.div`\r\n    position:absolute;\r\n    left:0;\r\n    top:0;\r\n    width:100%;\r\n    height:calc(100% - 50px);\r\n    background:${colors.darkgray};\r\n    @media (max-width:600px) {\r\n        div.mapboxgl-ctrl-geocoder {\r\n            display:none;\r\n        }\r\n    }\r\n`\r\n\r\nconst HoverDiv = styled.div`\r\n    background:${colors.gray};\r\n    padding:20px;\r\n    color:white;\r\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\r\n    border-radius:0.5vh 0.5vh 0 0;\r\n    transition:0s all;\r\n    h3 {\r\n        margin:2px 0;\r\n    }\r\n`;\r\n\r\nconst NavInlineButton = styled.button`\r\n    width:29px;\r\n    height:29px;\r\n    padding:5px;\r\n    margin-bottom:10px;\r\n    display:block;\r\n    background-color: ${props => props.isActive ? colors.lightblue : colors.buttongray};\r\n    -moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\r\n    -webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\r\n    box-shadow: 0 0 0 2px rgba(0,0,0,.1);\r\n    border-radius: 4px;\r\n    outline:none;\r\n    border:none;\r\n    transition:250ms all;\r\n    cursor:pointer;\r\n    &:last-of-type {\r\n        margin-top:10px;\r\n    }\r\n    :after {\r\n        opacity: ${props => props.shareNotification ? 1 : 0};\r\n        content:'Map Link Copied to Clipboard!';\r\n        background:${colors.buttongray};\r\n        -moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\r\n        -webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\r\n        box-shadow: 0 0 0 2px rgba(0,0,0,.1);\r\n        border-radius: 4px;\r\n        position: absolute;\r\n        transform:translate(-120%, -25%);\r\n        padding:5px;\r\n        width:150px;\r\n        pointer-events:none;\r\n        max-width:50vw;\r\n        transition:250ms all;\r\n    }\r\n`\r\n\r\nconst MapGeocoder = styled(Geocoder)`\r\n    @media (max-width:600px) {\r\n        display:none !important;\r\n    }\r\n`\r\n\r\nconst MapButtonContainer = styled.div`\r\n    position: absolute;\r\n    right: ${props => props.infoPanel ? 317 : 10}px;\r\n    bottom: 30px;\r\n    zIndex: 10;\r\n    transition: 250ms all;\r\n    @media (max-width:768px) {\r\n        bottom:100px;\r\n    }\r\n    @media (max-width: 400px) {\r\n        transform:scale(0.75) translate(20%, 20%);\r\n    }\r\n`\r\n\r\nconst ShareURL = styled.input`\r\n    position:fixed;\r\n    left:110%;\r\n`\r\n\r\nconst IndicatorBox = styled.div`\r\n    position:fixed;\r\n    top:${props => props.y}px;\r\n    left:${props => props.x}px;\r\n    width:${props => props.width}px;\r\n    height:${props => props.height}px;\r\n    border:1px dashed #FFCE00;\r\n    background:rgba(0,0,0,0.25);\r\n    z-index:5;\r\n`\r\n\r\nconst MapSection = () => { \r\n    \r\n    const { storedData, storedGeojson, currentData, storedLisaData, dateIndices,\r\n        storedCartogramData, panelState, dates, dataParams, mapParams,\r\n        currentVariable, urlParams, mapLoaded } = useSelector(state => state);\r\n\r\n    const [hoverInfo, setHoverInfo] = useState(false);\r\n    const [highlightGeog, setHighlightGeog] = useState([]);\r\n    // const [globalMap, setGlobalMap] = useState(false);\r\n    const globalMap = false;\r\n    const [mapStyle, setMapStyle] = useState(defaultMapStyle);\r\n    const [currLisaData, setCurrLisaData] = useState({})\r\n    \r\n    const [viewState, setViewState] = useState({\r\n        latitude: +urlParams.lat || bounds.latitude,\r\n        longitude: +urlParams.lon || bounds.longitude,\r\n        zoom: +urlParams.z || bounds.zoom,\r\n        bearing:0,\r\n        pitch:0\r\n    })\r\n\r\n    const [cartogramData, setCartogramData] = useState([]);\r\n    const [currVarId, setCurrVarId] = useState(null);\r\n    const [hospitalData, setHospitalData] = useState(null);\r\n    const [clinicData, setClinicData] = useState(null);\r\n    const [storedCenter, setStoredCenter] = useState(null);\r\n    const [shared, setShared] = useState(false);\r\n    const [multipleSelect, setMultipleSelect] = useState(false);\r\n    const [choroplethInteractive, setChoroplethInteractive] = useState(true);\r\n    const [boxSelect, setBoxSelect] = useState(false);\r\n    const [boxSelectDims, setBoxSelectDims] = useState({});\r\n    // const [resetSelect, setResetSelect] = useState(null);\r\n    // const [mobilityData, setMobilityData] = useState([]);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => { \r\n        window.addEventListener('storage', () => {\r\n            // When local storage changes, dump the list to\r\n            // the console.\r\n            const SHARED_GEOID =  localStorage.getItem('SHARED_GEOID').split(',').map(d => parseInt(d))\r\n            \r\n            if (SHARED_GEOID !== null) {\r\n                setHighlightGeog(SHARED_GEOID); \r\n            }\r\n            \r\n            const SHARED_VIEW =  JSON.parse(localStorage.getItem('SHARED_VIEW'));\r\n            \r\n            if (SHARED_VIEW !== null && SHARED_VIEW.hasOwnProperty('latitude')) {\r\n                setViewState(\r\n                    prevView => ({\r\n                        ...prevView,\r\n                        longitude: SHARED_VIEW.longitude,\r\n                        latitude: SHARED_VIEW.latitude,\r\n                        zoom: SHARED_VIEW.zoom,\r\n                        transitionDuration: 1000,\r\n                        transitionInterpolator: new FlyToInterpolator()\r\n                    })\r\n                )   \r\n            }\r\n        });\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        try {\r\n            if (Object.keys(storedData).length === 1) {\r\n                document.querySelector(\".mapboxgl-ctrl-top-right\").addEventListener(\"click\", () => {\r\n                    setChoroplethInteractive(false);\r\n                    setTimeout(() => {document.querySelector('.mapboxgl-ctrl-geocoder--input').select()},50)\r\n                })\r\n            }\r\n        } catch {\r\n            setTimeout(() => {\r\n                if (Object.keys(storedData).length === 1) {\r\n                    document.querySelector(\".mapboxgl-ctrl-top-right\").addEventListener(\"click\", () => {\r\n                        setChoroplethInteractive(false)\r\n                        setTimeout(() => {document.querySelector('.mapboxgl-ctrl-geocoder--input').select()},50)\r\n                    })\r\n                }\r\n            }, 5000)\r\n        }\r\n    },[storedData])\r\n\r\n    useEffect(() => {\r\n        let arr = [];\r\n        if (storedData[currentData] && mapParams.vizType === 'cartogram') {\r\n            for (let i=0; i<storedData[currentData].length; i++) {\r\n                arr.push({id:i})\r\n            }\r\n        }\r\n        setCartogramData(arr)\r\n    }, [storedData, currentData, mapParams.vizType])\r\n\r\n    useEffect(() => {\r\n        setCurrVarId(getVarId(currentData, dataParams))\r\n    }, [dataParams, mapParams, currentData])\r\n\r\n\r\n    useEffect(() => {\r\n        switch(mapParams.vizType) {\r\n            case '2D': \r\n                setViewState(view => ({\r\n                    ...view,\r\n                    latitude: +urlParams.lat || bounds.latitude,\r\n                    longitude: +urlParams.lon || bounds.longitude,\r\n                    zoom: +urlParams.z || bounds.zoom,\r\n                    bearing:0,\r\n                    pitch:0\r\n                }));\r\n                setStoredCenter(null)\r\n                break\r\n            case '3D':\r\n                setViewState(view => ({\r\n                    ...view,\r\n                    latitude: +urlParams.lat || 39.8283,\r\n                    longitude: +urlParams.lon || -98.5795,\r\n                    zoom: +urlParams.z || bounds.zoom,\r\n                    bearing:-30,\r\n                    pitch:30\r\n                }));\r\n                setStoredCenter(null)\r\n                break\r\n            // case 'cartogram':\r\n            //     useCallback(() => {\r\n            //         let center = getCartogramCenter(storedCartogramData[getVarId(currentData, dataParams)])\r\n            //         setViewState(view => ({\r\n            //             ...view,\r\n            //             latitude: center[1],\r\n            //             longitude: center[0],\r\n            //             zoom: 5,\r\n            //             bearing:0,\r\n            //             pitch:0\r\n            //         }));\r\n            //     }, [cartogramData])\r\n            //     break\r\n            default:\r\n                //\r\n        }\r\n    }, [mapParams.vizType])\r\n\r\n    useEffect(() => {\r\n        let tempData = storedLisaData[getVarId(currentData, dataParams)]\r\n        if (tempData !== undefined) setCurrLisaData(tempData);\r\n    }, [storedLisaData, dataParams, mapParams])\r\n\r\n    useEffect(() => {\r\n        const defaultLayers = defaultMapStyle.get('layers');\r\n        let tempLayers;\r\n\r\n        if (mapParams.vizType === 'cartogram' || globalMap) {\r\n            tempLayers = defaultLayers.map(layer => {\r\n                return layer.setIn(['layout', 'visibility'], 'none');\r\n            });\r\n        } else if (mapParams.vizType === '3D') {\r\n            tempLayers = defaultLayers.map(layer => {\r\n                if ((layer.get('id').includes('label')) && !(layer.get('id').includes('water'))) return layer;\r\n                return layer.setIn(['layout', 'visibility'], 'none');\r\n            });\r\n        } else {\r\n            tempLayers = defaultLayers.map(layer => {\r\n                if (mapParams.resource.includes(layer.get('id')) || mapParams.overlay.includes(layer.get('id'))) {\r\n                    return layer.setIn(['layout', 'visibility'], 'visible');\r\n                } else {\r\n                    return layer;\r\n                }\r\n            });\r\n        }\r\n        setMapStyle(defaultMapStyle.set('layers', tempLayers));\r\n\r\n    }, [mapParams.overlay, mapParams.vizType])\r\n\r\n    useEffect(() => {\r\n        if (hospitalData === null) {\r\n            getCSV(`${process.env.PUBLIC_URL}/csv/us_healthcare_capacity-facility-CovidCareMap.csv`)\r\n            .then(values => setHospitalData(values))\r\n        }\r\n\r\n        if (clinicData === null) {\r\n            getCSV(`${process.env.PUBLIC_URL}/csv/health_centers.csv`)\r\n            .then(values => setClinicData(values))\r\n        }\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        if (storedCartogramData[getVarId(currentData, dataParams)]){\r\n            let center = getCartogramCenter(storedCartogramData[getVarId(currentData, dataParams)])\r\n            let roundedCenter = [Math.floor(center[0]),Math.floor(center[1])]\r\n            if (storedCenter === null || roundedCenter[0] !== storedCenter[0]) {\r\n                setViewState(view => ({\r\n                    ...view,\r\n                    latitude: center[1],\r\n                    longitude: center[0],\r\n                    zoom: 5,\r\n                    bearing:0,\r\n                    pitch:0\r\n                }));\r\n                setStoredCenter(roundedCenter)\r\n            }\r\n        }\r\n    }, [storedCartogramData, currentData])\r\n\r\n    useEffect(() => {\r\n        setViewState(view => ({\r\n            ...view,\r\n            latitude: +urlParams.lat || bounds.latitude,\r\n            longitude: +urlParams.lon || bounds.longitude,\r\n            zoom: +urlParams.z || bounds.zoom,\r\n            bearing:0,\r\n            pitch:0\r\n        }));\r\n    }, [urlParams])\r\n    \r\n    const GetFillColor = (f, bins, mapType) => {\r\n        if ((!bins.hasOwnProperty(\"bins\")) || (!f.hasOwnProperty(dataParams.numerator))) {\r\n            return [240,240,240,0]\r\n        } else if (mapType === 'lisa') {\r\n            return colorScales.lisa[currLisaData[storedGeojson[currentData]['geoidOrder'][f.properties.GEOID]]]\r\n        } else {\r\n            return mapFn(dataFn(f[dataParams.numerator], f[dataParams.denominator], dataParams), bins.breaks, mapParams.colorScale, mapParams.mapType, dataParams.numerator);\r\n        }\r\n    }\r\n    \r\n    const GetHeight = (f) => dataFn(f[dataParams.numerator], f[dataParams.denominator], dataParams)*(dataParams.scale3D/((dataParams.nType === \"time-series\" && dataParams.nRange === null) ? (dataParams.nIndex)/10 : 1))\r\n        // if (dataParams.zAxisParams === null) {\r\n        //     return dataFn(f[dataParams.numerator], f[dataParams.denominator], dataParams)*(dataParams.scale3D)\r\n        // } else {\r\n        //     return dataFn(f[dataParams.zAxisParams.numerator], f[dataParams.zAxisParams.denominator], dataParams.zAxisParams)*(dataParams.zAxisParams.scale3D)\r\n        // }\r\n\r\n    const handleGeolocate = (viewState) => {\r\n        setViewState(view => ({\r\n            ...view,\r\n            latitude: viewState.coords.latitude,\r\n            longitude: viewState.coords.longitude,\r\n            zoom: 8,\r\n            transitionInterpolator: new FlyToInterpolator(),\r\n            transitionDuration: 250,\r\n        }))\r\n    }\r\n\r\n    const handleGeocoder = (viewState) => {\r\n        setViewState(view => ({\r\n            ...view,\r\n            latitude: viewState.latitude,\r\n            longitude: viewState.longitude,\r\n            zoom: 8,\r\n            transitionInterpolator: new FlyToInterpolator(),\r\n            transitionDuration: 250,\r\n            onTransitionEnd: () => {\r\n                document.querySelector('.mapboxgl-ctrl-geocoder--button').click()\r\n                setChoroplethInteractive(true)\r\n            }\r\n        }))\r\n    }\r\n\r\n    \r\n\r\n    const getCartogramFillColor = (val, id, bins, mapType) => {\r\n        \r\n        if (!bins.hasOwnProperty(\"bins\")) {\r\n            return [0,0,0]\r\n        } else if (mapType === 'lisa') {\r\n            return colorScales.lisa[currLisaData[id]]\r\n        } else {\r\n            return mapFn(val, bins.breaks, mapParams.colorScale, mapParams.mapType, dataParams.numerator) \r\n        }\r\n    }\r\n\r\n    const mapRef = useRef();\r\n    const deckRef = useRef();\r\n\r\n    const handleShare = async (params) => {\r\n        const shareData = {\r\n            title: 'The US Covid Atlas',\r\n            text: 'Near Real-Time Exploration of the COVID-19 Pandemic.',\r\n            url: `${window.location.href.split('?')[0]}${getURLParams(params)}`,\r\n        }\r\n\r\n        try {\r\n            await navigator.share(shareData)\r\n          } catch(err) {\r\n            let copyText = document.querySelector(\"#share-url\");\r\n            copyText.value = `${shareData.url}`;\r\n            copyText.style.display = 'block'\r\n            copyText.select();\r\n            copyText.setSelectionRange(0, 99999);\r\n            document.execCommand(\"copy\");\r\n            copyText.style.display = 'none';\r\n            setShared(true)\r\n            setTimeout(() => setShared(false), 5000);\r\n        }\r\n    }\r\n\r\n    const handleKeyDown = (e) => {\r\n        if (e.target.selectionStart === undefined){\r\n            if (e.ctrlKey) setMultipleSelect(true);\r\n            if (e.shiftKey) setBoxSelect(true);\r\n        }\r\n    }\r\n\r\n    const handleKeyUp = (e) => {\r\n        if (e.target.selectionStart === undefined){\r\n            if (!e.ctrlKey) setMultipleSelect(false);\r\n            if (!e.shiftKey) setBoxSelect(false);\r\n        }\r\n    }\r\n\r\n    \r\n    const handleMapHover = ({x, y, object}) => {\r\n        // let eps = 1\r\n        // if (((x-hoverInfo.x>eps||x-hoverInfo.x<-1*eps)&&(y-hoverInfo.y>eps||y-hoverInfo.y<-1*eps))||hoverInfo === false){\r\n            setHoverInfo({x, y, object})\r\n        // }\r\n    }\r\n    const Layers = [\r\n        // new SolidPolygonLayer({\r\n        //     id: 'background',\r\n        //     data: [\r\n        //       [[-180, 90], [0, 90], [180, 90], [180, -90], [0, -90], [-180, -90]]\r\n        //     ],\r\n        //     getPolygon: d => d,\r\n        //     stroked: false,\r\n        //     filled: true,\r\n        //     visible: globalMap,\r\n        //     updateTriggers: {\r\n        //         visible: globalMap\r\n        //     },\r\n        //     getFillColor: [40, 40, 40]\r\n        //   }),\r\n        new GeoJsonLayer({\r\n            id: 'choropleth',\r\n            data: {\r\n                \"type\": \"FeatureCollection\",\r\n                \"name\": currentData,\r\n                \"crs\": { \"type\": \"name\", \"properties\": { \"name\": \"urn:ogc:def:crs:OGC:1.3:CRS84\" } },\r\n                \"features\": storedData[currentData] ? storedData[currentData] : [],\r\n            },\r\n            visible: mapParams.vizType !== 'cartogram',\r\n            pickable: mapParams.vizType !== 'cartogram' && choroplethInteractive,\r\n            stroked: false,\r\n            filled: true,\r\n            wireframe: mapParams.vizType === '3D',\r\n            extruded: mapParams.vizType === '3D',\r\n            opacity: 0.8,\r\n            material:false,\r\n            getFillColor: f => GetFillColor(f, {bins: mapParams.bins.bins, breaks:mapParams.bins.breaks}, mapParams.mapType),\r\n            getElevation: f => GetHeight(f),\r\n            updateTriggers: {\r\n                data: currentData,\r\n                pickable: [mapParams.vizType, choroplethInteractive],\r\n                getFillColor: [mapParams.mapType, mapParams.bins.bins, mapParams.bins.breaks, mapParams.binMode, mapParams.fixedScale, mapParams.vizType, mapParams.colorScale, mapParams.customScale],\r\n                getElevation: [mapParams.mapType, mapParams.bins.bins, mapParams.bins.breaks, mapParams.binMode, mapParams.fixedScale, mapParams.vizType, mapParams.colorScale, mapParams.customScale],\r\n            },\r\n            onHover: handleMapHover,\r\n            onClick: info => {\r\n                let dataName = info?.object?.properties?.state_abbr !== undefined ? `${info.object?.properties?.NAME}, ${info?.object?.properties?.state_abbr}` : `${info.object?.properties?.NAME}`\r\n                if (multipleSelect) {\r\n                    try {\r\n                        if (highlightGeog.indexOf(info.object.properties.GEOID) === -1) {\r\n                            let GeoidList = [...highlightGeog, info.object.properties.GEOID]\r\n                            setHighlightGeog(GeoidList); \r\n                            dispatch(\r\n                                appendSelectionData({\r\n                                    values: getDataForCharts(\r\n                                        [info.object], \r\n                                        'cases', \r\n                                        dateIndices[currentData]['cases'], \r\n                                        dates, \r\n                                        dataName\r\n                                    ),\r\n                                    name: dataName,\r\n                                    index: findIndex(storedData[currentData], o => o.properties.GEOID === info.object.properties.GEOID)\r\n                                })\r\n                            );\r\n                            window.localStorage.setItem('SHARED_GEOID', GeoidList);\r\n                            window.localStorage.setItem('SHARED_VIEW', JSON.stringify(mapRef.current.props.viewState));\r\n                        } else {\r\n                            if (highlightGeog.length > 1) {\r\n                                let tempArray = [...highlightGeog];\r\n                                let geogIndex = tempArray.indexOf(info.object.properties.GEOID);\r\n                                tempArray.splice(geogIndex, 1);\r\n                                setHighlightGeog(tempArray);\r\n                                dispatch(\r\n                                    removeSelectionData({\r\n                                        name: dataName,\r\n                                        index: findIndex(storedData[currentData], o => o.properties.GEOID === info.object.properties.GEOID)\r\n                                    })\r\n                                )\r\n                                window.localStorage.setItem('SHARED_GEOID', tempArray);\r\n                                window.localStorage.setItem('SHARED_VIEW', JSON.stringify(mapRef.current.props.viewState));\r\n                            }\r\n                        }\r\n                    } catch {}\r\n                } else {\r\n                    try {\r\n                        setHighlightGeog([info.object.properties.GEOID]); \r\n                        dispatch(\r\n                            setSelectionData({\r\n                                values: getDataForCharts(\r\n                                    [info.object], \r\n                                    'cases', \r\n                                    dateIndices[currentData]['cases'], \r\n                                    dates, \r\n                                    dataName\r\n                                ),\r\n                                name: dataName,\r\n                                index: findIndex(storedData[currentData], o => o.properties.GEOID === info.object.properties.GEOID)\r\n                            })\r\n                        );\r\n                        window.localStorage.setItem('SHARED_GEOID', info.object.properties.GEOID);\r\n                        window.localStorage.setItem('SHARED_VIEW', JSON.stringify(mapRef.current.props.viewState));\r\n                        // if (mapParams.overlay === \"mobility-county\") {\r\n                        //     setMobilityData(parseMobilityData(info.object.properties.GEOID, storedMobilityData.flows[info.object.properties.GEOID], storedMobilityData.centroids));\r\n                        // }\r\n                    } catch {}\r\n                }\r\n            },\r\n        }),\r\n        new GeoJsonLayer({\r\n            id: 'highlightLayer',\r\n            data: {\r\n                \"type\": \"FeatureCollection\",\r\n                \"name\": currentData,\r\n                \"crs\": { \"type\": \"name\", \"properties\": { \"name\": \"urn:ogc:def:crs:OGC:1.3:CRS84\" } },\r\n                \"features\": storedData[currentData] ? storedData[currentData] : [],\r\n            },\r\n            pickable: false,\r\n            stroked: true,\r\n            filled:false,\r\n            getLineColor: f => highlightGeog.indexOf(f.properties.GEOID)!==-1 ? [0, 104, 109] : [0, 104, 109, 0], \r\n            lineWidthScale: 500,\r\n            getLineWidth: 5,\r\n            lineWidthMinPixels: 3,\r\n            lineWidthMaxPixels: 10,\r\n            parameters: {\r\n                depthTest: false\r\n            },\r\n            updateTriggers: {\r\n                data: currentData,\r\n                getLineColor: highlightGeog,\r\n            },\r\n        }),\r\n        // new LineLayer({\r\n        //     id: 'mobility flows',\r\n        //     data: mobilityData,\r\n        //     pickable: false,\r\n        //     visible: mapParams.overlay === \"mobility-county\",\r\n        //     widthUnits: 'meters',\r\n        //     widthScale: 10000,\r\n        //     getSourcePosition: d => [d[1],d[2]],\r\n        //     getTargetPosition: d => [d[3],d[4]],\r\n        //     getWidth: d => d[5] < 10 ? d[5] : 0,\r\n        //     updateTriggers: {\r\n        //         data: [mobilityData],\r\n        //         visible: [mapParams.overlay]\r\n        //     }\r\n        // }),\r\n        new IconLayer({\r\n            id: 'hospital-layer',\r\n            data: hospitalData,\r\n            pickable:true,\r\n            visible: mapParams.resource?.includes('hospital'),\r\n            iconAtlas: `${process.env.PUBLIC_URL}/assets/img/icon_atlas.png`,\r\n            iconMapping: ICON_MAPPING,\r\n            getIcon: d => 'hospital',\r\n            getPosition: d => [d.Longitude, d.Latitude],\r\n            sizeUnits: 'meters',\r\n            getSize: 20000,\r\n            sizeMinPixels:12,\r\n            sizeMaxPixels:24,\r\n            updateTriggers: {\r\n                data: hospitalData,\r\n                visible: mapParams.resource\r\n            },\r\n            onHover: handleMapHover,\r\n        }),\r\n        new IconLayer({\r\n            id: 'clinics-layer',\r\n            data: clinicData,\r\n            pickable:true,\r\n            visible: mapParams.resource?.includes('clinic'),\r\n            iconAtlas: `${process.env.PUBLIC_URL}/assets/img/icon_atlas.png`,\r\n            iconMapping: ICON_MAPPING,\r\n            getIcon: d => 'clinic',\r\n            getSize: 20000,\r\n            getPosition: d => [d.lon, d.lat],\r\n            sizeUnits: 'meters',\r\n            sizeMinPixels:7,\r\n            sizeMaxPixels:20,\r\n            updateTriggers: {\r\n                data: clinicData,\r\n                visible: mapParams\r\n            },\r\n            onHover: handleMapHover,\r\n        }),\r\n        new PolygonLayer({\r\n            id: 'background',\r\n            data: [\r\n                // prettier-ignore\r\n                [[-180, 90], [0, 90], [180, 90], [180, -90], [0, -90], [-180, -90]]\r\n            ],\r\n            opacity: 1,\r\n            getPolygon: d => d,\r\n            stroked: false,\r\n            filled: true,\r\n            visible: mapParams.vizType === 'cartogram',\r\n            getFillColor: [10,10,10],\r\n            updateTriggers: {\r\n                visible: mapParams.vizType,\r\n            }\r\n        }),\r\n        new ScatterplotLayer({\r\n            id: 'cartogram layer',\r\n            data: cartogramData,\r\n            pickable:true,\r\n            visible: mapParams.vizType === 'cartogram',\r\n            getPosition: f => {\r\n                try {\r\n                    return storedCartogramData[currVarId][f.id].position;\r\n                } catch {\r\n                    return [0,0];\r\n                }\r\n            },\r\n            getFillColor: f => {\r\n                try {\r\n                    return getCartogramFillColor(storedCartogramData[currVarId][f.id].value, f.id, mapParams.bins, mapParams.mapType);\r\n                } catch {\r\n                    return [0,0,0];\r\n                }\r\n            },\r\n            getRadius: f => {\r\n                try {\r\n                    return storedCartogramData[currVarId][f.id].radius*10;\r\n                } catch {\r\n                    return 0;\r\n                }\r\n            },\r\n            // transitions: {\r\n            //     getPosition: 1,\r\n            //     getFillColor: 1,\r\n            //     getRadius: 1\r\n            // },   \r\n            onHover: f => {\r\n                try {\r\n                    setHoverInfo(\r\n                        {\r\n                            ...f,\r\n                            object: find(storedData[currentData], o => o.properties.GEOID === storedGeojson[currentData]['indexOrder'][f.object?.id]),\r\n                        }\r\n                    )\r\n                } catch {\r\n                    setHoverInfo(null)\r\n                }\r\n            },\r\n            updateTriggers: {\r\n                getPosition: [cartogramData, mapParams, dataParams, currVarId],\r\n                getFillColor: [cartogramData, mapParams, dataParams, currVarId],\r\n                getRadius: [cartogramData, mapParams, dataParams, currVarId],\r\n                visible: [cartogramData, mapParams, dataParams, currVarId]\r\n            }\r\n          }),\r\n          new TextLayer({\r\n            id: 'cartogram text layer',\r\n            data: cartogramData,\r\n            pickable:false,\r\n            visible: mapParams.vizType === 'cartogram' && currentData.includes('state'),\r\n            getPosition: f => {\r\n                try {\r\n                    return storedCartogramData[currVarId][f.id].position;\r\n                } catch {\r\n                    return [0,0];\r\n                }\r\n            },\r\n            sizeUnits: 'meters',\r\n            fontWeight: 'bold',\r\n            getTextAnchor: 'middle',\r\n            getAlignmentBaseline: 'center',\r\n            maxWidth: 500,\r\n            wordBreak: 'break-word',\r\n            getSize: f => {\r\n                try {\r\n                    return storedCartogramData[currVarId][f.id].radius*5;\r\n                } catch {\r\n                    return 0;\r\n                }\r\n            },\r\n            getText: f => {\r\n                try {\r\n                    if (currentData.includes('state')) return find(storedData[currentData], o => +o.properties.GEOID === storedGeojson[currentData].indexOrder[f.id]).properties.NAME;\r\n                    return '';\r\n                } catch {\r\n                    return '';\r\n                }\r\n            },\r\n            updateTriggers: {\r\n                getPosition: [cartogramData, mapParams, dataParams, currVarId],\r\n                getFillColor: [cartogramData, mapParams, dataParams, currVarId],\r\n                getSize: [cartogramData, mapParams, dataParams, currVarId],\r\n                getRadius: [cartogramData, mapParams, dataParams, currVarId],\r\n                visible: [cartogramData, mapParams, dataParams, currVarId]\r\n            }\r\n          }),\r\n    ]\r\n\r\n    const view = new MapView({repeat: true});\r\n    const handleSelectionBoxStart = () => {\r\n        setBoxSelect(true)\r\n    }\r\n\r\n    const listener = (e) => {\r\n\r\n        setBoxSelectDims(prev => {\r\n            let x;\r\n            let y;\r\n            let width;\r\n            let height;\r\n\r\n            if (e.clientX < prev.ox) {\r\n                x = e.clientX;\r\n                width = prev.ox - e.clientX\r\n            } else {\r\n                x = prev.x;\r\n                width = e.clientX - prev.x\r\n            }\r\n\r\n            if (e.clientY < prev.oy) {\r\n                y = e.clientY;\r\n                height = prev.oy - e.clientY\r\n            } else {\r\n                y = prev.y;\r\n                height = e.clientY - prev.y\r\n            }\r\n\r\n            return { ...prev, x, y, width, height }\r\n        })\r\n    }\r\n    \r\n    const touchListener = (e) => {\r\n        // setX(e?.targetTouches[0]?.clientX-15)\r\n        // setY(e?.targetTouches[0]?.clientY-15)\r\n        // console.log(e)\r\n    }\r\n\r\n    const removeListeners = () => {\r\n        window.removeEventListener('touchmove', touchListener)\r\n        window.removeEventListener('touchend', removeListeners)\r\n        window.removeEventListener('mousemove', listener)\r\n        window.removeEventListener('mouseup', removeListeners)\r\n    }\r\n\r\n    const handleBoxSelect = (e) => {\r\n        try {\r\n            if (e.type === 'mousedown') {\r\n                setBoxSelectDims({\r\n                    x:e.pageX,\r\n                    y:e.pageY,\r\n                    ox:e.pageX,\r\n                    oy:e.pageY,\r\n                    width:0,\r\n                    height:0\r\n                });\r\n                window.addEventListener('touchmove', touchListener);\r\n                window.addEventListener('touchend', removeListeners);\r\n                window.addEventListener('mousemove', listener);\r\n                window.addEventListener('mouseup', removeListeners);\r\n            } else {\r\n    \r\n                const {x, y, width, height } = boxSelectDims;\r\n    \r\n                let layerIds = ['choropleth'];\r\n    \r\n                let features = deckRef.current.pickObjects(\r\n                        {\r\n                            x, y: y-50, width, height, layerIds\r\n                        }\r\n                    )\r\n    \r\n                let GeoidList = [];\r\n                for (let i=0; i<features.length; i++) {\r\n                    GeoidList.push(features[i].object.properties.GEOID)\r\n                    let dataName = features[i]?.object?.properties?.state_abbr !== undefined ? `${features[i].object?.properties?.NAME}, ${features[i]?.object?.properties?.state_abbr}` : `${features[i].object?.properties?.NAME}`\r\n                    \r\n                    if (i===0){\r\n                        dispatch(\r\n                            setSelectionData({\r\n                                values: getDataForCharts(\r\n                                    [features[i].object], \r\n                                    'cases', \r\n                                    dateIndices[currentData]['cases'], \r\n                                    dates, \r\n                                    dataName\r\n                                ),\r\n                                name: dataName,\r\n                                index: findIndex(storedData[currentData], o => o.properties.GEOID === features[i].object.properties.GEOID)\r\n                            })\r\n                        );\r\n                    } else {\r\n                        dispatch(\r\n                            appendSelectionData({\r\n                                values: getDataForCharts(\r\n                                    [features[i].object], \r\n                                    'cases', \r\n                                    dateIndices[currentData]['cases'], \r\n                                    dates, \r\n                                    dataName\r\n                                ),\r\n                                name: dataName,\r\n                                index: findIndex(storedData[currentData], o => o.properties.GEOID === features[i].object.properties.GEOID)\r\n                            })\r\n                        );\r\n                    }\r\n                }\r\n                setHighlightGeog(GeoidList); \r\n                window.localStorage.setItem('SHARED_GEOID', GeoidList);\r\n                window.localStorage.setItem('SHARED_VIEW', JSON.stringify(mapRef.current.props.viewState));\r\n                setBoxSelectDims({});\r\n                removeListeners();\r\n                setBoxSelect(false)\r\n            }\r\n        } catch {\r\n            console.log('bad selection')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <MapContainer\r\n            onKeyDown={handleKeyDown}\r\n            onKeyUp={handleKeyUp}\r\n            onMouseDown={e => boxSelect ? handleBoxSelect(e) : null}\r\n            onMouseUp={e => boxSelect ? handleBoxSelect(e) : null} \r\n        >\r\n            {\r\n                // boxSelectDims.hasOwnProperty('x') && \r\n                true && \r\n                <IndicatorBox \r\n                    x={boxSelectDims.x} \r\n                    y={boxSelectDims.y}\r\n                    width={boxSelectDims.width}\r\n                    height={boxSelectDims.height}>\r\n                </IndicatorBox>\r\n            }\r\n            <DeckGL\r\n                layers={Layers}\r\n                ref={deckRef}\r\n\r\n                initialViewState={viewState}\r\n                controller={\r\n                    {\r\n                        dragRotate: !boxSelect, \r\n                        dragPan: !boxSelect, \r\n                        doubleClickZoom: !boxSelect, \r\n                        touchZoom: !boxSelect, \r\n                        touchRotate: !boxSelect, \r\n                        keyboard: true, \r\n                        scrollZoom: true\r\n                    }\r\n                }\r\n                views={view}\r\n\r\n                // onViewStateChange={onViewStateChange}\r\n                // viewState={viewStates}\r\n                // views={insetMap ? views : views[0]}\r\n            >\r\n                <MapboxGLMap\r\n                    reuseMaps\r\n                    ref={mapRef}\r\n                    mapStyle={mapStyle} //{globalMap || mapParams.vizType === 'cartogram' ? 'mapbox://styles/lixun910/ckhtcdx4b0xyc19qzlt4b5c0d' : 'mapbox://styles/lixun910/ckhkoo8ix29s119ruodgwfxec'}\r\n                    preventStyleDiffing={true}\r\n                    mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\r\n                    onViewportChange={() => setHoverInfo(false)}\r\n                    // onViewportChange={viewState  => console.log(mapRef.current.props.viewState)} \r\n                    onLoad={() => {\r\n                        dispatch(setMapLoaded(true))\r\n                    }}\r\n                    >\r\n                    <MapGeocoder \r\n                        mapRef={mapRef}\r\n                        id=\"mapGeocoder\"\r\n                        onViewportChange={handleGeocoder}\r\n                        onClear={() => setTimeout(() => {setChoroplethInteractive(true)},500)}\r\n                        clearOnBlur={true}\r\n                        mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\r\n                        position=\"top-right\"                        \r\n                        placeholder=\"Search by Location\"\r\n                        style={{position: 'fixed', top:'5px', right:'5px'}}\r\n                        countries={\"US\"}\r\n                    />\r\n                        \r\n                    <MapButtonContainer \r\n                        infoPanel={panelState.info}\r\n                        onMouseEnter={() => {\r\n                            setHoverInfo(false)\r\n                            setChoroplethInteractive(false)}\r\n                        }\r\n                        onMouseLeave={() => setChoroplethInteractive(true)}\r\n                        >\r\n                        <NavInlineButton\r\n                            title=\"Selection Box\"\r\n                            isActive={boxSelect}\r\n                            onClick={() => handleSelectionBoxStart()}\r\n                        >\r\n                            {selectRect}\r\n                        </NavInlineButton>\r\n                        <GeolocateControl\r\n                            positionOptions={{enableHighAccuracy: false}}\r\n                            trackUserLocation={false}\r\n                            onGeolocate={viewState  => handleGeolocate(viewState)}\r\n                            style={{marginBottom: 10}}\r\n                        />\r\n                        <NavigationControl\r\n                            onViewportChange={viewState  => setViewState(viewState)} \r\n                        />\r\n                        \r\n                        <NavInlineButton\r\n                            title=\"Share this Map\"\r\n                            shareNotification={shared}\r\n                            onClick={() => handleShare({mapParams, dataParams, currentData, coords: mapRef.current.props.viewState, lastDateIndex: dateIndices[currentData][dataParams.numerator]})}\r\n                        >\r\n                            <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\">\r\n                                <path d=\"M22.5,65c4.043,0,7.706-1.607,10.403-4.208l29.722,14.861C62.551,76.259,62.5,76.873,62.5,77.5c0,8.284,6.716,15,15,15   s15-6.716,15-15c0-8.284-6.716-15-15-15c-4.043,0-7.706,1.608-10.403,4.209L37.375,51.847C37.449,51.241,37.5,50.627,37.5,50   c0-0.627-0.051-1.241-0.125-1.847l29.722-14.861c2.698,2.601,6.36,4.209,10.403,4.209c8.284,0,15-6.716,15-15   c0-8.284-6.716-15-15-15s-15,6.716-15,15c0,0.627,0.051,1.241,0.125,1.848L32.903,39.208C30.206,36.607,26.543,35,22.5,35   c-8.284,0-15,6.716-15,15C7.5,58.284,14.216,65,22.5,65z\">\r\n                                </path>\r\n                            </svg>\r\n\r\n                        </NavInlineButton>\r\n\r\n                        <ShareURL type=\"text\" value=\"\" id=\"share-url\" />\r\n                    </MapButtonContainer>\r\n                    <div></div>\r\n                </MapboxGLMap >\r\n                \r\n                {/* <View id=\"main\" className=\"test\" style={{display:'none'}}/> */}\r\n            </DeckGL>\r\n            \r\n            {hoverInfo.object && (\r\n                <HoverDiv style={{transition: '0ms all', position: 'absolute', zIndex: 1, pointerEvents: 'none', left: hoverInfo.x, top: hoverInfo.y}}>\r\n                    <MapTooltipContent content={hoverInfo.object} index={dataParams.nIndex} />\r\n                </HoverDiv>\r\n                )}\r\n        </MapContainer>\r\n    ) \r\n}\r\n\r\nexport default MapSection","import React from 'react';\r\n\r\n\r\n// This component handles and formats the map tooltip info. \r\n// The props passed to this component should contain an object of the hovered object (from deck, info.object by default)\r\nconst MapTooltipContent = (props) => {\r\n    // destructure the object for cleaner formatting\r\n\r\n    const { properties, cases, deaths, // county data\r\n            testing_ccpt, testing_tcap, testing_wk_pos, testing // state data\r\n     } = props.content;\r\n\r\n    // get lengths of time series data for reference below\r\n    let caseN = cases && props.index;\r\n    let deathN = deaths && props.index;\r\n    let testingN = testing && props.index;\r\n\r\n    // conditional returns for combination of information\r\n    // this is not elegant but a bit more reliable than JSX conditional rendering\r\n    if (properties && cases && deaths && testing) { // State Feature\r\n        return (\r\n            <div>\r\n                <h3>\r\n                    {properties.NAME}\r\n                </h3>\r\n                <div>\r\n                    <hr />\r\n                    Cases: {cases[caseN]?.toLocaleString('en')}<br/>\r\n                    New Cases: {(cases[caseN]-cases[caseN-1])?.toLocaleString('en')}<br/>\r\n                    Deaths: {deaths[deathN]?.toLocaleString('en')}<br/>\r\n                    New Deaths: {(deaths[deathN]-deaths[deathN-1])?.toLocaleString('en')}<br/>\r\n                    Total Testing: {(testing[testingN])?.toLocaleString('en')}<br/>\r\n                    7-Day Positivity Rate: {(testing_wk_pos[testingN]*100)?.toFixed(2)}%<br/>\r\n                    7-Day Testing Capacity: {(testing_tcap[testingN])?.toFixed(2)}<br/>\r\n                    7-Day Confirmed Cases per Testing: {(testing_ccpt[testingN]*100)?.toFixed(2)}%<br/>\r\n                    Testing Criterion: {properties.criteria}<br/>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else if (properties && cases && deaths){ // County Feature\r\n        return (\r\n            <div>\r\n                <h3>\r\n                    {properties.NAME} {properties.state_name && `, ${properties.state_name}`}\r\n                </h3>\r\n                <div>\r\n                    <hr />\r\n                    Cases: {cases[caseN]?.toLocaleString('en')}<br/>\r\n                    Deaths: {deaths[deathN]?.toLocaleString('en')}<br/>\r\n                    New Cases: {(cases[caseN]-cases[caseN-1])?.toLocaleString('en')}<br/>\r\n                    New Deaths: {(deaths[deathN]-deaths[deathN-1])?.toLocaleString('en')}<br/>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else if (props.content['Hospital Type']) { // Hospital Feature\r\n        return (\r\n            <div>\r\n                <h3>{props.content['Name']}</h3>\r\n                <div>\r\n                    <hr />\r\n                    {props.content['Hospital Type']}<br/>\r\n                    {props.content.Address} <br />\r\n                    {props.content.Address_2 && `${props.content.Address_2}${<br/>}`}\r\n                    {props.content.City}, {props.content.State}<br/>\r\n                    {props.content.Zipcode}<br/>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else if (props.content.testing_status) { // clinic feature\r\n        return (\r\n            <div>\r\n                <h3>{props.content.name}</h3>\r\n                <div>\r\n                    <hr />\r\n                    {props.content.address}<br/>\r\n                    {props.content.city},{props.content.st_abbr} <br />\r\n                    {props.content.phone}<br/><br/>\r\n                    {props.content.testing_status === 'Yes' ? 'This location offers COVID-19 testing.' : 'Currently, this location does not offer COVID-19 testing.'}<br/>\r\n                </div>\r\n            </div>\r\n        )\r\n    \r\n    } else {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MapTooltipContent","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nconst NavItems = styled.ul`\r\n  @media (max-width:1024px){\r\n    display:none !important;\r\n  }\r\n`\r\nconst NavBar = () => {\r\n    return (\r\n        <div className=\"navbar\">\r\n            <div className=\"nav-logo\">\r\n              <img src={`${process.env.PUBLIC_URL}/favicon/android-icon-192x192.png`} style={{height: '30px', paddingRight: '5px'}} alt=\"US Covid Atlas Logo\" /><a href=\"/\">US COVID ATLAS </a>\r\n            </div>\r\n          <NavItems> \r\n            <li><NavLink to=\"/data\">DATA</NavLink></li>\r\n            <li><NavLink to=\"/api\">API</NavLink></li>\r\n            <li><NavLink to=\"/methods\">METHODS</NavLink></li>\r\n            <li><NavLink to=\"/faq\">FAQ</NavLink></li>\r\n            <li><NavLink to=\"/insights\">INSIGHTS</NavLink></li>\r\n            <li><NavLink to=\"/about\">ABOUT</NavLink></li>\r\n            <li><NavLink to=\"/contact\">CONTACT</NavLink></li>\r\n          </NavItems>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\n\r\nimport { setNotification } from '../actions'\r\nimport { colors } from '../config'\r\n\r\nconst Notification = styled.div`\r\n    width: 300px;\r\n    max-width: 90vw;\r\n    position: fixed;\r\n    left: 50%;\r\n    top: 50%;\r\n    z-index: 15;\r\n    background: ${colors.gray};\r\n    color: ${colors.white};\r\n    padding: 0;\r\n    overflow: hidden;\r\n    border-radius: 4px;\r\n    padding:20px 30px 20px 20px;\r\n    -moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\r\n    -webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\r\n    box-shadow: 0 0 0 2px rgba(0,0,0,.1);\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    transform:translate(-50%, -50%);\r\n`\r\n\r\nconst CloseTutorial = styled.button`\r\n    position: absolute;\r\n    top: 12px;\r\n    right: 10px;\r\n    font-size: 200%;\r\n    cursor: pointer;\r\n    padding:0;\r\n    background:none;\r\n    outline:none;\r\n    border:none;\r\n    color:white;\r\n`\r\n\r\nconst NotificationBox = () => {\r\n    const dispatch = useDispatch();\r\n    const notification = useSelector(state => state.notification);\r\n\r\n    return (\r\n        notification && \r\n        <Notification>\r\n            <div dangerouslySetInnerHTML={{__html: notification}}></div>\r\n            <CloseTutorial onClick={() => dispatch(setNotification(null))}></CloseTutorial>\r\n        </Notification>\r\n    )\r\n}\r\n\r\nexport default NotificationBox","export const variableTree = {\r\n    \"HEADER:cases\":{},\r\n    \"Confirmed Count\": {\r\n        \"County\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'county_1p3a.geojson',\r\n                \"csv\":['covid_confirmed_1p3a']\r\n            },\r\n            \"USA Facts\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['covid_confirmed_usafacts'] \r\n            },\r\n            \"New York Times\": {\r\n                \"geojson\":'county_nyt.geojson',\r\n                \"csv\":['covid_confirmed_nyt']  \r\n            }\r\n        },\r\n        \"State\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'state_1p3a.geojson',\r\n                \"csv\":['covid_confirmed_1p3a_state']\r\n            },\r\n            \"New York Times\": {\r\n                \"geojson\":'state_nyt.geojson',\r\n                \"csv\":['covid_confirmed_nyt_state']\r\n            }, \r\n        }\r\n    },\r\n    \"Confirmed Count per 100K Population\":{\r\n        \"County\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'county_1p3a.geojson',\r\n                \"csv\":['covid_confirmed_1p3a']\r\n            },\r\n            \"USA Facts\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['covid_confirmed_usafacts'] \r\n            },\r\n            \"New York Times\": {\r\n                \"geojson\":'county_nyt.geojson',\r\n                \"csv\":['covid_confirmed_nyt']  \r\n            }\r\n        },\r\n        \"State\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'state_1p3a.geojson',\r\n                \"csv\":['covid_confirmed_1p3a_state']\r\n            },\r\n            \"New York Times\": {\r\n                \"geojson\":'state_nyt.geojson',\r\n                \"csv\":['covid_confirmed_nyt_state']\r\n            }, \r\n        }\r\n    },\r\n    \"Confirmed Count per Licensed Bed\":{\r\n        \"County\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'county_1p3a.geojson',\r\n                \"csv\":['covid_confirmed_1p3a']\r\n            },\r\n            \"USA Facts\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['covid_confirmed_usafacts'] \r\n            },\r\n            \"New York Times\": {\r\n                \"geojson\":'county_nyt.geojson',\r\n                \"csv\":['covid_confirmed_nyt']  \r\n            }\r\n        },\r\n        \"State\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'state_1p3a.geojson',\r\n                \"csv\":['covid_confirmed_1p3a_state']\r\n            },\r\n            \"New York Times\": {\r\n                \"geojson\":'state_nyt.geojson',\r\n                \"csv\":['covid_confirmed_nyt_state']\r\n            }, \r\n        }\r\n    },\r\n    \"HEADER:deaths\":{},\r\n    \"Death Count\":{\r\n        \"County\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'county_1p3a.geojson',\r\n                \"csv\":['covid_deaths_1p3a']\r\n            },\r\n            \"USA Facts\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['covid_deaths_usafacts'] \r\n            },\r\n            \"New York Times\": {\r\n                \"geojson\":'county_nyt.geojson',\r\n                \"csv\":['covid_deaths_nyt']  \r\n            }\r\n        },\r\n        \"State\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'state_1p3a.geojson',\r\n                \"csv\":['covid_deaths_1p3a_state']\r\n            },\r\n            \"New York Times\": {\r\n                \"geojson\":'state_nyt.geojson',\r\n                \"csv\":['covid_deaths_nyt_state']\r\n            }, \r\n        }\r\n    },\r\n    \"Death Count per 100K Population\": {\r\n        \"County\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'county_1p3a.geojson',\r\n                \"csv\":['covid_deaths_1p3a']\r\n            },\r\n            \"USA Facts\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['covid_deaths_usafacts'] \r\n            },\r\n            \"New York Times\": {\r\n                \"geojson\":'county_nyt.geojson',\r\n                \"csv\":['covid_deaths_nyt']  \r\n            }\r\n        },\r\n        \"State\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'state_1p3a.geojson',\r\n                \"csv\":['covid_deaths_1p3a_state']\r\n            },\r\n            \"New York Times\": {\r\n                \"geojson\":'state_nyt.geojson',\r\n                \"csv\":['covid_deaths_nyt_state']\r\n            }, \r\n        }\r\n    },\r\n    \"Death Count / Confirmed Count\": {\r\n        \"County\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'county_1p3a.geojson',\r\n                \"csv\":['covid_deaths_1p3a', 'covid_confirmed_1p3a']\r\n            },\r\n            \"USA Facts\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['covid_deaths_usafacts', 'covid_confirmed_usafacts'] \r\n            },\r\n            \"New York Times\": {\r\n                \"geojson\":'county_nyt.geojson',\r\n                \"csv\":['covid_deaths_nyt', 'covid_confirmed_nyt']  \r\n            }\r\n        },\r\n        \"State\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'state_1p3a.geojson',\r\n                \"csv\":['covid_deaths_1p3a_state', 'covid_confirmed_1p3a_state']\r\n            },\r\n            \"New York Times\": {\r\n                \"geojson\":'state_nyt.geojson',\r\n                \"csv\":['covid_deaths_nyt_state', 'covid_confirmed_nyt_state']\r\n            }, \r\n        }\r\n    },\r\n    \"HEADER:testing\":{},\r\n    \"7 Day Testing Positivity Rate %\":{\r\n        \"County\": {\r\n            \"CDC\": {\r\n                \"geojson\": \"cdc.geojson\",\r\n                \"csv\": [\"covid_wk_pos_cdc\"],\r\n            }\r\n        },\r\n        \"State\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'state_1p3a.geojson',\r\n                \"csv\":['covid_wk_pos_1p3a_state']\r\n            },\r\n        }\r\n    },\r\n    \"7 Day Testing Capacity\":{\r\n        \"County\": {\r\n            \"CDC\": {\r\n                \"geojson\": \"cdc.geojson\",\r\n                \"csv\": [\"covid_tcap_cdc\"],\r\n            }\r\n        },\r\n        \"State\": {\r\n            \"1point3acres\": {\r\n                \"geojson\":'state_1p3a.geojson',\r\n                \"csv\":['covid_tcap_1p3a_state']\r\n            },\r\n        }\r\n    },\r\n    \"HEADER:vaccination\":{},\r\n    \"Vaccinations Administered per 100K Population\":{\r\n        \"State\": {\r\n            \"CDC\": {\r\n                \"geojson\": \"state_1p3a.geojson\",\r\n                \"csv\": [\"vaccine_admin_cdc_1p3a_state\"],\r\n            }\r\n        },\r\n    },\r\n    \"Vaccinations Distributed per 100K Population\":{\r\n        \"State\": {\r\n            \"CDC\": {\r\n                \"geojson\": \"state_1p3a.geojson\",\r\n                \"csv\": [\"vaccine_dist_cdc_1p3a_state\"],\r\n            }\r\n        },\r\n    },\r\n    // \"HEADER:forecasting\":{},\r\n    // \"Forecasting (5-Day Severity Index)\":{\r\n    //     \"County\": {\r\n    //         \"Yu Group at Berkeley\": {\r\n    //             \"geojson\":'county_usfacts.geojson',\r\n    //             \"csv\":['berkeley_predictions']\r\n    //         }\r\n    //     }\r\n    // },\r\n    \"HEADER:community health information\":{},\r\n    \"Uninsured %\": {\r\n        \"County\": {\r\n            \"County Health Rankings\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['chr_health_factors']\r\n            }\r\n        },\r\n        \"State\": {\r\n            \"County Health Rankings\": {\r\n                \"geojson\":'state_1p3a.geojson',\r\n                \"csv\":['chr_health_factors_state']\r\n            }\r\n        }\r\n    },\r\n    \"Over 65 Years %\": {\r\n        \"County\": {\r\n            \"County Health Rankings\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['chr_health_context']\r\n            }\r\n        },\r\n        \"State\": {\r\n            \"County Health Rankings\": {\r\n                \"geojson\":'state_1p3a.geojson',\r\n                \"csv\":['chr_health_context_state']\r\n            }\r\n        }\r\n    },\r\n    \"Life Expectancy\": {\r\n        \"County\": {\r\n            \"County Health Rankings\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['chr_life']\r\n            }\r\n        },\r\n        \"State\": {\r\n            \"County Health Rankings\": {\r\n                \"geojson\":'state_1p3a.geojson',\r\n                \"csv\":['chr_life']\r\n            }\r\n        }\r\n    },\r\n    \"HEADER:mobility\":{},\r\n    \"Incoming Mobility\": {\r\n        \"County\": {\r\n            \"COVID Exposure Indices\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['county_LEX_in']\r\n            }\r\n        }\r\n    },\r\n    \"Outgoing Mobility\": {\r\n        \"County\": {\r\n            \"COVID Exposure Indices\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['county_LEX_out']\r\n            }\r\n        }\r\n    },\r\n    \"Incoming Mobility Normalized\": {\r\n        \"County\": {\r\n            \"COVID Exposure Indices\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['county_LEX_in']\r\n            }\r\n        }\r\n    },\r\n    \"Outgoing Mobility Normalized\": {\r\n        \"County\": {\r\n            \"COVID Exposure Indices\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['county_LEX_out']\r\n            }\r\n        }\r\n    },\r\n    \"POI Visits\": {\r\n        \"County\": {\r\n            \"Safegraph\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['county_POI_visits']\r\n            }\r\n        }\r\n    },\r\n    \"POI Visits Normalized\": {\r\n        \"County\": {\r\n            \"Safegraph\": {\r\n                \"geojson\":'county_usfacts.geojson',\r\n                \"csv\":['county_POI_visits']\r\n            }\r\n        }\r\n    },\r\n}","// state and reactivity\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\n// UI elements\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Select from '@material-ui/core/Select';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\n// scoped CSS\r\nimport styled from 'styled-components';\r\n\r\n// utils and helper components\r\nimport { colLookup } from '../utils'; //getGzipData, getArrayCSV\r\nimport Tooltip from './tooltip';\r\nimport { StyledDropDown, BinsContainer, Gutter } from '../styled_components';\r\nimport { setVariableParams, setMapParams, setCurrentData, setPanelState, setParametersAndData } from '../actions'; //variableChangeZ, setNotification, storeMobilityData\r\nimport { fixedScales, colorScales, colors } from '../config';\r\nimport { settings } from '../config/svg';\r\nimport { variableTree } from '../config/variableTree'\r\n\r\nconst VariablePanelContainer = styled.div`\r\n  position:fixed;\r\n  left:0;\r\n  top:50px;\r\n  height:auto;\r\n  min-height:calc(100vh - 50px);\r\n  min-width:200px;\r\n  background-color: ${colors.gray}fa;\r\n  box-shadow: 2px 0px 5px rgba(0,0,0,0.7);\r\n  padding:0;\r\n  box-sizing: border-box;\r\n  transition:250ms all;\r\n  font: 'Lato', sans-serif;\r\n  color:white;\r\n  z-index:50;\r\n  &.hidden {\r\n    transform: translateX(-100%);\r\n  }\r\n  @media (max-width:1024px) {\r\n    min-width:50vw;\r\n  }  \r\n  @media (max-width:600px) {\r\n    width:100%;\r\n    display: ${props => props.otherPanels ? 'none' : 'initial'};\r\n  }\r\n  div.noteContainer {\r\n    position: absolute;\r\n    bottom:0;\r\n    left:0;\r\n    padding:20px;\r\n    box-sizing:border-box;\r\n    background:${colors.gray};\r\n    width:calc(100%);\r\n    box-shadow: 0px -5px 10px rgba(0,0,0,0.25);\r\n    a {  \r\n      color: ${colors.yellow};\r\n      -webkit-text-decoration: none;\r\n      text-decoration: none;\r\n      }\r\n    }\r\n  }\r\n  p.note {\r\n    font-family: 'Lato', sans-serif;\r\n    font-weight:300;\r\n    font-size:90%;\r\n  }\r\n  div.poweredByGeoda {\r\n    color:white;\r\n    width:100%;\r\n    text-align:center;\r\n    @media (max-height:900px){\r\n    }\r\n    a {\r\n      color:white;\r\n      margin:0 auto;\r\n      text-decoration: none;\r\n      letter-spacing: 2px;\r\n      font-size:75%;\r\n      img {\r\n        width:23px;\r\n        height:27px;\r\n        transform: translate(-50%,40%);\r\n      }\r\n    }\r\n  }\r\n  button#showHideLeft {\r\n    position:absolute;\r\n    left:95%;\r\n    top:20px;\r\n    width:40px;\r\n    height:40px;\r\n    box-sizing:border-box;\r\n    padding:0;\r\n    margin:0;\r\n    background-color: ${colors.gray};\r\n    box-shadow: 0px 0px 6px rgba(0,0,0,1);\r\n    outline:none;\r\n    border:none;\r\n    cursor: pointer;\r\n    transition:500ms all;\r\n    svg { \r\n      width:20px;\r\n      height:20px;\r\n      margin:10px 0 0 0;\r\n      @media (max-width:600px){\r\n        width:20px;\r\n        height:20px;\r\n        margin:5px;\r\n      }\r\n      fill:white;\r\n      transform:rotate(0deg);\r\n      transition:500ms all;\r\n      .cls-1 {\r\n        fill:none;\r\n        stroke-width:6px;\r\n        stroke:white;\r\n      }\r\n    }\r\n    :after {\r\n      opacity:0;\r\n      font-weight:bold;\r\n      content: 'Variables';\r\n      color:white;\r\n      position: relative;\r\n      right:-50px;\r\n      top:-22px;\r\n      transition:500ms all;\r\n      z-index:4;\r\n    }\r\n    @media (max-width:768px){\r\n      top:120px;\r\n    }\r\n    @media (max-width:600px) {\r\n      left:90%;\r\n      width:30px;\r\n      height:30px;\r\n      top:140px;\r\n      :after {\r\n        display:none;\r\n      }\r\n    }\r\n  }\r\n  button#showHideLeft.hidden {\r\n    left:100%;\r\n    svg {\r\n      transform:rotate(90deg);\r\n    }\r\n    :after {\r\n      opacity:1;\r\n    }\r\n  }\r\n`\r\nconst StyledButtonGroup = styled(ButtonGroup)`\r\n  color:white;\r\n  padding-bottom:20px;\r\n  .MuiButtonGroup-grouped {\r\n    color:white;\r\n    border-color:${colors.white}77;\r\n    &:hover {\r\n      border-color:white;\r\n    }\r\n    &.active {\r\n      background:white;\r\n      color:${colors.gray};\r\n    }\r\n  }\r\n`\r\n\r\nconst DateSelectorContainer = styled.div`\r\n  opacity:${props => props.disabled ? 0.25 : 1};\r\n  pointer-events:${props => props.disabled ? 'none' : 'initial'};\r\n`\r\n\r\nconst TwoUp = styled.div`\r\n  width:100%;\r\n  .MuiFormControl-root {\r\n    width:45%;\r\n    min-width:60px;\r\n    margin-right:5px;\r\n  }\r\n`\r\n\r\nconst ControlsContainer = styled.div`\r\n  max-height:74vh;\r\n  overflow-y:visible;\r\n  box-sizing:border-box;\r\n  padding:20px;\r\n\r\n  @media (max-height:1079px){\r\n    overflow-y:scroll;\r\n    padding:20px 20px 25vh 20px;\r\n  }\r\n  \r\n  @media (max-width:600px) {\r\n    width:100%;\r\n    padding:0 10px 25vh 10px;\r\n  }\r\n`\r\n\r\nconst ListSubheader = styled(MenuItem)`\r\n  font-variant: small-caps;\r\n  font-weight:800;\r\n`\r\n\r\nconst VariablePanel = (props) => {\r\n\r\n\r\n  const dispatch = useDispatch();    \r\n\r\n  const { cols, currentData,  dataParams, mapParams, panelState, urlParams } = useSelector(state => state); \r\n  // currentVariable, currentZVariable, storedMobilityData\r\n  const [bivariateZ, setBivariateZ] = useState(false);\r\n  const [newVariable, setNewVariable] = useState(\"Confirmed Count per 100K Population\");\r\n  const [currentGeography, setCurrentGeography] = useState('County');\r\n  const [currentDataset, setCurrentDataset] = useState('1point3acres');\r\n\r\n  const VariablePresets = {\r\n    \"HEADER:cases\":{},\r\n    \"Confirmed Count\": {\r\n        variableName:\"Confirmed Count\",\r\n        numerator: 'cases',\r\n        nType: 'time-series',\r\n        nProperty: null,\r\n        denominator: 'properties',\r\n        dType: null,\r\n        dProperty: null,\r\n        dRange:null,\r\n        dIndex:null,\r\n        scale:1,\r\n        scale3D: 100,\r\n        fixedScale: null,\r\n        colorScale: null,\r\n    },\r\n    \"Confirmed Count per 100K Population\": {\r\n        variableName:\"Confirmed Count per 100K Population\",\r\n        numerator: 'cases',\r\n        nType: 'time-series',\r\n        nProperty: null,\r\n        denominator: 'properties',\r\n        dType: 'characteristic',\r\n        dProperty: 'population',\r\n        dRange:null,\r\n        dIndex:null,\r\n        scale:100000,\r\n        scale3D: 1000,\r\n        fixedScale: null,\r\n        colorScale: null,\r\n    },\r\n    \"Confirmed Count per Licensed Bed\": {\r\n        variableName:\"Confirmed Count per Licensed Bed\",\r\n        numerator: 'cases',\r\n        nType: 'time-series',\r\n        nProperty: null,\r\n        denominator: 'properties',\r\n        dType: 'characteristic',\r\n        dProperty: 'beds',\r\n        dRange:null,\r\n        dIndex:null,\r\n        scale:1,\r\n        scale3D: 100000,\r\n        fixedScale: null,\r\n        colorScale: null,\r\n    },\r\n    \"HEADER:deaths\":{},\r\n    \"Death Count\":{\r\n      variableName:\"Death Count\",\r\n      numerator: 'deaths',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      scale3D: 10000,\r\n      fixedScale: null,\r\n      colorScale: null,        \r\n    }, \r\n    \"Death Count per 100K Population\":{\r\n      variableName:\"Death Count per 100K Population\",\r\n      numerator: 'deaths',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      denominator: 'properties',\r\n      dType: 'characteristic',\r\n      dProperty: 'population',\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:100000,\r\n      scale3D: 15000,\r\n      fixedScale: null,\r\n      colorScale: null,\r\n    },\r\n    \"Death Count / Confirmed Count\":{\r\n      variableName:\"Death Count / Confirmed Count\",\r\n      numerator: 'deaths',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      denominator: 'cases',\r\n      dType: 'time-series',\r\n      dProperty: null,\r\n      scale:1,\r\n      fixedScale: null,\r\n      colorScale: null,\r\n    },\r\n    \"HEADER:community health\":{},\r\n    \"Uninsured %\":{\r\n      variableName:\"Uninsured %\",\r\n      numerator: 'chr_health_factors',\r\n      nType: 'characteristic',\r\n      nProperty: colLookup(cols, currentData, 'chr_health_factors', 'UnInPrc'),\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      fixedScale: null,\r\n      colorScale: 'uninsured',\r\n      scale3D: 15000,\r\n    },\r\n    \"Over 65 Years %\":{\r\n      variableName:\"Over 65 Years %\",\r\n      numerator: 'chr_health_context',\r\n      nType: 'characteristic',\r\n      nProperty: colLookup(cols, currentData, 'chr_health_context', 'Over65YearsPrc'),\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      fixedScale: null,\r\n      colorScale: 'over65',\r\n      scale3D: 15000,\r\n    },\r\n    \"Life Expectancy\":{\r\n      variableName:\"Life Expectancy\",\r\n      numerator: 'chr_life',\r\n      nType: 'characteristic',\r\n      nProperty: colLookup(cols, currentData, 'chr_life', 'LfExpRt'),\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      colorScale: 'lifeExp',\r\n      fixedScale: null,\r\n      scale3D: 1000\r\n    },\r\n    \r\n    \"HEADER:testing\":{},\r\n    \"7 Day Testing Positivity Rate %\": {\r\n      variableName:\"7 Day Testing Positivity Rate %\",\r\n      numerator: 'testing_wk_pos',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      fixedScale: 'testing',\r\n      colorScale: 'testing',\r\n      scale3D: 10000000\r\n    },\r\n    \"7 Day Testing Capacity\": {\r\n      variableName:\"7 Day Testing Capacity\",\r\n      numerator: 'testing_tcap',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      fixedScale: 'testingCap',\r\n      colorScale: 'testingCap',\r\n      scale3D: 3000\r\n    }, \r\n    \"7 Day Confirmed Cases per Testing %\":{\r\n      variableName:\"7 Day Confirmed Cases per Testing %\",\r\n      numerator: 'testing_ccpt',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      fixedScale: 'testing',\r\n      colorScale: 'testing',\r\n      scale3D: 10000000\r\n    },\r\n    \"HEADER:cdc vaccination\":{},\r\n    \"Vaccinations Administered per 100K Population\": {\r\n        variableName:\"Vaccinations Administered per 100K Population\",\r\n        numerator: 'vaccinesAdmin',\r\n        nType: 'time-series',\r\n        nProperty: null,\r\n        denominator: 'properties',\r\n        dType: 'characteristic',\r\n        dProperty: 'population',\r\n        dRange:null,\r\n        dIndex:null,\r\n        scale:100000,\r\n        scale3D: 1000,\r\n        colorScale: 'vaccination',\r\n        fixedScale: null,\r\n    },\r\n    \"Vaccinations Distributed per 100K Population\": {\r\n        variableName:\"Vaccinations Distributed per 100K Population\",\r\n        numerator: 'vaccinesDist',\r\n        nType: 'time-series',\r\n        nProperty: null,\r\n        denominator: 'properties',\r\n        dType: 'characteristic',\r\n        dProperty: 'population',\r\n        dRange:null,\r\n        dIndex:null,\r\n        scale:100000,\r\n        scale3D: 1000,\r\n        colorScale: 'vaccination',\r\n        fixedScale: null,\r\n    },\r\n    \"HEADER:forecasting\":{},\r\n    \"Forecasting (5-Day Severity Index)\": {\r\n      variableName:\"Forecasting (5-Day Severity Index)\",\r\n      numerator: 'predictions',\r\n      nType: 'characteristic',\r\n      nProperty: colLookup(cols, currentData, 'predictions', 'severity_index'),\r\n      nRange: null,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      colorScale: 'forecasting',\r\n      fixedScale: 'forecasting',\r\n      scale3D: 50000\r\n    },\r\n    \"HEADER:mobility\":{},\r\n    \"Incoming Mobility\": {\r\n      variableName:\"Incoming Mobility\",\r\n      numerator: 'county_LEX_in',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: 1,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      scale3D: 10000000\r\n    },\r\n    \"Outgoing Mobility\": {\r\n      variableName:\"Outgoing Mobility\",\r\n      numerator: 'county_LEX_out',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: 1,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      scale3D: 10000000\r\n    },\r\n    \"Incoming Mobility Normalized\": {\r\n      variableName:\"Incoming Mobility Normalized\",\r\n      numerator: 'county_LEX_in',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: 1,\r\n      denominator: 'properties',\r\n      dType: 'characteristic',\r\n      dProperty: 'population',\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:100000,\r\n      scale3D: 10000000\r\n    },\r\n    \"Outgoing Mobility Normalized\": {\r\n      variableName:\"Outgoing Mobility Normalized\",\r\n      numerator: 'county_LEX_out',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: 1,\r\n      denominator: 'properties',\r\n      dType: 'characteristic',\r\n      dProperty: 'population',\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:100000,\r\n      scale3D: 10000000\r\n    },\r\n    \"POI Visits\": {\r\n      variableName:\"POI Visits\",\r\n      numerator: 'county_POI_visits',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: 1,\r\n      denominator: 'properties',\r\n      dType: null,\r\n      dProperty: null,\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:1,\r\n      scale3D: 10000000\r\n    },\r\n    \"POI Visits Normalized\": {\r\n      variableName:\"POI Visits Normalized\",\r\n      numerator: 'county_POI_visits',\r\n      nType: 'time-series',\r\n      nProperty: null,\r\n      nRange: 1,\r\n      denominator: 'properties',\r\n      dType: 'characteristic',\r\n      dProperty: 'population',\r\n      dRange:null,\r\n      dIndex:null,\r\n      scale:100000,\r\n      scale3D: 10000000\r\n    },\r\n  }\r\n  \r\n  const datasetTree = {\r\n    'County': {\r\n      '1point3acres':'county_1p3a.geojson',\r\n      'New York Times':'county_nyt.geojson',\r\n      'USA Facts':'county_usfacts.geojson',\r\n      'CDC':'cdc.geojson',\r\n      // 'Yu Group at Berkeley':'county_usfacts.geojson',\r\n      'County Health Rankings':'county_usfacts.geojson',\r\n      'COVID Exposure Indices':'county_usfacts.geojson',\r\n      'Safegraph':'county_usfacts.geojson',\r\n    }, \r\n    'State': {\r\n      '1point3acres':'state_1p3a.geojson',\r\n      'New York Times':'state_nyt.geojson',\r\n      'CDC':'state_1p3a.geojson',\r\n      'County Health Rankings':'state_1p3a.geojson',\r\n    }\r\n  }\r\n\r\n  const urlParamsTree = {\r\n    'county_usfacts.geojson': {\r\n      name: 'USA Facts',\r\n      geography: 'County'\r\n    },\r\n    'county_1p3a.geojson': {\r\n      name: '1point3acres',\r\n      geography: 'County'\r\n    },\r\n    'county_nyt.geojson': {\r\n      name: 'New York Times',\r\n      geography: 'County'\r\n    },\r\n    'state_1p3a.geojson': {\r\n      name: '1point3acres',\r\n      geography: 'State'\r\n    },\r\n    'state_usafacts.geojson': {\r\n      name: 'USA Facts',\r\n      geography: 'State'\r\n    }, \r\n    'state_nyt.geojson': {\r\n      name: 'New York Times',\r\n      geography: 'State'\r\n    },\r\n    'global_jhu.geojson': {\r\n      name: 'John Hopkins University',\r\n      geography: 'Global'\r\n    },\r\n    'cdc.geojson': {\r\n      name: 'CDC',\r\n      geography: 'County'\r\n    }\r\n  }\r\n\r\n  const allGeographies = ['County', 'State']\r\n  const allDatasets = ['1point3acres', 'USA Facts', 'New York Times', 'CDC', 'County Health Rankings', \"COVID Exposure Indices\", 'Safegraph'] //'Yu Group at Berkeley', \r\n\r\n  useEffect(() => {\r\n    if (newVariable !== dataParams.variableName) {\r\n      setNewVariable(dataParams.variableName)\r\n      setCurrentGeography(urlParamsTree[currentData]['geography'])\r\n      if (dataParams.variableName.indexOf('Vaccin') !== -1 || (dataParams.variableName.indexOf('Test') !== -1 && currentData.indexOf('state') === -1)) {\r\n        setCurrentDataset('CDC')\r\n      } else {\r\n        setCurrentDataset(urlParamsTree[currentData]['name'])\r\n      }\r\n    }\r\n  }, [urlParams])\r\n\r\n  // mobility variable overlays\r\n\r\n  // const OneP3AVariables = {\r\n  //   \"HEADER:mobility\":{},\r\n  //   \"Dex\": {\r\n  //       numerator: 'dex',\r\n  //       nType: 'time-series',\r\n  //       nProperty: null,\r\n  //       denominator: 'properties',\r\n  //       dType: null,\r\n  //       dProperty: null,\r\n  //       dRange:null,\r\n  //       dIndex:null,\r\n  //       scale:1,\r\n  //       scale3D: 1000\r\n  //   },\r\n  //   \"Dex Adjusted\": {\r\n  //       numerator: 'dex_a',\r\n  //       nType: 'time-series',\r\n  //       nProperty: null,\r\n  //       denominator: 'properties',\r\n  //       dType: null,\r\n  //       dProperty: null,\r\n  //       dRange:null,\r\n  //       dIndex:null,\r\n  //       scale:1,\r\n  //       scale3D: 1000\r\n  //   },\r\n  // }\r\n\r\n  // useEffect(() => {\r\n  //   if (urlParams.var) handleVariable({event: { target: { \r\n  //     value: legacyVariableOrder[urlParams.src||'county_usfacts.geojson'][urlParams.var]\r\n  //     }}})\r\n  // },[])\r\n\r\n  // useEffect(() => {\r\n  //   if (mapParams.overlay === \"mobility-county\" && storedMobilityData === {}) {\r\n  //     getGzipAndCentroids(\r\n  //       `${process.env.PUBLIC_URL}/gz/county_lex_2020-11-28.csv.gz`,\r\n  //       `${process.env.PUBLIC_URL}/csv/county_centroids.csv`\r\n  //     )\r\n  //     console.log('loaded mobility data')\r\n  //   }\r\n  // },[mapParams.overlay])\r\n\r\n  // const handleVariable = (event) => {\r\n  //   let variable = event.target.value;\r\n  //   let tempParams = PresetVariables[variable] || CountyVariables[variable] || StateVariables[variable] || OneP3AVariables[variable] || CDCVariables[variable] || null;\r\n    \r\n  //   // dispatch(variableChange({\r\n  //   //   variable,\r\n  //   //   mapParams: {\r\n  //   //     customScale: tempParams.colorScale || '', \r\n  //   //     fixedScale: tempParams.fixedScale || null\r\n  //   //   },\r\n  //   //   variableParams: {\r\n  //   //     ...tempParams\r\n  //   //   }\r\n  //   // }))\r\n\r\n  //   // transitioning from a static characteristic (null time range)\r\n  //   // to a time-series data set \r\n  //   if (dataParams.nType === 'characteristic' && tempParams.nType === 'time-series') tempParams.nRange = 7;\r\n\r\n  //   // if time series over time series, coordinate index and range\r\n  //   if (tempParams.nType === 'time-series' && tempParams.dType === 'time-series') {\r\n  //     tempParams.dIndex = dataParams.nIndex;\r\n  //     tempParams.dRange = tempParams.nRange || dataParams.nRange;\r\n  //   }\r\n\r\n\r\n  //   dispatch(setVariableParams({...tempParams}))\r\n  //   dispatch(setVariableName(variable))\r\n  //   dispatch(setMapParams({customScale: tempParams.colorScale || '', fixedScale: tempParams.fixedScale || null}))\r\n  // };\r\n\r\n  // const handleZVariable = (event) => {\r\n  //   let variable = event.target.value;\r\n  //   let tempParams = PresetVariables[variable] || CountyVariables[variable] || StateVariables[variable] || OneP3AVariables[variable] || CDCVariables[variable] || null;\r\n    \r\n  //   // transitioning from a static characteristic (null time range)\r\n  //   if (dataParams.zAxisParams?.nType === 'characteristic' && tempParams.nType === 'time-series') tempParams.nRange = 7;\r\n    \r\n  //   // to a time-series data set \r\n\r\n  //   // if time series over time series, coordinate index and range\r\n  //   if (tempParams.nType === 'time-series' && tempParams.dType === 'time-series') {\r\n  //     tempParams.dIndex = dataParams.nIndex;\r\n  //     tempParams.dRange = tempParams.nRange || dataParams.nRange;\r\n  //   }\r\n    \r\n  //   dispatch(variableChangeZ(variable, tempParams))\r\n  // };\r\n\r\n  // const handleDataSource = (event) => {\r\n  //   let newDataSet = event.target.value\r\n  //   if ((newDataSet.includes(\"state\") && CountyVariables.hasOwnProperty(currentVariable))||(newDataSet.includes(\"county\") && StateVariables.hasOwnProperty(currentVariable))) {\r\n\r\n  //     // dispatch(resetVariable({\r\n  //     //   mapParams: {\r\n  //     //     customScale: '', \r\n  //     //     fixedScale: null\r\n  //     //   },\r\n  //     //   variableParams: {\r\n  //     //     ...PresetVariables[\"Confirmed Count per 100K Population\"]\r\n  //     //   },\r\n  //     //   variable: \"Confirmed Count per 100K Population\",\r\n  //     //   notification: `${dataPresets[newDataSet].plainName} data do not have ${currentVariable}. The Atlas will default to Confirmed Cases Per 100k People.`\r\n  //     // }))\r\n\r\n  //     dispatch(setMapParams({customScale: '', fixedScale: null}))\r\n  //     dispatch(setVariableParams({...PresetVariables[\"Confirmed Count per 100K Population\"]}))\r\n  //     dispatch(setVariableName(\"Confirmed Count per 100K Population\"))\r\n  //     dispatch(setNotification(`${dataPresets[newDataSet].plainName} data do not have ${currentVariable}. The Atlas will default to Confirmed Cases Per 100k People.`))  \r\n\r\n  //     setTimeout(() => {dispatch(setCurrentData(newDataSet))}, 250);\r\n  //     setTimeout(() => {dispatch(setNotification(null))},10000);\r\n  //   } else if (newDataSet.includes(\"cdc\")) {\r\n  //     dispatch(setVariableParams({...CDCVariables[\"7-Day Confirmed Count per 100K Population\"]}))\r\n  //     dispatch(setVariableName(\"7-Day Confirmed Count per 100K Population\"))\r\n  //     dispatch(setNotification(`CDC County Data is aggregated to 7-Day rolling averages. The Atlas will default to 7-Day rolling average Confirmed Cases Per 100k People.`))  \r\n  //     setTimeout(() => {dispatch(setCurrentData(newDataSet))}, 250);\r\n  //     setTimeout(() => {dispatch(setNotification(null))},10000);\r\n  //   } else if (currentData.includes('cdc')) {\r\n  //     dispatch(setMapParams({customScale: '', fixedScale: null}))\r\n  //     dispatch(setVariableParams({...PresetVariables[\"Confirmed Count per 100K Population\"]}))\r\n  //     dispatch(setVariableName(\"Confirmed Count per 100K Population\"))\r\n  //     dispatch(setNotification(`Changing to ${dataPresets[newDataSet].plainName} data. CDC County Data is aggregated to 7-Day rolling averages. The Atlas will default to Confirmed Cases Per 100k People.`))  \r\n\r\n  //     setTimeout(() => {dispatch(setCurrentData(newDataSet))}, 250);\r\n  //     setTimeout(() => {dispatch(setNotification(null))},10000);\r\n  //   }\r\n    \r\n  //     else {\r\n  //     dispatch(setCurrentData(newDataSet)); \r\n  //   }\r\n  // };\r\n\r\n\r\n  const handleMapType = (event, newValue) => {\r\n    let nBins = newValue === 'hinge15_breaks' ? 6 : 8\r\n    if (newValue === 'lisa') {\r\n      dispatch(\r\n        setMapParams(\r\n          {\r\n            mapType: newValue,\r\n            nBins: 4,\r\n            bins: fixedScales[newValue],\r\n            colorScale: colorScales[newValue]\r\n            \r\n          }\r\n        )\r\n      )\r\n    } else {\r\n      dispatch(\r\n        setMapParams(\r\n          {\r\n            nBins,\r\n            mapType: newValue,\r\n            binMode: newValue === 'hinge15_breaks' ? 'dynamic' : ''\r\n          }\r\n        )\r\n      )\r\n    }\r\n  }\r\n\r\n  const handleMapOverlay = (event) =>{\r\n    dispatch(\r\n      setMapParams(\r\n        {\r\n          overlay: event.target.value\r\n        }\r\n      )\r\n    )\r\n  }\r\n\r\n  const handleMapResource = (event) =>{\r\n    dispatch(\r\n      setMapParams(\r\n        {\r\n          resource: event.target.value\r\n        }\r\n      )\r\n    )\r\n  }\r\n\r\n  const handleOpenClose = () => {\r\n    if (panelState.variables) {\r\n      dispatch(setPanelState({variables:false}))\r\n    } else {\r\n      dispatch(setPanelState({variables:true}))\r\n    }\r\n  }\r\n\r\n  const handleVizTypeButton = (vizType) => {\r\n    setBivariateZ(false)\r\n    if (mapParams.vizType !== vizType) {\r\n      dispatch(setMapParams({vizType}))\r\n    }\r\n  }  \r\n\r\n  const handleNewVariable = (e) => {\r\n    let tempGeography = currentGeography;\r\n    let tempDataset = currentDataset;\r\n\r\n    let resetDateRange = \r\n    VariablePresets[e.target.value].nType === 'time-series' && \r\n    (dataParams.nType === 'characteristic' || dataParams.variableName.indexOf(\"Testing\") !== -1) && \r\n    dataParams.nRange === null &&\r\n    VariablePresets[e.target.value].variableName.indexOf(\"Testing\") === -1 && VariablePresets[e.target.value].nType !== 'characteristic';\r\n\r\n    let nIndex = resetDateRange ? 'nRange' : null;\r\n    \r\n    let dIndex = (VariablePresets[e.target.value].dType === 'time-series') ? 'dIndex' : null;\r\n    let dRange = (VariablePresets[e.target.value].dType === 'time-series') ? 'dRange' : null;\r\n    // check if valid combination based on variable tree\r\n    if (!variableTree[e.target.value].hasOwnProperty(tempGeography) || !variableTree[e.target.value][tempGeography].hasOwnProperty(tempDataset)) {\r\n      tempGeography = Object.keys(variableTree[e.target.value])[0]\r\n      tempDataset = Object.keys(variableTree[e.target.value][tempGeography])[0];\r\n\r\n      \r\n      dispatch(setParametersAndData({\r\n        params: {\r\n          ...VariablePresets[e.target.value],\r\n          [nIndex]: 7,\r\n          [dIndex]: dataParams.nIndex,\r\n          [dRange]: dataParams.nRange,\r\n        },\r\n        dataset: datasetTree[tempGeography][tempDataset],\r\n        mapParams: {\r\n          customScale: VariablePresets[e.target.value].colorScale || null\r\n        }\r\n      }))\r\n      setCurrentGeography(tempGeography)\r\n      setCurrentDataset(tempDataset)\r\n    } else {\r\n      dispatch(setVariableParams({\r\n        ...VariablePresets[e.target.value],\r\n        [nIndex]: 7,\r\n        [dIndex]: dataParams.nIndex,\r\n        [dRange]: dataParams.nRange,\r\n      }))\r\n\r\n    }\r\n    \r\n    setNewVariable(e.target.value)\r\n  }\r\n\r\n  const handleGeography = (e) => {\r\n    setCurrentGeography(e.target.value)\r\n    if (!variableTree[newVariable][e.target.value].hasOwnProperty(currentDataset)) {\r\n      let datasetWithGeography = Object.keys(variableTree[newVariable][e.target.value])[0]\r\n      setCurrentDataset(datasetWithGeography)\r\n      dispatch(setCurrentData(datasetTree[e.target.value][datasetWithGeography]))\r\n    } else {\r\n      dispatch(setCurrentData(datasetTree[e.target.value][currentDataset]))\r\n    }\r\n\r\n  }\r\n\r\n  const handleDataset = (e) => {\r\n    setCurrentDataset(e.target.value)\r\n    dispatch(setCurrentData(datasetTree[currentGeography][e.target.value]))\r\n  }\r\n\r\n  \r\n  const handleRangeButton = (event) => {\r\n    let val = event.target.value;\r\n\r\n    if (val === 'custom') { // if swapping over to a custom range, which will use a 2-part slider to scrub the range\r\n        if (dataParams.nType === \"time-series\" && dataParams.dType === \"time-series\") {\r\n            dispatch(setVariableParams({nRange: 30, dRange: 30, rangeType: 'custom'}))\r\n        } else if (dataParams.nType === \"time-series\") {\r\n            dispatch(setVariableParams({nRange: 30, rangeType: 'custom'}))\r\n        } else if (dataParams.dType === \"time-series\") {\r\n            dispatch(setVariableParams({dRange: 30, rangeType: 'custom'}))\r\n        } \r\n    } else { // use the new value -- null for cumulative, 1 for daily, 7 for weekly\r\n        if (dataParams.nType === \"time-series\" && dataParams.dType === \"time-series\") {\r\n            dispatch(setVariableParams({nRange: val, dRange: val, rangeType: 'fixed'}))\r\n        } else if (dataParams.nType === \"time-series\") {\r\n            dispatch(setVariableParams({nRange: val, rangeType: 'fixed'}))\r\n        } else if (dataParams.dType === \"time-series\") {\r\n            dispatch(setVariableParams({dRange: val, rangeType: 'fixed'}))\r\n        }    \r\n    }\r\n  }\r\n\r\n  const handleSwitch = () => {\r\n    if (mapParams.binMode === 'dynamic') {\r\n        dispatch(setMapParams({binMode:''}))\r\n    } else {\r\n        dispatch(setMapParams({binMode:'dynamic'}))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <VariablePanelContainer className={panelState.variables ? '' : 'hidden'} otherPanels={panelState.info} id=\"variablePanel\">\r\n      <ControlsContainer>\r\n        <h2>Data Sources &amp;<br/> Map Variables</h2>\r\n        <Gutter h={20}/>\r\n        <StyledDropDown id=\"newVariableSelect\">\r\n          <InputLabel htmlFor=\"newVariableSelect\">Variable</InputLabel>\r\n          <Select\r\n            value={newVariable}\r\n            onChange={handleNewVariable}\r\n            >\r\n            {Object.keys(variableTree).map(variable => {\r\n              if (variable.split(':')[0]===\"HEADER\") {\r\n                return <ListSubheader key={variable.split(':')[1]} disabled>{variable.split(':')[1]}</ListSubheader>\r\n              } else {\r\n                return <MenuItem value={variable} key={variable}>{variable}</MenuItem> \r\n              }\r\n            })\r\n          }\r\n          </Select>\r\n        </StyledDropDown>\r\n        <br/>\r\n        <DateSelectorContainer disabled={dataParams.nType === \"characteristic\"}>\r\n          <StyledDropDown id=\"dateSelector\">\r\n              <InputLabel htmlFor=\"date-select\">Date Range</InputLabel>\r\n              <Select  \r\n                  id=\"date-select\"\r\n                  value={(dataParams.nRange === null || dataParams.rangeType === 'custom' || dataParams.variableName.indexOf('Testing') !== -1) ? 'x' : dataParams.nRange}\r\n                  onChange={handleRangeButton}\r\n                  displayEmpty\r\n                  inputProps={{ 'aria-label': 'Without label' }}\r\n              >\r\n                  <MenuItem value=\"x\" disabled style={{display:'none'}}>\r\n                      {dataParams.rangeType === 'custom' && <span>Custom Range</span>}\r\n                      {(dataParams.nRange === null && dataParams.variableName.indexOf('Testing') === -1) && <span>Cumulative</span>}\r\n                      {dataParams.variableName.indexOf('Testing') !== -1 && <span>7-Day Average</span>}\r\n                  </MenuItem>\r\n                  <MenuItem value={null} key={'cumulative'} disabled={dataParams.variableName.indexOf('Testing') !== -1}>Cumulative</MenuItem>\r\n                  <MenuItem value={1} key={'daily'} disabled={dataParams.variableName.indexOf('Testing') !== -1}>Daily New</MenuItem>\r\n                  <MenuItem value={7} key={'7-day-ave'} disabled={dataParams.variableName.indexOf('Testing') !== -1}>7-Day Average</MenuItem>\r\n                  <MenuItem value={'custom'} key={'customRange'} disabled={dataParams.variableName.indexOf('Testing') !== -1}>Custom Range</MenuItem>\r\n              </Select>\r\n          </StyledDropDown>\r\n          <BinsContainer id=\"binModeSwitch\" disabled={dataParams.variableName.indexOf('Testing') !== -1 || dataParams.nType === \"characteristic\"}>\r\n            <Switch\r\n                checked={mapParams.binMode === 'dynamic'}\r\n                onChange={handleSwitch}\r\n                name=\"bin chart switch\"\r\n            />\r\n            <p>{mapParams.binMode === 'dynamic' ? 'Dynamic' : 'Fixed Bins'}<Tooltip id=\"BinModes\"/></p>\r\n          </BinsContainer> \r\n        </DateSelectorContainer> \r\n        <br/>\r\n        \r\n        <StyledDropDown id=\"geographySelect\">\r\n          <InputLabel htmlFor=\"geographySelect\">Geography</InputLabel>\r\n          <Select\r\n            value={currentGeography}\r\n            onChange={handleGeography}\r\n            >\r\n            {allGeographies.map(geography => \r\n              <MenuItem \r\n              value={geography} \r\n              key={geography} \r\n              disabled={!variableTree[newVariable].hasOwnProperty(geography)}\r\n              >\r\n                {geography}\r\n              </MenuItem>\r\n            )}\r\n          </Select>\r\n        </StyledDropDown>\r\n        <StyledDropDown id=\"datasetSelect\">\r\n          <InputLabel htmlFor=\"datasetSelect\">Data Source</InputLabel>\r\n          <Select\r\n            value={currentDataset}\r\n            onChange={handleDataset}\r\n            >\r\n            {allDatasets.map(dataset => \r\n              <MenuItem \r\n              value={dataset}\r\n              key={dataset} \r\n              disabled={variableTree[newVariable][currentGeography] === undefined || !variableTree[newVariable][currentGeography].hasOwnProperty(dataset)}\r\n              >\r\n                {dataset}\r\n              </MenuItem>\r\n            )}\r\n          </Select>\r\n        </StyledDropDown>\r\n        <br/>\r\n        {/* <StyledDropDown id=\"dataSource\">\r\n          <InputLabel htmlFor=\"data-select\">Data Source</InputLabel>\r\n          <Select  \r\n            value={currentData}\r\n            onChange={handleDataSource}\r\n          >\r\n            \r\n          <ListSubheader disabled>county data</ListSubheader>\r\n            <MenuItem value={'county_1p3a.geojson'} key={'county_1p3a.geojson'}>1point3acres (County)</MenuItem>\r\n            <MenuItem value={'county_nyt.geojson'} key={'county_nyt.geojson'}>New York Times (County)</MenuItem>\r\n            <MenuItem value={'county_usfacts.geojson'} key={'county_usfacts.geojson'}>USA Facts (County)</MenuItem>\r\n            <MenuItem value={'cdc.geojson'} key={'cdc.geojson'}>CDC (County)</MenuItem>\r\n          <ListSubheader disabled>state data</ListSubheader>\r\n            <MenuItem value={'state_1p3a.geojson'} key={'state_1p3a.geojson'}>1point3acres (State)</MenuItem>\r\n            <MenuItem value={'state_nyt.geojson'} key={'state_nyt.geojson'}>New York Times (State)</MenuItem>\r\n          </Select>\r\n        </StyledDropDown>\r\n        <br />\r\n        <StyledDropDown id=\"variableSelect\">\r\n          <InputLabel htmlFor=\"numerator-select\">Select Variable</InputLabel>\r\n          <Select \r\n            value={currentVariable} \r\n            id=\"numerator-select\"\r\n            onChange={handleVariable}\r\n          >\r\n            {\r\n              !currentData.includes('cdc') && Object.keys(PresetVariables).map((variable) => {\r\n                if (variable.split(':')[0]===\"HEADER\") {\r\n                  return <ListSubheader key={variable.split(':')[1]} disabled>{variable.split(':')[1]}</ListSubheader>\r\n                } else {\r\n                  return <MenuItem value={variable} key={variable}>{variable}</MenuItem> \r\n                }\r\n              })\r\n            }\r\n            \r\n            {\r\n              currentData.includes('county') && Object.keys(CountyVariables).map((variable) => {\r\n                if (variable.split(':')[0]===\"HEADER\") {\r\n                  return <ListSubheader key={variable.split(':')[1]} disabled>{variable.split(':')[1]}</ListSubheader>\r\n                } else {\r\n                  return <MenuItem value={variable} key={variable}>{variable}</MenuItem> \r\n                }\r\n              })\r\n            }\r\n            \r\n            {\r\n              (currentData.includes(\"state\")) && Object.keys(StateVariables).map((variable) => {\r\n                if (variable.split(':')[0]===\"HEADER\") {\r\n                  return <ListSubheader key={variable.split(':')[1]} disabled>{variable.split(':')[1]}</ListSubheader>\r\n                } else {\r\n                  return <MenuItem value={variable} key={variable}>{variable}</MenuItem> \r\n                }\r\n              })\r\n            }\r\n            {\r\n              currentData.includes(\"1p3a\") && Object.keys(OneP3AVariables).map((variable) => {\r\n                if (variable.split(':')[0]===\"HEADER\") {\r\n                  return <ListSubheader key={variable.split(':')[1]} disabled>{variable.split(':')[1]}</ListSubheader>\r\n                } else {\r\n                  return <MenuItem value={variable} key={variable}>{variable}</MenuItem> \r\n                }\r\n              })\r\n            }\r\n            {\r\n              currentData.includes(\"cdc\") && Object.keys(CDCVariables).map((variable) => {\r\n                if (variable.split(':')[0]===\"HEADER\") {\r\n                  return <ListSubheader key={variable.split(':')[1]} disabled>{variable.split(':')[1]}</ListSubheader>\r\n                } else {\r\n                  return <MenuItem value={variable} key={variable}>{variable}</MenuItem> \r\n                }\r\n              })\r\n            }\r\n          </Select>\r\n        </StyledDropDown> */}\r\n        <StyledDropDown component=\"Radio\" id=\"mapType\">\r\n          <FormLabel component=\"legend\">Map Type</FormLabel>\r\n          <RadioGroup \r\n            aria-label=\"maptype\" \r\n            name=\"maptype1\" \r\n            onChange={handleMapType} \r\n            value={mapParams.mapType}\r\n            className=\"radioContainer\"\r\n            >\r\n            <FormControlLabel \r\n              value=\"natural_breaks\" \r\n              key=\"natural_breaks\" \r\n              control={<Radio />} \r\n              label=\"Natural Breaks\"\r\n            /><Tooltip id=\"NaturalBreaks\"/>\r\n            <br/>\r\n            <FormControlLabel \r\n              value=\"hinge15_breaks\" \r\n              key=\"hinge15_breaks\" \r\n              control={<Radio />} \r\n              label=\"Box Map\" \r\n            /><Tooltip id=\"BoxMap\"/>\r\n            <br/>\r\n            <FormControlLabel \r\n              value=\"lisa\" \r\n              key=\"lisa\" \r\n              control={<Radio />} \r\n              label=\"Hotspot\" \r\n            /><Tooltip id=\"Hotspot\"/>\r\n            <br/>\r\n          </RadioGroup>\r\n        </StyledDropDown>\r\n        <p>Visualization Type</p>\r\n        <Gutter h={10}/>\r\n        <StyledButtonGroup color=\"primary\" aria-label=\"text button group\" id=\"visualizationType\">\r\n          <Button className={mapParams.vizType === '2D' ? 'active' : ''} data-val=\"2D\" key=\"2D-btn\" onClick={() => handleVizTypeButton('2D')}>2D</Button>\r\n          <Button className={mapParams.vizType === '3D' ? 'active' : ''} data-val=\"3D\" key=\"3D-btn\" onClick={() => handleVizTypeButton('3D')}>3D</Button>\r\n          <Button className={mapParams.vizType === 'cartogram' ? 'active' : ''} data-val=\"cartogram\" key=\"cartogram-btn\" onClick={() => handleVizTypeButton('cartogram')}>Cartogram</Button>\r\n        </StyledButtonGroup>\r\n        <br/>\r\n        <br />\r\n        {/* {\r\n          mapParams.vizType === '3D' && \r\n            <BinsContainer item xs={12} >\r\n                <Switch\r\n                    checked={bivariateZ}\r\n                    onChange={handleZSwitch}\r\n                    name=\"chart switch z chart switch\"\r\n                />\r\n                <p>{bivariateZ ? 'Bivariate Z-Axis' : 'Single Variable Z-Axis'}<Tooltip id=\"BinModes\"/></p>\r\n            </BinsContainer>\r\n        }\r\n        {\r\n          bivariateZ &&           \r\n            <StyledDropDown id=\"3d-variable-select\" style={{minWidth: '125px'}}>\r\n              <InputLabel htmlFor=\"3d-numerator-select\">Z-Axis Variable</InputLabel>\r\n              <Select \r\n                value={currentZVariable} \r\n                id=\"3d-numerator-select\"\r\n                onChange={handleZVariable}\r\n              >\r\n                {\r\n                  !currentData.includes('cdc') && Object.keys(PresetVariables).map((variable) => {\r\n                    if (variable.split(':')[0]===\"HEADER\") {\r\n                      return <ListSubheader key={variable.split(':')[1]} disabled>{variable.split(':')[1]}</ListSubheader>\r\n                    } else {\r\n                      return <MenuItem value={variable} key={variable}>{variable}</MenuItem> \r\n                    }\r\n                  })\r\n                }\r\n                \r\n                {\r\n                  currentData.includes('county') && Object.keys(CountyVariables).map((variable) => {\r\n                    if (variable.split(':')[0]===\"HEADER\") {\r\n                      return <ListSubheader key={variable.split(':')[1]} disabled>{variable.split(':')[1]}</ListSubheader>\r\n                    } else {\r\n                      return <MenuItem value={variable} key={variable}>{variable}</MenuItem> \r\n                    }\r\n                  })\r\n                }\r\n                \r\n                {\r\n                  (currentData.includes(\"state\")) && Object.keys(StateVariables).map((variable) => {\r\n                    if (variable.split(':')[0]===\"HEADER\") {\r\n                      return <ListSubheader key={variable.split(':')[1]} disabled>{variable.split(':')[1]}</ListSubheader>\r\n                    } else {\r\n                      return <MenuItem value={variable} key={variable}>{variable}</MenuItem> \r\n                    }\r\n                  })\r\n                }\r\n                {\r\n                  currentData.includes(\"1p3a\") && Object.keys(OneP3AVariables).map((variable) => {\r\n                    if (variable.split(':')[0]===\"HEADER\") {\r\n                      return <ListSubheader key={variable.split(':')[1]} disabled>{variable.split(':')[1]}</ListSubheader>\r\n                    } else {\r\n                      return <MenuItem value={variable} key={variable}>{variable}</MenuItem> \r\n                    }\r\n                  })\r\n                }\r\n                {\r\n                  currentData.includes(\"cdc\") && Object.keys(CDCVariables).map((variable) => {\r\n                    if (variable.split(':')[0]===\"HEADER\") {\r\n                      return <ListSubheader key={variable.split(':')[1]} disabled>{variable.split(':')[1]}</ListSubheader>\r\n                    } else {\r\n                      return <MenuItem value={variable} key={variable}>{variable}</MenuItem> \r\n                    }\r\n                  })\r\n                }\r\n              </Select>\r\n            </StyledDropDown>\r\n        } */}\r\n        <br/>\r\n        <TwoUp id=\"overlaysResources\">\r\n          <StyledDropDown>\r\n            <InputLabel htmlFor=\"overlay-select\">Overlay</InputLabel>\r\n            <Select  \r\n              id=\"overlay-select\"\r\n              value={mapParams.overlay}\r\n              onChange={handleMapOverlay}\r\n            >\r\n              <MenuItem value=\"\" key={'None'}>None</MenuItem> \r\n              <MenuItem value={'native_american_reservations'} key={'native_american_reservations'}>Native American Reservations</MenuItem>\r\n              <MenuItem value={'segregated_cities'} key={'segregated_cities'}>Hypersegregated Cities<Tooltip id=\"Hypersegregated\"/></MenuItem>\r\n              <MenuItem value={'blackbelt'} key={'blackbelt'}>Black Belt Counties<Tooltip id=\"BlackBelt\" /></MenuItem>\r\n              <MenuItem value={'uscongress-districts'} key={'uscongress-districts'}>US Congressional Districts <Tooltip id=\"USCongress\" /></MenuItem>\r\n              {/* <MenuItem value={'mobility-county'} key={'mobility-county'}>Mobility Flows (County) WARNING BIG DATA</MenuItem> */}\r\n            </Select>\r\n          </StyledDropDown>\r\n          <StyledDropDown>\r\n            <InputLabel htmlFor=\"resource-select\">Resource</InputLabel>\r\n            <Select  \r\n              id=\"resource-select\"\r\n              value={mapParams.resource}\r\n              onChange={handleMapResource}\r\n            >\r\n              <MenuItem value=\"\" key='None'>None</MenuItem> \r\n              <MenuItem value={'clinics_hospitals'} key={'variable1'}>Clinics and Hospitals<Tooltip id=\"ClinicsAndHospitals\"/></MenuItem>\r\n              <MenuItem value={'clinics'} key={'variable2'}>Clinics<Tooltip id=\"Clinics\"/></MenuItem>\r\n              <MenuItem value={'hospitals'} key={'variable3'}>Hospitals<Tooltip id=\"Hospitals\"/></MenuItem>\r\n            </Select>\r\n          </StyledDropDown>\r\n        </TwoUp>        \r\n      </ControlsContainer>\r\n      <div className=\"noteContainer\">\r\n        <h3>Help us improve the Atlas!</h3>\r\n        <Gutter h={10}/>\r\n        <p>\r\n          <a href=\"https://docs.google.com/forms/d/e/1FAIpQLSf0KdYeVyvwnz0RLnZijY3kdyFe1SwXukPc--a1HFPE1NRxyw/viewform?usp=sf_link\" target=\"_blank\" rel=\"noopener noreferrer\">Take the Atlas v2 survey here </a>\r\n          or share your thoughts at <a href=\"mailto:contact@theuscovidatlas.org\" target=\"_blank\" rel=\"noopener noreferrer\">contact@theuscovidatlas.org.</a>\r\n        </p>\r\n        <Gutter h={10}/>\r\n        <hr />\r\n        <Gutter h={10}/>\r\n        <p className=\"note\">\r\n          Data is updated with freshest available data at 3pm CST daily, at minimum. \r\n          In case of data discrepancy, local health departments are considered most accurate as per CDC recommendations. \r\n          More information on <a href=\"/data\">data</a>, <a href=\"/methods\">methods</a>, \r\n          and <a href=\"/faq\">FAQ</a> at main site.\r\n        </p>\r\n        <Gutter h={10}/>\r\n        <div className=\"poweredByGeoda\">\r\n            <a href=\"https://geodacenter.github.io\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n              <img src={`${process.env.PUBLIC_URL}/assets/img/geoda-logo.png`} alt=\"Geoda Logo\"/>\r\n              POWERED BY GEODA\r\n            </a>\r\n        </div> \r\n      </div>\r\n      <button onClick={handleOpenClose} id=\"showHideLeft\" className={panelState.variables ? 'active' : 'hidden'}>{settings}</button>\r\n\r\n    </VariablePanelContainer>\r\n  );\r\n}\r\n\r\nexport default VariablePanel;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport styled from 'styled-components';\r\nimport Popper from '@material-ui/core/Popper';\r\n\r\nimport { tooltipInfo, colors } from '../config';\r\nimport { setAnchorEl } from '../actions';\r\n\r\nconst TooltipContentDiv = styled(Popper)`\r\n    z-index:10000;\r\n    max-width:200px;\r\n    background:none;\r\n    padding:0;\r\n    margin:0;\r\n    pointer-events: none;\r\n    div.tooltipContentContainer {\r\n        background:black;\r\n        padding:1px 10px;\r\n        margin:0;\r\n        borderRadius: 4px;\r\n        color:white;\r\n        // transform:translateX(65%);\r\n        box-shadow: 0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12);\r\n        pointer-events: all;\r\n        a {\r\n            color: ${colors.yellow};\r\n            text-decoration:none;\r\n        }\r\n    }\r\n`\r\n\r\nconst Popover = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const anchorEl = useSelector(state => state.anchorEl);\r\n    const open = Boolean(anchorEl);\r\n    const id = open ? 'simple-popper' : undefined;\r\n    \r\n    const handleMouseOver = (event) => {\r\n        dispatch(setAnchorEl(anchorEl))\r\n    }\r\n\r\n    const handleMouseLeave = () => {\r\n        dispatch(setAnchorEl(null))\r\n    }\r\n    \r\n    return (\r\n        <TooltipContentDiv \r\n            id={id} \r\n            open={open} \r\n            anchorEl={anchorEl}\r\n            disablePortal={false}\r\n            modifiers={{\r\n                flip: {\r\n                enabled: true,\r\n                },\r\n                preventOverflow: {\r\n                enabled: true,\r\n                boundariesElement: 'window',\r\n                }\r\n            }}\r\n            onMouseEnter={handleMouseOver} \r\n            onMouseLeave={handleMouseLeave}\r\n            >\r\n            <div className=\"tooltipContentContainer\">\r\n                {anchorEl && tooltipInfo[anchorEl.id]}\r\n            </div>\r\n        </TooltipContentDiv>\r\n    )\r\n}\r\n\r\nexport default Popover","import React, {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport { colors } from '../config';\r\n\r\nconst PreloaderContainer = styled.div`\r\n    position:fixed;\r\n    width:100%;\r\n    height:100%;\r\n    z-index:500;\r\n    top:0;\r\n    left:0;\r\n    background:${colors.gray};\r\n    transition: 500ms opacity;\r\n    img {\r\n        width:100px;\r\n        height:86px;\r\n        position:fixed;\r\n        left:50%;\r\n        top:50%;\r\n        transform:translate(-50%, -50%);\r\n    }\r\n    @keyframes fade {\r\n        0% {fill-opacity:1};\r\n        50% {fill-opacity:0.25};\r\n        100% {fill-opacity:1};\r\n    }\r\n    &.fadeOut {\r\n        opacity:0;\r\n        pointer-events:none;\r\n    }\r\n`;\r\n\r\nconst Preloader = ( props ) => {\r\n    const [isHidden, setIsHidden] = useState(false);\r\n\r\n    if (props.loaded) {\r\n        setTimeout(() => {\r\n            setIsHidden(true)\r\n        }, 500)\r\n    }\r\n\r\n    return (\r\n        <PreloaderContainer className={props.loaded ? 'fadeOut' : ''} style={{display: (isHidden ? 'none' : 'initial')}} id=\"preloaderContainer\">\r\n            <img src={`${process.env.PUBLIC_URL}/assets/img/preloader.gif`} alt=\"Preloader\" />\r\n        </PreloaderContainer>\r\n    );\r\n};\r\n\r\nexport default Preloader;","import React, { useState, useEffect } from 'react';\r\nimport {useSelector} from 'react-redux'\r\nimport styled from 'styled-components'\r\n\r\nconst ResizeButton = styled.button`\r\n    position:absolute;\r\n    right:5px;\r\n    bottom:10px;\r\n    background:none;\r\n    outline:none;\r\n    border:none;\r\n    transform: rotate(90deg);\r\n    cursor:nw-resize;\r\n    display:${props => props.notScaleable ? 'none' : 'initial'};\r\n`\r\n\r\nconst Scaleable = (props) => {\r\n    \r\n    const [width, setWidth] = useState(props.defaultWidth);\r\n    const [height, setHeight] = useState(props.defaultHeight);\r\n    const [currXYPos, setCurrXYPos] = useState(false);\r\n\r\n    const listener = (e) => {\r\n        setWidth(prevWidth => prevWidth+e.movementX)\r\n        setHeight(prevHeight => prevHeight+e.movementY)\r\n    }\r\n\r\n    const touchListener = (e) => {\r\n        setWidth(prev => (e?.targetTouches[0]?.clientX-currXYPos[0]) || prev)\r\n        setHeight(prev => (e?.targetTouches[0]?.clientY-currXYPos[1]) || prev)\r\n    }\r\n\r\n    const removeListener = () => {\r\n        window.removeEventListener('mousemove', listener)\r\n        window.removeEventListener('mouseup', removeListener)\r\n    }\r\n\r\n    const removeTouchListener = () => {\r\n        window.removeEventListener('touchmove', touchListener);\r\n        window.removeEventListener('touchend', removeTouchListener);\r\n    }\r\n    \r\n    const handleDown = () => {\r\n        window.addEventListener('mousemove', listener)\r\n        window.addEventListener('mouseup', removeListener)\r\n    }\r\n\r\n    const handleTouch = (e) => {\r\n        setCurrXYPos([+e.target.parentNode.parentNode.parentNode.style.left.slice(0,-2), +e.target.parentNode.parentNode.parentNode.style.top.slice(0,-2)])\r\n        window.addEventListener('touchmove', touchListener)\r\n        window.addEventListener('touchend', removeTouchListener)\r\n    }\r\n    \r\n    const open = useSelector(state => state.panelState[props.title]);\r\n\r\n    useEffect(() => {\r\n        setWidth(props.defaultWidth)\r\n        setHeight(props.defaultHeight)\r\n    }, [open, props.defaultHeight, props.defaultWidth])\r\n\r\n    return (\r\n        <div style={{width: width, height: height, minHeight: props.minHeight, minWidth: props.minWidth}}>\r\n            {props.content}\r\n            <ResizeButton \r\n                id=\"resize\"\r\n                notScaleable={props.notScaleable}\r\n                onMouseDown={handleDown}\r\n                onTouchStart={handleTouch}\r\n                style={{zIndex:10}}\r\n            >\r\n                <svg height='20px' width='20px'  fill=\"white\" viewBox=\"0 0 8.4666667 8.4666667\" x=\"0px\" y=\"0px\"><g transform=\"translate(0,-288.53333)\"><path d=\"m 5.5562495,289.59166 v 0.52916 h 0.94878 l -1.665015,1.66502 0.3741367,0.37414 1.665015,-1.66502 v 0.94878 h 0.5291667 v -1.85208 z m -2.303735,3.78168 -1.665015,1.66501 v -0.94878 H 1.0583328 v 1.85209 h 1.8520834 v -0.52917 h -0.94878 l 1.665015,-1.66501 z\"></path></g></svg>\r\n            </ResizeButton>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Scaleable;","import React, {useState} from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nimport { colors } from '../config';\r\n\r\nconst Navbar = styled.div`\r\n    width:100vw;\r\n    background: ${colors.skyblue};\r\n    top:0;\r\n    left:0;\r\n    padding: 20px 16px;\r\n`\r\n\r\nconst NavbarContent = styled.div`\r\n    width:100%;\r\n    max-width:1140px;\r\n    margin:0 auto;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    img {\r\n        height:50px;\r\n    }\r\n    img.logo {\r\n        @media(max-width:768px){\r\n            max-width:75%;\r\n        }\r\n    }\r\n    nav {\r\n        button, a  {\r\n            background:none;\r\n            outline:none;\r\n            border:none;\r\n            cursor:pointer;\r\n            text-transform:uppercase;\r\n            font-family: Lato, sans-serif;\r\n            font-size: 16px;\r\n            line-height: 1.5;\r\n            letter-spacing: 1.75px;\r\n            font-weight: 700;\r\n            font-stretch: normal;\r\n            color: #0d0d0d;\r\n            text-decoration:none;\r\n            &:hover {\r\n                opacity:0.7;\r\n            }\r\n        }\r\n        ul {\r\n            li {\r\n                display:inline;\r\n                list-style:none;\r\n                padding: 8px;\r\n                transition:250ms all;\r\n                button:after {\r\n                    display: inline-block;\r\n                    margin-left: .255em;\r\n                    vertical-align: .255em;\r\n                    content: \"\";\r\n                    border-top: .3em solid;\r\n                    border-right: .3em solid transparent;\r\n                    border-bottom: 0;\r\n                    border-left: .3em solid transparent;\r\n                }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    ul#mapLinks {\r\n        position:absolute;\r\n        background: ${colors.teal};\r\n        border-radius:5px;\r\n        box-shadow:2px 2px 2px rgba(0,0,0,0.5);position: absolute;\r\n        padding: .5rem 0;\r\n        margin: .125rem 0 0;\r\n        font-size: 1rem;\r\n        li, a {\r\n            display: block;\r\n            width: 100%;\r\n            padding: .25rem 1.5rem;\r\n            clear: both;\r\n            font-weight: 400;\r\n            color:white;\r\n            text-align: inherit;\r\n            white-space: nowrap;\r\n            background-color: transparent;\r\n            border: 0;\r\n        }\r\n    }\r\n    .mainNav {\r\n        @media(max-width:768px) {\r\n            display:none;\r\n        }\r\n    }\r\n    .mobileNav {\r\n        display:none;\r\n        @media(max-width:768px) {\r\n            display:initial;\r\n        }\r\n        ul#mapLinks {\r\n            right:16px;\r\n            li, a {\r\n                font-size:1.25rem;\r\n            }\r\n        }\r\n    }\r\n\r\n`\r\n\r\nconst StaticNavbar = () => {\r\n    const [ mapLinksOpen, setMapLinksOpen ] = useState(false)\r\n\r\n    const listener = (e) => {\r\n        setMapLinksOpen(false)\r\n    }\r\n\r\n    const removeListener = () => {\r\n        window.removeEventListener('click', listener)\r\n        window.removeEventListener('click', removeListener)\r\n    }\r\n\r\n    const handleNavOpen = (e) => {\r\n        if (!mapLinksOpen) {\r\n            setTimeout(() => {\r\n                window.addEventListener('click', listener)\r\n                window.addEventListener('click', removeListener)\r\n            }, 250);\r\n        }\r\n        setMapLinksOpen(prev => !prev)\r\n    }\r\n    \r\n    return (\r\n       <Navbar>\r\n            <NavbarContent>\r\n                <NavLink to=\"/\">\r\n                    <img \r\n                        src={`${process.env.PUBLIC_URL}/img/us-covid-atlas-cluster-logo.svg`}\r\n                        alt=\"US Covid Atlas Logo\"\r\n                        className=\"logo\"\r\n                    />\r\n                </NavLink>\r\n                <nav className=\"mainNav\">\r\n                    <ul>\r\n                        <li>     \r\n                            <button onClick={handleNavOpen}>Map</button>\r\n                            {mapLinksOpen && \r\n                            <ul id=\"mapLinks\">\r\n                                <NavLink to=\"/map\">Explore</NavLink>\r\n                                <NavLink to=\"/data\">Data</NavLink>\r\n                                <NavLink to=\"/api\">API</NavLink>\r\n                                <NavLink to=\"/methods\">Methods</NavLink>\r\n                                <NavLink to=\"/faq\">Help + Faq</NavLink>\r\n                            </ul>}\r\n                        </li>\r\n                        <li>\r\n                            <NavLink to=\"/insights\">Insights</NavLink>\r\n                        </li>\r\n                        <li>\r\n                            <NavLink to=\"/about\">About</NavLink>\r\n                        </li>\r\n                        <li>\r\n                            <NavLink to=\"/contact\">Contact</NavLink>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n                \r\n                <nav className=\"mobileNav\">\r\n                    <button onClick={handleNavOpen}>\r\n                        <img src={`${process.env.PUBLIC_URL}/icons/hamburger.svg`} alt=\"Open navigation icon\"/>\r\n                    </button>\r\n                    {mapLinksOpen && \r\n                    <ul id=\"mapLinks\">\r\n                        <NavLink to=\"/map\">Explore</NavLink>\r\n                        <NavLink to=\"/data\">Data</NavLink>\r\n                        <NavLink to=\"/api\">API</NavLink>\r\n                        <NavLink to=\"/methods\">Methods</NavLink>\r\n                        <NavLink to=\"/insights\">Insights</NavLink>\r\n                        <NavLink to=\"/faq\">Help + Faq</NavLink>\r\n                        <NavLink to=\"/about\">About</NavLink>\r\n                        <NavLink to=\"/contact\">Contact</NavLink>\r\n                    </ul>}\r\n                </nav>\r\n            </NavbarContent>\r\n       </Navbar>\r\n    );\r\n}\r\n \r\nexport default StaticNavbar;","// this components houses the slider, legend, and bottom dock chart\r\nimport React from 'react';\r\n\r\nimport styled from 'styled-components';\r\n\r\nimport { DateSlider, Dock } from '../components';\r\nimport { colors } from '../config';\r\n\r\n// Styled components\r\nconst TopDrawer = styled.div`\r\n    position: fixed;\r\n    top:50px;\r\n    left:calc(50vw - 225px);\r\n    background:${colors.gray};\r\n    width:90vw;\r\n    max-width: 450px;\r\n    box-sizing: border-box;\r\n    padding:0;\r\n    margin:0;\r\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\r\n    border-radius:0 0 0.5vh 0.5vh ;\r\n    transition:250ms all;\r\n    hr {\r\n        opacity:0.5;\r\n    }\r\n    div.MuiGrid-item {\r\n        padding:0;\r\n    }\r\n    \r\n    @media (max-width:768px){\r\n        width:100%;\r\n        max-width:100%;\r\n        left:0;\r\n        transform:none;\r\n    }\r\n    @media (max-width:750px) and (orientation: landscape) {\r\n        // bottom all the way down for landscape phone\r\n    }\r\n`\r\nconst TopPanel = () => {\r\n    \r\n    return (\r\n        <TopDrawer id=\"timelinePanel\">\r\n            <DateSlider />\r\n            <Dock />\r\n        </TopDrawer>\r\n    )\r\n\r\n}\r\n\r\nexport default TopPanel","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\n\r\nimport { ContentContainer, Gutter } from '../../styled_components';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { StaticNavbar, Footer } from '../../components';\r\nimport { colors } from '../../config';\r\n\r\nconst AboutPage = styled.div`\r\n    background:white;\r\n`\r\nconst BioSection = styled.div`\r\n    padding:40px 0;\r\n    text-align:center;\r\n    img {\r\n        width:100%;\r\n        max-width:200px;\r\n        display:block;\r\n        border-radius:50%;\r\n        margin:40px auto 10px auto;\r\n    }\r\n    p.affiliation {\r\n        display:inline;\r\n    } \r\n    p {\r\n        max-width: 400px;\r\n        margin:0 auto;\r\n    }\r\n`\r\n\r\nconst leadershipInfo = [\r\n    {\r\n        name: 'Marynia Kolak, MS, MFA, PhD',\r\n        link: 'https://makosak.github.io/',\r\n        img: `${process.env.PUBLIC_URL}/img/mk.jpg`,\r\n        affiliation: '(CSDS)',\r\n        title: 'Assistant Director for Health Informatics, Health Geographer, GIScientist'\r\n    },\r\n    {\r\n        name:'Xun Li, PhD',\r\n        link:'https://www.linkedin.com/in/xun-li-794a5b18/',\r\n        img: `${process.env.PUBLIC_URL}/img/xunli2.png`,\r\n        affiliation:'(CSDS)',\r\n        title:'Assistant Director for Data Science & principal software engineer of GeoDa'\r\n    },\r\n    {\r\n        name:'Qinyun Lin, PhD',\r\n        link:'https://www.linkedin.com/in/qinyun-lin-b72763112',\r\n        img: `${process.env.PUBLIC_URL}/img/qlin.png`,\r\n        affiliation:'(CSDS)',\r\n        title:'Postdoctoral Fellow specializing in causal inference, social network analysis & multi-level models',\r\n    },\r\n]\r\n\r\n\r\nconst coreTeamInfo = [\r\n    {\r\n        name:'Dylan Halpern, MCP',\r\n        link:'https://dylanhalpern.com/',\r\n        img: `${process.env.PUBLIC_URL}/img/dylan.png`,\r\n        affiliation:'(CSDS)',\r\n        title:'Principal Software Engineer',\r\n    },\r\n    {\r\n       'name': 'Vidal Anguino, MS',\r\n        'link': 'https://spatial.uchicago.edu/directories/full/Research-Assistants',\r\n        'img': `${process.env.PUBLIC_URL}/img/vidal.jpeg`,\r\n        'affiliation': '(CSDS)',\r\n        'title': 'Software Engineer'\r\n    },\r\n    {\r\n        'name': 'Susan Paykin, MPP',\r\n        'link': 'https://www.linkedin.com/in/susanpaykin/',\r\n        'img': `${process.env.PUBLIC_URL}/img/susan.jpg`,\r\n        'affiliation': '(CSDS)',\r\n        'title': 'Senior Research Specialist'\r\n    },\r\n    {\r\n        'name': 'Stephanie Yang',\r\n        'link': 'https://spatial.uchicago.edu/directories/full/Research-Assistants',\r\n        'img': `${process.env.PUBLIC_URL}/img/stephanie.png`,\r\n        'affiliation': '(CSDS)',\r\n        'title': 'Spatial Data Science Fellow Data Engineer'\r\n    },\r\n    {\r\n        'name': 'Ryan Wang',\r\n        'link': 'https://spatial.uchicago.edu/directories/full/Research-Assistants',\r\n        'img': `${process.env.PUBLIC_URL}/img/ryan.jpeg`,\r\n        'affiliation': '(CSDS)',\r\n        'title': 'Spatial Data Science Fellow Data Analyst'\r\n    },\r\n    {\r\n        'name': 'Kenna Camper',\r\n        'link': 'https://kenna-camper.wixsite.com/portfolio',\r\n        'img': `${process.env.PUBLIC_URL}/img/kenna.png`,\r\n        'affiliation': '(CSDS)',\r\n        'title': 'Research Assistant Communications Specialist'\r\n    },\r\n    {\r\n        'name': 'Laura Chen',\r\n        'link': 'https://spatial.uchicago.edu/directories/full/Research-Assistants',\r\n        'img': `${process.env.PUBLIC_URL}/img/laura.png`,\r\n        'affiliation': '(CSDS)',\r\n        'title': 'Research Assistant Communications Specialist'\r\n    }, \r\n]\r\n\r\nconst coalitionDesignInfo = [\r\n    {\r\n        'name': 'Akemi Hong',\r\n        'link': 'http://www.studioakemi.com',\r\n        'img': `${process.env.PUBLIC_URL}/img/akemi.jpeg`,\r\n        'affiliation': '',\r\n        'title': 'Principal, Studio Akemi'\r\n    },\r\n    {\r\n        'name': 'Toni Williams',\r\n        'link': 'https://burness.com/our-people/toni',\r\n        'img': `${process.env.PUBLIC_URL}/img/toni.jpg`,\r\n        'affiliation': '',\r\n        'title': 'Vice President, Burness'\r\n    },\r\n    {\r\n        'name': 'Cecilia Smith, MS, PhD',\r\n        'link': 'https://www.lib.uchicago.edu/about/directory/staff/cecilia-smith/',\r\n        'img': `${process.env.PUBLIC_URL}/img/cecilia.jpg`,\r\n        'affiliation': '',\r\n        'title': 'GIS and Maps Librarian, Univesity of Chicago'\r\n    },\r\n\r\n]\r\nconst coalitionPartnersInfo = [\r\n    {\r\n        'name': 'Lawrence T. Brown, PhD',\r\n        'link': 'https://uwphi.pophealth.wisc.edu/staff/brown-lawrence/',\r\n        'img': `${process.env.PUBLIC_URL}/img/lawrence.png`,\r\n        'affiliation': '(CHR&R)',\r\n        'title': 'Director of County Health Rankings & Roadmaps, Visiting Associate Professor in the University of Wisconsin Population Health Institute'\r\n    },\r\n    {\r\n        'name': 'Marjorie Givens, PhD ',\r\n        'link': 'https://uwphi.pophealth.wisc.edu/staff/givens-phd-marjory/',\r\n        'img': `${process.env.PUBLIC_URL}/img/givens.jpg`,\r\n        'affiliation': ' (CHR&R) ',\r\n        'title': 'Associate Director, Population Health Institute'\r\n    },\r\n    {\r\n        'name': 'Bin Yu, PhD',\r\n        'link': 'https://www.stat.berkeley.edu/~binyu/Site/Welcome.html',\r\n        'img': `${process.env.PUBLIC_URL}/img/bin.jpg`,\r\n        'affiliation': '(Berkeley)',\r\n        'title': \"Chancellor's Distinguished Professor, Principal of Yu Research Group, Departments of Statistics and EECS\"\r\n    },\r\n    {\r\n        'name': 'Roger L. Chaufournier, MHSA',\r\n        'link': 'https://www.linkedin.com/in/roger-chaufournier-0499a22a',\r\n        'img': `${process.env.PUBLIC_URL}/img/roger.jpg`,\r\n        'affiliation': '',\r\n        'title': 'CEO of CSI Solutions'\r\n    },\r\n    {\r\n        'name': 'Kathy Reims, MD',\r\n        'link': 'https://www.linkedin.com/in/kathy-reims-56279217',\r\n        'img': `${process.env.PUBLIC_URL}/img/kreims.jpg`,\r\n        'affiliation': '',\r\n        'title': 'CMO of CSI Solutions'\r\n    },\r\n    {\r\n        'name': 'Greg Wolverton, FHIMSS',\r\n        'link': 'https://www.linkedin.com/in/greg-wolverton-234057a',\r\n        'img': `${process.env.PUBLIC_URL}/img/greg.jpeg`,\r\n        'affiliation': '',\r\n        'title': 'CTO of CSI Solutions'\r\n    },\r\n    {\r\n        'name': 'Brian Yandell, PhD ',\r\n        'link': 'https://datascience.wisc.edu/covid19',\r\n        'img': `${process.env.PUBLIC_URL}/img/yandell.jpg`,\r\n        'affiliation': '(UW-Madison)',\r\n        'title': 'Interim Director at the American Family Insurance Data Science Institute, lead of the UW-Madison COVID Data Science Team'},\r\n    {\r\n        'name': 'Steve Goldstein, PhD ',\r\n        'link': 'https://biostat.wiscweb.wisc.edu/staff/goldstein-steve/',\r\n        'img': `${process.env.PUBLIC_URL}/img/steveg.jpeg`,\r\n        'affiliation': '(UW-Madison)',\r\n        'title': 'Botany, Biostatistics and Medical Informatics'\r\n    },\r\n    {\r\n        'name': 'Kevin Little, PhD',\r\n        'link': 'https://www.iecodesign.com/about-us',\r\n        'img': `${process.env.PUBLIC_URL}/img/kevin.png`,\r\n        'affiliation': '',\r\n        'title': 'Principal, Informing Ecological Design, LLC'\r\n    },\r\n    \r\n]\r\nconst contributorsInfo = [\r\n    {\r\n        'name': 'Julia Koschinsky',\r\n        'link': 'https://www.linkedin.com/in/julia-koschinsky-657599b1',\r\n        'img': `${process.env.PUBLIC_URL}/img/julia.jpeg`,\r\n        'affiliation': '(CSDS)',\r\n        'title': 'Executive Director of the Center for Spatial Data Science at the University of Chicago.'\r\n    },\r\n    {\r\n        'name': 'Luc Anselin',\r\n        'link': 'https://spatial.uchicago.edu/directory/luc-anselin-phd',\r\n        'img': `${process.env.PUBLIC_URL}/img/luc.png`,\r\n        'affiliation': '(CSDS) ',\r\n        'title': 'Stein-Freiler Distinguished Service Professor of Sociology at the College, Director of the Center for Spatial Data Science, & a Senior Fellow at NORC.'\r\n    },\r\n    {\r\n        'name': 'John Steill ',\r\n        'link': 'https://www.linkedin.com/in/johnsteill/',\r\n        'img': `${process.env.PUBLIC_URL}/img/johns.png`,\r\n        'affiliation': '(UW-Madison)',\r\n        'title': 'Computational Biologist Morgridge Institute of Research'\r\n    },\r\n    {\r\n        'name': 'Steven Wangen ',\r\n        'link': 'https://www.linkedin.com/in/steven-wangen/',\r\n        'img': `${process.env.PUBLIC_URL}/img/steve.png`,\r\n        'affiliation': '(UW-Madison) ',\r\n        'title': 'Assistant Scientist at the Wisconsin Institute for Discovery, and Data Scientist at the American Family Insurance Data Science Institute.'\r\n    },\r\n    {\r\n        'name': 'Erin Abbott',\r\n        'link': 'https://spatial.uchicago.edu/directories/full/Research-Assistants',\r\n        'img': `${process.env.PUBLIC_URL}/img/erin.jpeg`,\r\n        'affiliation': '(CSDS)',\r\n        'title': '3rd year Environmental & Urban Studies major, Geographic Information Science minor, and Pre-health at the University of Chicago.'\r\n    },\r\n    {\r\n        'name': 'Karina Acosta Ordonez',\r\n        'link': 'https://spatial.uchicago.edu/directories/full/all',\r\n        'img': `${process.env.PUBLIC_URL}/img/karina.jpg`,\r\n        'affiliation': '(CSDS)',\r\n        'title': 'PhD Student, Visiting Scholar'\r\n    },\r\n    {\r\n        'name': 'Sihan Mao ',\r\n        'link': 'https://www.linkedin.com/in/sihan-mao/',\r\n        'img': `${process.env.PUBLIC_URL}/img/sihano.jpeg`,\r\n        'affiliation': '(CSDS Alumni)',\r\n        'title': 'Senior Data & Policy Analyst, Department of Innovation & Performance, City of Pittsburgh'\r\n    },\r\n    {\r\n        'name': 'Arianna Israel',\r\n        'link': '',\r\n        'img': `${process.env.PUBLIC_URL}/img/ari.jpg`,\r\n        'affiliation': '',\r\n        'title': 'UX Engineer'\r\n    },\r\n    {\r\n        'name': 'Robert Martin',\r\n        'link': '',\r\n        'img': `${process.env.PUBLIC_URL}/img/robert.jpeg`,\r\n        'affiliation': '',\r\n        'title': 'Software Engineer'\r\n    },\r\n    {\r\n        'name': 'Dan Snow, MS',\r\n        'link': '',\r\n        'img': `${process.env.PUBLIC_URL}/img/Dan.png`,\r\n        'affiliation': '(CSDS)',\r\n        'title': 'Software Engineer'\r\n    },\r\n    {\r\n    'name': 'Moksha Menghaney',\r\n    'link': '',\r\n    'img': `${process.env.PUBLIC_URL}/img/Moksha.jpeg`,\r\n    'affiliation': '(CSDS)',\r\n    'title': 'Community Mapping Analyst'\r\n    }\r\n]\r\n\r\n\r\n\r\nconst formatBio = (person) => \r\n    <Grid item xs={12} md={4}>\r\n        <img src={person.img} alt={`${person.name} photo`} />\r\n        <p>\r\n            {person.link ? \r\n                <a href={person.link} target=\"noopener noreferrer\">{person.name}</a>\r\n                :\r\n                person.name\r\n            }\r\n            {person.affiliation && ` ${person.affiliation}`}\r\n        </p>\r\n        <p>\r\n            {person.title}\r\n        </p>\r\n    </Grid>\r\n\r\nconst about = () => {\r\n    return (\r\n       <AboutPage>\r\n           <StaticNavbar/>\r\n           <ContentContainer>\r\n               <h1>About Us</h1>\r\n               <hr/>\r\n               <h2>\r\n                   The U.S. COVID-19 Atlas is a county-level clustering surveillance tool to provide quick access to county-level COVID-19 estimates, \r\n                   longitudinal exploration, and statistical cluster detection. It reveals a more detailed pandemic landscape with local hotspots of \r\n                   surging COVID cases that are missed by state-level data.\r\n                </h2>\r\n                <p>\r\n                    In addition to basic visualizations at county &amp; state scales, the Atlas also provides statistical hotspots to support surveillance and \r\n                    decision-making that have helped a wide range of users, from rural health department officials to businesses across the country planning to re-open safely.\r\n                    <br/><br/>\r\n                    It was started in early March and launched less than two weeks later by the University of Chicagos Center for Spatial Data Science (CSDS) based on its GeoDaWeb platform. \r\n                    A network of volunteers activated to contribute to its development, and the atlas has since expanded as a research coalition across multiple institutions.\r\n                    <br/><br/>\r\n                    Today, the US COVID Atlas Project is a coalition of research partners and contributors that have been integral to developing and expanding the Covid Atlas to meet the needs \r\n                    of health practitioners, planners, researchers, and the public, with support in part by the Robert Wood Johnson Foundation. The project remains a free and opensource GIS platform, \r\n                    building on GeoDa libraries.\r\n                </p>\r\n                <BioSection>\r\n                    <h3>Leadership</h3>\r\n                    <Grid container spacing={1} justify=\"center\">\r\n                        {leadershipInfo.map(person => formatBio(person))}\r\n                    </Grid>\r\n                    <Gutter h={60}/>\r\n                    <h3>Core Development Team</h3>\r\n                    <Grid container spacing={1} justify=\"center\">\r\n                        {coreTeamInfo.map(person => formatBio(person))}\r\n                    </Grid>\r\n                    <Gutter h={60}/>\r\n                    <h3>Coalition Design &amp; Communications Team</h3>\r\n                    <Grid container spacing={1} justify=\"center\">\r\n                        {coalitionDesignInfo.map(person => formatBio(person))}\r\n                    </Grid>\r\n                    <Gutter h={60}/>\r\n                    <h3>Coalition Partners</h3>\r\n                    <Grid container spacing={1} justify=\"center\">\r\n                        {coalitionPartnersInfo.map(person => formatBio(person))}\r\n                    </Grid>\r\n                    <Gutter h={60}/>\r\n                    <h3>Contributors</h3>\r\n                    <Grid container spacing={1} justify=\"center\">\r\n                        {contributorsInfo.map(person => formatBio(person))}\r\n                    </Grid>\r\n                </BioSection>\r\n           </ContentContainer>\r\n           <Footer/>\r\n       </AboutPage>\r\n    );\r\n}\r\n \r\nexport default about;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { ContentContainer, Gutter } from '../../styled_components';\r\nimport { StaticNavbar, Footer } from '../';\r\nimport { colors } from '../../config';\r\n\r\nconst ApiPage = styled.div`\r\n    background:white;\r\n`\r\n\r\nconst CodeBold = styled.code`\r\n    font-weight:bold;\r\n`\r\n\r\nconst CodeRed = styled.span`\r\n    color:${colors.pink};\r\n`\r\n\r\nconst CodeBlock = styled.div`\r\n    font-size:1rem;\r\n    margin:20px 0;\r\n    padding:20px;\r\n    background:${colors.lightgray}55;\r\n`\r\n\r\nconst Insights = () => {\r\n\r\n    return (\r\n       <ApiPage>\r\n           <StaticNavbar/>\r\n           <ContentContainer>\r\n                <h1>API</h1>\r\n                <hr/>\r\n                <p>\r\n                    The Covid Atlas public data API provides access to state-level and county-level USAFacts confirmed and death count data, \r\n                    and local indicator of spatial association results (LISA statistics). \r\n                </p>\r\n                <br/>\r\n                <ul>\r\n                    <li>All dates and times are in US central time (CDT). Data are updated on a daily basis every afternoon.</li>\r\n                    <li>\r\n                        Users should first register for <a href=\"https://docs.google.com/forms/d/e/1FAIpQLSc4OBaQjEiwFGXxZfQJ3vaanCO5qWzQ2XQ8fxIdhl4l3xY-9w/viewform\" target=\"_blank\" rel=\"noopener noreferrer\">API access</a>. \r\n                        A confirmed email will be sent once we verified your information.\r\n                    </li>\r\n                    <li>All data are returned in json format.</li>\r\n                </ul>\r\n                <br/>\r\n                <h3>API Domain</h3>\r\n                <br/>\r\n                <p>All API requests should be made to: <CodeBold>https://api.theuscovidatlas.org</CodeBold></p>\r\n                <Gutter h={40}/>\r\n                <h3>Confirmed COVID Cases, Death</h3>\r\n                <br/>\r\n                <h2>DATA SOURCES</h2>\r\n                <p>\r\n                    <b>Confirmed and Death Count:</b> USAFacts\r\n                    <br/><br/>\r\n                    USAFacts provides county-level death and confirmed data on a daily basis with updates every afternoon.\r\n                </p>\r\n\r\n                <Gutter h={40}/>\r\n                <h2>API PARAMETERS</h2>\r\n                <ul>\r\n                    <li><b>state</b> (required): <CodeRed>str</CodeRed> case insensitive state abbreviation</li>\r\n                    <li><b>category</b> (required): <CodeRed>str</CodeRed> \"data\"</li>\r\n                    <li><b>type</b> (optional): <CodeRed>str</CodeRed> confirmed, death, default as death</li>\r\n                    <li><b>source</b> (optional): <CodeRed>str</CodeRed> usafacts or 1p3a case insensitive, default as usafacts</li>\r\n                    <li><b>level</b> (optional): <CodeRed>str</CodeRed> state or county, default as county</li>\r\n                    <li><b>start</b> (optional): <CodeRed>8-digit</CodeRed> integer start date in format as 20201005, default as 7 days prior to today. Range from 20200122 to today</li>\r\n                    <li><b>end</b>(optional): <CodeRed>8-digit</CodeRed> integer end date in format as 20201005, default as today. Range from 20200122 to today</li>\r\n                </ul>\r\n                \r\n                <Gutter h={40}/>\r\n                <h2>API QUERY EXAMPLE</h2>\r\n                <p>\r\n                    To get county-level death data of Illinois from September 1st, 2020 to October 1st, 2020, the query should be set as:\r\n                    <br/>\r\n                    <CodeRed>domain/v1/lisa/?state=il&amp;category=data&amp;start=20200901&amp;end=20201001&amp;type=death</CodeRed>\r\n                </p>\r\n                <Gutter h={40}/>\r\n\r\n                <h2>POSSIBLE ERROR MESSAGES</h2>\r\n                <ul>\r\n                    <li>Invalid State Input: if the field is missing or have typos</li>\r\n                    <li>Invalid Date: if start date is before 20200122 or end date after today, or end date before start date</li>\r\n                    <li>Invalid Type: if type input is other than death or confirmed</li>\r\n                    <li>Invalid Level Type: if level input is other than state or county</li>\r\n                </ul>\r\n                <Gutter h={40}/>\r\n                <h3>LISA \"HotSpot\" Statistics</h3>\r\n                <Gutter h={40}/>\r\n                <h2>DATA SOURCES</h2>\r\n                <p>The Covid Atlas team calculated LISA statistics using the library pygeoda. Data used in calculation were confirmed and death data provided by USAFacts and 1 Point 3 Acres. The LISA for each observation gives an indication of the extent of significant spatial clustering of similar values around that observation.In our case, county are divided into five categories:</p>\r\n                <br/>\r\n                <ol>\r\n                    <li>High-high: area with high values and neighborhood by area with high values;</li>\r\n                    <li>Low-low: area with low values and neighborhood by area with low values;</li>\r\n                    <li>High-low: area with high values and neighborhood by area with low values;</li>\r\n                    <li>Low-high: area with low values and neighborhood by area with high values;</li>\r\n                    <li>Not significant</li>\r\n                </ol>\r\n                <Gutter h={40}/>\r\n                <h2>API PARAMETERS</h2>\r\n                <ul>\r\n                    <li><b>state</b> (required): <CodeRed>str</CodeRed> case insensitive state abbreviation</li>\r\n                    <li><b>category</b> (required): <CodeRed>str</CodeRed> \"lisa\"</li>\r\n                    <li><b>type</b> (optional): <CodeRed>str</CodeRed> confirmed, death, default as death</li>\r\n                    <li><b>source</b> (optional): <CodeRed>str</CodeRed> usafacts or 1p3a case insensitive, default as usafacts</li>\r\n                    <li><b>level</b> (optional): <CodeRed>str</CodeRed> state or county, default as county</li>\r\n                    <li><b>start</b> (optional): <CodeRed>8-digit</CodeRed> integer start date in format as 20201005, default as 7 days prior to today. Range from 20200122 to today</li>\r\n                    <li><b>end</b> (optional): <CodeRed>8-digit</CodeRed> integer end date in format as 20201005, default as today. Range from 20200122 to today</li>\r\n                </ul>\r\n                <Gutter h={40}/>\r\n                <h2>API QUERY EXAMPLE</h2>\r\n                <p>\r\n                    To get county-level death lisa of Illinois using 1P3A data from September 1st, 2020 to October 1st, 2020, the query should be set as:\r\n                    <br/>\r\n                    <CodeRed>domain/v1/lisa/?state=IL&amp;category=lisa&amp;start=20200901&amp;end=20201001&amp;source=1p3a&amp;type=death&amp;level=county</CodeRed>\r\n                </p>\r\n                <Gutter h={40}/>\r\n                <h2>POSSIBLE ERROR MESSAGES</h2>\r\n                <ul>\r\n                    <li>Invalid State Input: if the field is missing or have typos</li>\r\n                    <li>Invalid Date: if start date is before 20200122 or end date after today, or end date before start date</li>\r\n                    <li>Invalid Type: if type input is other than death or confirmed</li>\r\n                    <li>Invalid Level Type: if level input is other than state or county</li>\r\n                </ul>\r\n                <Gutter h={40}/>\r\n                <h3>Python Example</h3>\r\n                <CodeBlock>\r\n                    <code>\r\n                        import requests\r\n                        <br/><br/>\r\n                        url = 'https://api.theuscovidatlas.org/v1/lisa/?state=AZ&category=lisa'\r\n                        <br/><br/>\r\n                        {`header = {'your-api-key': 'your-api-secret-key'}`}\r\n                        <br/><br/>\r\n                        req = requests.get(url, headers=header\r\n                        <br/><br/>\r\n                        req.text\r\n                    </code>\r\n                </CodeBlock>\r\n            </ContentContainer>\r\n            <Footer/>\r\n       </ApiPage>\r\n    );\r\n}\r\n \r\nexport default Insights;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { ContentContainer, Gutter } from '../../styled_components';\r\nimport { StaticNavbar, Footer } from '../';\r\n\r\nconst ContactPage = styled.div`\r\n    background:white;\r\n`\r\n\r\nconst pressInfo = [\r\n    {\r\n        'name': 'NPR - All Things Considered:',\r\n        'link': 'https://www.npr.org/2020/07/02/886845325/coronavirus-in-the-u-s-where-the-hotspots-are-now-and-where-to-expect-new-ones',\r\n        'text': 'Coronavirus in the US -- Where the hotposts are now and where to expect new ones. ',\r\n        'date': '(July 2)'\r\n    },\r\n    {\r\n        'name': 'Politico:',\r\n        'link': 'https://www.politico.com/newsletters/politico-nightly-coronavirus-special-edition/2020/06/10/dont-call-it-a-second-wave-489488',\r\n        'text': 'POLITICO Nightly: Coronavirus Special Edition, Dont Call it a Second Wave ',\r\n        'date': '(June 12)'\r\n    },\r\n    {\r\n        'name': 'Washington Post:',\r\n        'link': 'https://www.washingtonpost.com/news/powerpost/paloma/the-health-202/2020/06/01/the-health-202-the-summer-fight-against-the-coronavirus-will-be-a-local-one/5ed1753188e0fa32f822de79/',\r\n        'text': 'The Health 202: The summer fight against the coronavirus will be a local one ',\r\n        'date': '(June 1)'\r\n    },\r\n    {\r\n        'name': 'Politico:',\r\n        'link': 'https://www.politico.com/newsletters/politico-nightly-coronavirus-special-edition/2020/05/12/pelosis-pandemic-strategy-489203',\r\n        'text': 'POLITICO Nightly: Coronavirus Special Edition, Pelosis Pandemic Strategy',\r\n        'date': '(May 12)'\r\n    },\r\n    {\r\n        'name': 'Washington Post:',\r\n        'link': 'https://www.washingtonpost.com/news/powerpost/paloma/the-health-202/2020/05/05/the-health-202-social-distancing-hasn-t-been-as-effective-in-stemming-u-s-coronavirus-deaths-as-policymakers-had-hoped/5eb04b6d88e0fa594778ea5e/',\r\n        'text': \"Social distancing hasn't been as effective in stemming U.S. coronavirus deaths as policymakers hoped\",\r\n        'date': '(May 5)'\r\n    },\r\n    {\r\n        'name': 'New York Times:',\r\n        'link': 'https://www.nytimes.com/2020/04/10/nyregion/coronavirus-new-yorkers-leave.html',\r\n        'text': 'Did New Yorkers Who Fled to Second Homes Bring the Virus?',\r\n        'date': '(April 10)'\r\n    },\r\n    {\r\n        'name': 'Washington Post:',\r\n        'link': 'https://www.washingtonpost.com/politics/even-as-deaths-mount-officials-see-signs-pandemics-toll-may-not-match-worst-fears/2020/04/07/cb2d2290-78d1-11ea-9bee-c5bf9d2e3288_story.html',\r\n        'text': 'Even as deaths mount, officials see signs pandemics toll may not match worst fears',\r\n        'date': '(April 8)'\r\n    },\r\n    {\r\n        'name': 'Washington Post:',\r\n        'link': 'https://www.washingtonpost.com/politics/2020/04/08/leading-model-now-estimates-tens-thousands-fewer-covid-19-deaths-by-summer/',\r\n        'text': 'A leading model now estimates tens of thousands fewer covid-19 deaths by summer ',\r\n        'date': '(April 8)'\r\n    },\r\n    {\r\n        'name': 'CBS This Morning:',\r\n        'link': 'https://www.youtube.com/watch?v=uqGXzWCD9Xk',\r\n        'text': 'How the coronavirus is impacting rural areas',\r\n        'date': '(April 6)'\r\n    },\r\n    {\r\n        'name': 'ABC News:',\r\n        'link': 'https://www.youtube.com/watch?v=uqGXzWCD9Xk',\r\n        'text': 'How the coronavirus is impacting rural areas',\r\n        'date': '(April 6)'\r\n    },\r\n    {\r\n        'name': 'CBS This Morning:',\r\n        'link': 'https://abcnews.go.com/Health/surprising-covid-19-hot-spots-coronavirus-threatens-rural/story?id=69940146',\r\n        'text': 'Surprising COVID-19 hot spots: Why coronavirus still threatens rural areas',\r\n        'date': '(April 4)'\r\n    },\r\n    {\r\n        'name': 'Daily Mail:',\r\n        'link': 'https://www.dailymail.co.uk/news/article-8186581/Americas-hidden-hotspots-selfish-coronavirus-refugees-spread-disease.html',\r\n        'text': \"America's hidden hotspots: Shocking maps reveal how rural areas and small communities are some of the hardest hit by coronavirus as hospitals are overwhelmed just like in New York and New Orleans\",\r\n        'date': '(April 4)'\r\n    },\r\n    {\r\n        'name': 'The Root:',\r\n        'link': 'https://www.theroot.com/8-of-the-10-worst-coronavirus-hot-spots-are-in-the-sout-1842648491',\r\n        'text': '8 of the 10 Worst Coronavirus Hot Spots Are in the South. Apparently, Republican Governors Just Found Out About the Pandemic',\r\n        'date': '(April 3)'\r\n    },\r\n    {\r\n        'name': 'Scientific American:',\r\n        'link': 'https://www.scientificamerican.com/article/map-reveals-hidden-u-s-hotspots-of-coronavirus-infection/?fbclid=IwAR08weiTCQTmzeSd7harTwPDR7dgQEbUZYCr0CdJhEYJp4OK7ps9fgu7hgA',\r\n        'text': 'Map Reveals Hidden U.S. Hotspots of Coronavirus Infection',\r\n        'date': '(April 2)'\r\n    },\r\n    {\r\n        'name': 'Business Insider:',\r\n        'link': 'https://www.businessinsider.com/coronavirus-hotspot-in-the-us-south-states-covid-19-pandemic-2020-4',\r\n        'text': \"New data reveals coronavirus hotspots brewing across the south, where the pandemic is set to 'hit hard'\",\r\n        'date': '(April 2)'\r\n    },\r\n    {\r\n        'name': 'WGN:',\r\n        'link': 'https://wgntv.com/news/medical-watch/small-areas-hit-hard-by-covid-19-find-representation-in-u-of-c-map/',\r\n        'text': 'Small areas hit hard by COVID-19 find representation in U of C map',\r\n        'date': '(March 31)'\r\n    },\r\n    {\r\n        'name': 'Business Insider:',\r\n        'link': 'https://www.businessinsider.com/next-wave-of-coronavirus-national-epidemic-new-orleans-philadelphia-2020-3',\r\n        'text': 'The next wave of coronavirus outbreaks is threatening cities from New Orleans to Philadelphia, and it reveals the US is on pace for a national epidemic',\r\n        'date': '(March 30)'\r\n    },\r\n    {\r\n        'name': 'International Business Times:',\r\n        'link': 'https://www.ibtimes.com/coronavirus-usa-second-wave-outbreak-fall-possible-fauci-warns-2949741',\r\n        'text': 'Coronavirus USA: Second Wave Of Outbreak In Fall Possible, Fauci Warns',\r\n        'date': '(March 30)'\r\n    },\r\n    {\r\n        'name': 'Vox:',\r\n        'link': 'https://www.vox.com/2020/3/28/21197421/usa-coronavirus-covid-19-rural-america',\r\n        'text': 'The Coronavirus May Hit Rural America Later - and Harder',\r\n        'date': '(March 28)'\r\n    },\r\n    {\r\n        'name': 'UChicago News:',\r\n        'link': 'https://news.uchicago.edu/story/state-level-data-misses-growing-coronavirus-hot-spots-us-including-south',\r\n        'text': 'State-level data misses growing coronavirus hot spots in the U.S., including in the South',\r\n        'date': '(March 26)'\r\n    }\r\n]\r\n\r\nconst contact = () => {\r\n    return (\r\n       <ContactPage>\r\n           <StaticNavbar/>\r\n           <ContentContainer>\r\n                <h1>Contact Us</h1>\r\n                <hr/>\r\n                <p>\r\n                    Contact US COVID Atlas co-leads directly if you have any questions about the Atlas or have media inquiries:<br/>\r\n                    Marynia Kolak (mkolak at uchicago.edu) or Qinyun Lin (qinyunlin at uchicago.edu)\r\n                </p>\r\n                <Gutter h={40}/>\r\n                <h2>CITATION</h2>\r\n                <hr/>\r\n                <p>\r\n                    Li, Xun, Lin, Qinyun, and Kolak, Marynia. The U.S. COVID-19 Atlas, 2020. https://www.uscovidatlas.org\r\n                    <br/><br/>\r\n                    For a list of all contributors to the Atlas, please visit our <a href=\"https://github.com/GeoDaCenter/covid\" target=\"_blank\" rel=\"noopener noreferrer\">Github</a> page.\r\n                </p>\r\n                <Gutter h={40}/>\r\n                <h2>LEARNING COMMUNITY</h2>\r\n                <hr/>\r\n                <p>\r\n                    The <a href=\"https://covidatlas.healthcarecommunities.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Atlas Learning Community</a> is project by <a href=\"https://www.spreadinnovation.com/\" target=\"_blank\" rel=\"noopener noreferrer\">CSI Solutions</a> to provide Atlas super-users, health practioners, and planners a place to interact. \r\n                    It is moderated by coalition members. Ask questions, provide feedback, and help make the Atlas Coalition stronger!\r\n                </p>\r\n                <Gutter h={40}/>\r\n                <h2>MEDIA COVERAGE</h2>\r\n                <hr/>\r\n                {pressInfo.map(press => \r\n                    <p>\r\n                        <b>{press.name} </b>\r\n                        <a href={press.link} target=\"_blank\" rel=\"noopener noreferrer\">{press.text}</a>\r\n                        {press.date}\r\n                        <br/><br/>\r\n                    </p>\r\n                )}\r\n           </ContentContainer>\r\n           <Footer/>\r\n       </ContactPage>\r\n    );\r\n}\r\n \r\nexport default contact;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { ContentContainer, Gutter } from '../../styled_components';\r\nimport { StaticNavbar, Footer } from '../';\r\nimport { colors } from '../../config';\r\n\r\nconst ChoroplethPage = styled.div`\r\n    background:white;\r\n    min-height:100vh;\r\n`\r\n\r\nconst TutorialBox = styled.div`\r\n    border:1px solid ${colors.lightgray};\r\n    padding:20px;\r\n\r\n    ol {\r\n        padding-left:40px;\r\n    }\r\n    ol li {\r\n        line-height:2.5;\r\n    }\r\n`\r\n\r\nconst Choropleth = () => {\r\n\r\n    return (\r\n       <ChoroplethPage>\r\n           <StaticNavbar/>\r\n           <ContentContainer>\r\n\r\n                <h1>Choropleth Maps</h1>\r\n                <hr/>\r\n                <p>\r\n                    Choropleth maps use color to show the count or percentage of a variable.\r\n                    <br/><br/>\r\n                    The Atlas uses color to show the count and percentage of all coronavirus cases, daily new cases, deaths, and hospital beds. Use choropleth maps to see data about the virus on a particular day.\r\n                    <br/><br/>\r\n                    For more details on how the Atlas created the choropleth maps, please see the Methods page.\r\n                </p>\r\n                <Gutter h={40}/>\r\n                <TutorialBox>\r\n\r\n                <h2>FROM THE LEFT SIDEBAR</h2>\r\n                <ul>\r\n                    <li>The choropleth map is the default display for the atlas webpage. To return to the choropleth display, first select the data source and variable you would like to map.</li>\r\n                    <li>Click on the Choropleth button.</li>\r\n                    <li>Use the color ramp at the bottom of the screen to interpret the count or percentage for each county or state.</li>\r\n                    <li>Brighter reds represent larger counts and percentages. Paler yellows represent smaller counts and percentages.</li>\r\n                </ul>\r\n                </TutorialBox>\r\n                \r\n                <Gutter h={40}/>\r\n            <p>\r\n                To explore changes over time use the <NavLink to=\"/time\">Time slider.</NavLink> To explore emerging trends and patterns use the <NavLink to=\"/hotspot\">Hotspot</NavLink> display.\r\n                <br/><br/>\r\n                \r\n                <NavLink to=\"/faq\">Back to Help Topics</NavLink>\r\n            </p>\r\n           </ContentContainer>\r\n           <Footer/>\r\n       </ChoroplethPage>\r\n    );\r\n}\r\n \r\nexport default Choropleth;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { ContentContainer, Gutter, BlankLink } from '../../styled_components';\r\nimport { StaticNavbar, Footer } from '../';\r\nimport { colors } from '../../config';\r\n\r\nconst DataPage = styled.div`\r\n    background:white;\r\n`\r\n\r\nconst Data = () => {\r\n\r\n    return (\r\n       <DataPage>\r\n           <StaticNavbar/>\r\n           <ContentContainer>\r\n                <h1>Data</h1>\r\n                <br/><br/>\r\n                <h2>CURRENT RELEASE</h2>\r\n                <hr/>\r\n                <h3>Confirmed COVID Cases and Deaths</h3>\r\n                <p>\r\n                    Because there is no one single validated source for county-level COVID cases and deaths for real-time analysis, \r\n                    we incorporate multiple datasets from multiple projects to allow for comparisons.\r\n                </p>\r\n                <br/>\r\n                <ul>\r\n                    <li>\r\n                        <a href=\"https://usafacts.org/visualizations/coronavirus-covid-19-spread-map/?utm_source=MailChimp&utm_campaign=census-covid2\" target=\"_blank\" rel=\"noopener noreferrer\">USAFacts.</a> This dataset is provided by a non-profit organization. The data are aggregated from CDC, state- and local-level public health agencies. \r\n                        County-level data is confirmed by referencing state and local agencies directly.\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"https://coronavirus.1point3acres.com/en\" target=\"_blank\" rel=\"noopener noreferrer\">1P3A.</a>This was the initial, crowdsourced data project that served as a volunteer project led by 1P3acres.com and \r\n                        Dr. Yu Gao, Head of Machine Learning Platform at Uber. We access this data stream using a token provided by the group.\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"https://github.com/nytimes/covid-19-data\" target=\"_blank\" rel=\"noopener noreferrer\">New York Times.</a> The New York Times has made data available aggregated from dozens of journalists working to collect and monitor data from new conferences. They communicate with public officials to clarify and categorize cases.\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"https://covid.cdc.gov/covid-data-tracker/\" target=\"_blank\" rel=\"noopener noreferrer\">CDC.</a> CDC data includes detailed historic testing data and case data aggregated to rolling 7-day averages.\r\n                    </li>\r\n                </ul>\r\n                <Gutter h={40}/>\r\n                <h3>Health System Capacity</h3>\r\n                <br/>\r\n                <p>\r\n                    <a href=\"https://github.com/covidcaremap/covid19-healthsystemcapacity/tree/v0.2/data\" target=\"_blank\" rel=\"noopener noreferrer\">COVIDCareMap.</a> Healthcare System Capacity includes Staffed beds, Staffed ICU beds, Licensed Beds by County. \r\n                    The data is from 2018 facility reports with additions/edits allowed in real-time.\r\n                </p>\r\n                <Gutter h={40}/>\r\n                <h3>Confirmed COVID Cases, Death</h3>\r\n                <br/>\r\n                <p>\r\n                    <a href=\"https://www.census.gov/programs-surveys/acs\" target=\"_blank\" rel=\"noopener noreferrer\">American Community Survey.</a> We incorporate population data used to generate rates, and will add more information as needed in future iterations.\r\n                    <br/><br/>\r\n                    <a href=\"https://www.countyhealthrankings.org/explore-health-rankings/rankings-data-documentation\" target=\"_blank\" rel=\"noopener noreferrer\">County Health Rankings &amp; Roadmaps (CHR&amp;R).</a> The CHR&amp;R is a \r\n                    collaboration between the Robert Wood Johnson Foundation and the University of Wisconsin Population Health Institute. \r\n                    The goal is to improve health outcomes for all and to close the health gaps between those with the most and least opportunities for good health.\r\n                    <br/><br/>\r\n                    Based on our discussion with CHR&amp;R, we include following focus areas and related measures for inclusion in the Atlas: \r\n                    income and economic hardship, children living in poverty, food insecurity, median household income, income inequality, access to health care, \r\n                    uninsured, preventable hospital stays, ratio of population to primary care physicians, housing cost and quality, Black/White residential segregation, \r\n                    percentage of 65 and older, obesity and diabetes prevalance, adult smoking, excessive drinking, drug overdose deaths, life expectancy and self-rated health condition.\r\n                </p>\r\n                <Gutter h={40}/>\r\n                <h3>Forecasting statistics</h3>\r\n                <br/>\r\n                <p>\r\n                    <a href=\"https://github.com/Yu-Group/covid19-severity-prediction\" target=\"_blank\" rel=\"noopener noreferrer\">Hospital Severity Index.</a> The <a href=\"https://www.stat.berkeley.edu/~yugroup/people.html\" target=\"_blank\" rel=\"noopener noreferrer\">Yu Group</a> at UC Berkeley Statistics and EECS has compiled, cleaned and continues to update a large corpus of hospital- and county-level \r\n                    data from a variety of public sources to aid data science efforts to combat COVID-19 (see <a href=\"http://covidseverity.com/\" target=\"_blank\" rel=\"noopener noreferrer\">covidseverity.com</a>).\r\n                    <br/><br/>\r\n                    At the hospital level, their data include the location of the hospital, the number of ICU beds, the total number of employees, and the hospital type. \r\n                    At the county level, their data include COVID-19 cases/deaths from USA Facts and NYT, automatically updated every day, along with demographic information, \r\n                    health resource availability, COVID-19 health risk factors, and social mobility information.\r\n                    <br/><br/>\r\n                    An overview of each data set in this corpus is provided <a href=\"https://github.com/Yu-Group/covid-19-geographic-risk-prediction\" target=\"_blank\" rel=\"noopener noreferrer\">here.</a> We will be adding more relevant data sets as they are found. \r\n                    We prepared this data to support healthcare supply distribution efforts through short-term (days) prediction of COVID-19 deaths (and cases) at the county level. \r\n                    We are using the predictions and hospital data to arrive at a covid Pandemic Severity Index (c-PSI) for each hospital. This project is in partnership with <a href=\"https://response4life.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Response4Life.</a>\r\n                    A paper on the current approaches can be found <a href=\"https://arxiv.org/abs/2005.07882\" target=\"_blank\" rel=\"noopener noreferrer\">at this link.</a> The more detailed information with data source descriptions is provided <a href=\"https://github.com/Yu-Group/covid19-severity-prediction\" target=\"_blank\" rel=\"noopener noreferrer\">on the github.</a>\r\n                </p>\r\n                <h2>DATA DETAILS</h2>\r\n                <hr />\r\n                <h3>USAFacts</h3>\r\n                <p>You can download the most updated county level data <a href=\"https://usafacts.org/visualizations/coronavirus-covid-19-spread-map\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p>\r\n                <br/>\r\n                <h3>1P3A</h3>\r\n                <br/>\r\n                <p>\r\n                    To access raw 1P3A data, you must contact the 1P3A for a token directly. Not all cases from 1P3A data can be assigned to a particular county, see following. \r\n                    The list is being updated as new data comes in everyday.\r\n                </p>\r\n                <br/>\r\n                <ul>\r\n                    <li>1P3A does NOT assign cases in New York to specific counties, which includes New York City, Kings, Bronx, and Richmond.</li>\r\n                    <li>Cases reported for US Virgin Islands, Guam are NOT included.</li>\r\n                    <li>Cases in the following areas can NOT be assigned and hence are NOT included: Southwest Utah; Southeast Utah; Central Utah; Tri County, Utah; Kansas City, MO; Benton and Franklin, WA.</li>\r\n                    <li>Other unassigned cases (or cases to be assigned) are NOT included.</li>\r\n                    <li>Cases reported in the Military and some Correctional Centers are NOT included.</li>\r\n                </ul>\r\n                <Gutter h={40}/>\r\n               \r\n            </ContentContainer>\r\n            <Footer/>\r\n       </DataPage>\r\n    );\r\n}\r\n \r\nexport default Data;","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MuiAccordion from '@material-ui/core/Accordion';\r\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { ContentContainer, Gutter } from '../../styled_components';\r\nimport { StaticNavbar, Footer } from '../';\r\nimport { colors } from '../../config';\r\n\r\nconst FaqPage = styled.div`\r\n    background:white;\r\n    ul li {\r\n        margin-bottom:16px;\r\n    }\r\n`\r\n\r\nconst ButtonContainer = styled(Grid)`\r\n`\r\n\r\nconst TutorialButton = styled.button`\r\n    width:100%;\r\n    border:1px solid ${colors.lightgray};\r\n    text-align:left;\r\n    padding:10px 20px;\r\n    background:white;\r\n    transition:250ms all;\r\n    cursor:pointer;\r\n    &:hover {\r\n        background:${colors.lightgray}55;\r\n    }\r\n    p {\r\n        padding:10px 0;\r\n    }\r\n`\r\n\r\nconst TutorialBox = styled.div`\r\n    border:1px solid ${colors.lightgray};\r\n    padding:20px;\r\n\r\n    ol {\r\n        padding-left:40px;\r\n    }\r\n    ol li {\r\n        line-height:2.5;\r\n    }\r\n`\r\n\r\nconst Accordion = styled(MuiAccordion)`\r\n`\r\n\r\nconst AccordionSummary = styled(MuiAccordionSummary)`\r\n`\r\n\r\nconst AccordionDetails = styled(MuiAccordionDetails)`\r\n`\r\n\r\nconst faqQuestions = [\r\n    {\r\n        'header': 'What data do you use for COVID cases?',\r\n        'content': 'Because there is no single, authoritative source of COVID case data in the United States, we use multiple sources. We include 1P3A data, a crowdsourced dataset from international volunteers that offered the first available county-level data for public use in early March. We also include USAFacts data, a journalistic dataset that made county-level data available in March. In future releases, we may also incorporate county-level reports by NYT and John Hopkins University. We recommend checking across multiple data sources, and validating against local health department numbers.'\r\n    },\r\n    {\r\n        'header': 'When will you add hospitalization data?',\r\n        'content': 'At this time, hospitalization data is not available in a single data source for all counties across the United States. If this changes, we will be certain to incorporate it.'\r\n    },\r\n    {\r\n        'header': 'When will you add COVID case data by race, age, and demographics?',\r\n        'content': 'At this time, data is not available by race, age, and demographics in a single data source for all counties across the United States. If this changes, we will be certain to incorporate it. There are several projects we recommend for state-wide metrics for race and ethniciy data, including the <a href=\"https://covidtracking.com/race/dashboard/\" target=\"_blank\" rel=\"noopener noreferrer\">Racial Dashboard</a> by CovidTracking.com and <a href=\"http://d4bl.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Data 4 Black Lives</a>.'\r\n    },\r\n    {\r\n        'header': 'Do you have a 7-day average?',\r\n        'content': 'Yes, we recently added 7-Day Average Daily Confirmed Count. We calculated this variable by taking the difference between the current days confirmed count and the confirmed count 7 days ago, and then dividing this difference by 7. For example, we took the difference between the confirmed count as of June 30th and that as of June 23rd, divided the difference by 7, then used this as an estimate for 7 Day Average Daily Confirmed Count for June 30th. Technically speaking, this measures the daily average growth for the week right before June 30th. Also note that this calculation is only available with USAFacts data because of data completeness (1P3A has several days data missing in January and February).'\r\n    },\r\n    {\r\n        'header': 'Why do you have multiple data sources available? ',\r\n        'content': 'Because there is no one single authoratative, validated source for county-level COVID cases and deaths for real-time analysis, we incorporate multiple datasets from multiple projects to allow for comparisons. For more information about each data source see our <a href=\"./data\">Data</a> page.'\r\n    },\r\n    {\r\n        'header': 'Should I be concerned about other areas than in High-High clusters?',\r\n        'content': 'High-Low & Low-High clusters refer to Outliers. These are areas that have a high (and low in Low-High) number of cases within the county and a low (and high in High-Low) number of cases in neighboring counties, highlighting an emerging risk or priority for containment.'\r\n    },\r\n    {\r\n        'header': 'Why do you focus on county-level and not state-level changes?',\r\n        'content': 'County-level visualizations show a dramatically more detailed pandemic landscape, while aggregate data alone can miss local hot spots of surging COVID cases. If one only looks at state-level data, a county cluster would have to be extreme to show up, and by then it might be too late for prevention measures to be enacted.'\r\n    },\r\n    {\r\n        'header': 'What is the difference betweeen Natural Breaks (fixd bins) and Natural Breaks under Choropleth?',\r\n        'content': `With the fixed bins option, the legend stays the same as you go back in time. This makes it easier to watch the spread of COVID over time. In the other option, the legend changes each day, adjusting for the optimal classification according to how many cases exist for that day. <br/><br/>\r\n        For a more technical response; both use a non-linear algorithm to group observations such that within-group homogeneity is maximized. However, the Natural Breaks (fixed bins) option applies the algorithm to the data for the most recent date and uses the same bins to group observations for historical data. This allows us to better visualize the pandemic spread over time. The Natural Breaks option, on the other hand, uses a non-linear algoritm to group observations for every day's data, which results in maxized within-group homogeneity for every day's data, but difficult to visualize changes over time.\r\n        `\r\n    }   \r\n]   \r\n\r\nconst Faq = () => {\r\n\r\n    const [expanded, setExpanded] = useState('panel0');\r\n  \r\n    const handleChange = (panel) => (event, newExpanded) => {\r\n      setExpanded(newExpanded ? panel : false);\r\n    };\r\n\r\n    const goTo = (page) => window.location.href = page;\r\n    return (\r\n       <FaqPage>\r\n           <StaticNavbar/>\r\n           <ContentContainer>\r\n               <h1>Help</h1>\r\n               <hr/>\r\n               <ButtonContainer container spacing={2}>\r\n                    <Grid item xs={12} md={6}>\r\n                        <TutorialButton onClick={() => goTo('choropleth')}>\r\n                            <h3>Choropleth Maps</h3>\r\n                            <p>Explore counts and percentages of cases, deaths, and hospital beds.</p>\r\n                        </TutorialButton> \r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                        <TutorialButton onClick={() => goTo('hotspot')}>\r\n                            <h3>Hotspots</h3>\r\n                            <p>Find groups of counties and states affected by the virus.</p>\r\n                        </TutorialButton> \r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>  \r\n                    <TutorialButton onClick={() => goTo('trends')}>\r\n                            <h3>Emerging Trends</h3>\r\n                            <p>Locate areas that will soon be significantly affected by virus.</p>\r\n                        </TutorialButton> \r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                    <TutorialButton onClick={() => goTo('time')}>\r\n                            <h3>Change Over Time</h3>\r\n                            <p>See the history of the virus by county and state.</p>\r\n                        </TutorialButton> \r\n                    </Grid>\r\n                </ButtonContainer>\r\n                <Gutter h={20}/>\r\n                <h2>FREQUENTLY ASKED QUESTIONS</h2>\r\n                <hr/>\r\n                {faqQuestions.map((question, index) => \r\n                    <Accordion square expanded={expanded === `panel${index}`} onChange={handleChange(`panel${index}`)}>\r\n                        <AccordionSummary aria-controls={`panel${index}d-content`} id={`panel${index}d-header`}>\r\n                        <Typography>{question.header}</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                        <Typography>\r\n                            <p dangerouslySetInnerHTML={{__html: question.content}}></p>\r\n                        </Typography>\r\n                        </AccordionDetails>\r\n                    </Accordion>\r\n                )}\r\n                <Gutter h={20}/>\r\n                <h2>LEARNING COMMUNITY</h2>\r\n                <hr/>\r\n                <p>\r\n                        The <a href=\"https://covidatlas.healthcarecommunities.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Atlas Learning Community</a> is project by <a href=\"https://www.spreadinnovation.com/\" target=\"_blank\" rel=\"noopener noreferrer\">CSI Solutions</a> to provide Atlas super-users, health practioners, and planners a place to interact. \r\n                        It is moderated by coalition members. Ask questions, provide feedback, and help make the Atlas Coalition stronger!\r\n                </p>\r\n                <Gutter h={40}/>\r\n           </ContentContainer>\r\n           <Footer/>\r\n       </FaqPage>\r\n    );\r\n}\r\n \r\nexport default Faq;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { StaticNavbar, Footer } from '../../components';\r\nimport { colors } from '../../config';\r\nimport { Gutter } from '../../styled_components';\r\n\r\nconst HomePage = styled.div`\r\n    h1 {    \r\n        font-family: 'Playfair Display', serif;\r\n        font-size: 49px;\r\n        font-weight: 300;\r\n        text-align: center;\r\n        font-style: italic;\r\n        color: #d8d8d8;\r\n        width: 80vw;\r\n        max-width: 940px;\r\n        margin: 0 auto 40px auto;\r\n    }\r\n    .h1, .h2, .h3, .h4, .h5, .h6, h1, h2, h3, h4, h5, h6 {\r\n        margin-bottom: .5rem;\r\n        font-weight: 500;\r\n        line-height: 1.2;\r\n    }\r\n    hr {\r\n        max-width:1140px;\r\n        margin:6em auto;\r\n        border: 0;\r\n        border-top: 1px solid ${colors.skyblue};\r\n    } \r\n    p {\r\n        font-size: 1rem;\r\n        font-weight: 400;\r\n        line-height: 1.5;\r\n        color: #212529;\r\n    }\r\n`\r\n\r\nconst HomePageContent = styled.div`\r\n    width:100%;\r\n    margin:0 auto;\r\n`\r\n\r\nconst Hero = styled.div`\r\n    width:100%;\r\n    max-width:1140px;\r\n    text-align:center;\r\n    color: ${colors.lightgray};\r\n    margin:0 auto;\r\n    padding:50px 10px 0 10px;\r\n    p {\r\n        \r\n        font-family: 'Lato', sans-serif;\r\n        font-size: 20px;\r\n        font-weight: 300;\r\n        font-stretch: normal;\r\n        font-style: normal;\r\n        line-height: 1.6;\r\n        letter-spacing: normal;\r\n        color: #ededed;\r\n    }\r\n    #button-cta {\r\n        font-size: 16px;\r\n        font-weight: 700;\r\n        letter-spacing: 1.75px;\r\n        line-height:5;\r\n        text-align: center;\r\n        text-transform:uppercase;\r\n        background-color: ${colors.orange};\r\n        color: #0d0d0d;\r\n        padding: 1rem 1.5rem;\r\n        margin:1rem;\r\n        border-radius: .3rem;\r\n        text-decoration:none;\r\n    }\r\n    .small-text {\r\n        font-size:0.75rem;\r\n        a {\r\n            font-size:0.75rem;\r\n            color:${colors.orange};\r\n            text-decoration:none;\r\n        }\r\n    }\r\n    video {\r\n        margin-bottom:20px;\r\n        width:100%;\r\n        max-width:600px;\r\n    }\r\n    .map-caption {\r\n        font-size:0.9rem;\r\n        text-align:left;\r\n\r\n    }\r\n\r\n`\r\n\r\nconst Features = styled.div`\r\n    max-width:1140px;\r\n    width:100%;\r\n    margin: 0 auto 60px auto;\r\n    h2 {\r\n        font-family: 'Playfair Display', serif;\r\n        font-size: 28px;\r\n        text-align:center;\r\n        font-weight: normal;\r\n        font-stretch: normal;\r\n        font-style: italic;\r\n        line-height: 1.5;\r\n        letter-spacing: normal;\r\n        text-align: center;\r\n        color: ${colors.skyblue};\r\n        margin-bottom:40px;\r\n    }\r\n`\r\n\r\nconst Feature = styled(Grid)`\r\n    text-align:center;\r\n    h5 {\r\n        font-family: 'Playfair Display', serif;\r\n        font-size: 19px;\r\n        font-weight: normal;\r\n        font-stretch: normal;\r\n        font-style: normal;\r\n        line-height: normal;\r\n        letter-spacing: normal;\r\n        color: ${colors.skyblue};\r\n        margin-bottom:20px;\r\n    }\r\n    img {\r\n        margin:20px auto;\r\n        width:100%;\r\n        max-width:130px;\r\n    }\r\n    p {\r\n        color:white;\r\n        font-family: Lato;\r\n        font-size: 16px;\r\n        font-weight: 300;\r\n        font-stretch: normal;\r\n        font-style: normal;\r\n        line-height: 1.63;\r\n        letter-spacing: normal;\r\n        color: ${colors.white};\r\n        @media(max-width:960px) {\r\n            max-width:400px;\r\n            margin:0 auto 40px auto;\r\n        }\r\n    }\r\n`\r\n\r\nconst BreakQuestion = styled.div`\r\n    width:100%;\r\n    background-color:${colors.skyblue};\r\n    padding:20px;\r\n    h3 {\r\n        font-family: 'Playfair Display', serif;\r\n        font-size: 28px;\r\n        font-weight: normal;\r\n        font-stretch: normal;\r\n        font-style: italic;\r\n        line-height: 1.5;\r\n        letter-spacing: normal;\r\n        text-align: center;\r\n        color: ${colors.gray};\r\n    }\r\n`\r\n\r\nconst Arrow = styled.div`\r\n    width: 35px;\r\n    height: 35px;\r\n    background-color: ${colors.skyblue};\r\n    position:absolute;\r\n    left:50%;\r\n    transform: translate(-50%, 0px) rotate(-45deg);\r\n`\r\n\r\nconst UseCasesContainer = styled.div`\r\n    background:white;\r\n    width:100%;\r\n    padding: 40px 20px;\r\n    padding-top:40px;\r\n`\r\nconst UseCases = styled.div`\r\n    width:100%;\r\n    max-width:1140px;\r\n    margin:0 auto;\r\n    @media (max-width:960px){\r\n        text-align:center;\r\n    }\r\n    video, img {\r\n        width:100%;\r\n        max-width:400px;\r\n        margin:0 auto;\r\n        display:block;\r\n    }\r\n    h5 {\r\n        font-size:1.5rem;\r\n    }\r\n    p {\r\n        max-width:600px;\r\n        font-size:16px;\r\n        line-height:1.7;\r\n        @media (max-width:960px){\r\n            margin: 0 auto;\r\n        }\r\n    }\r\n`\r\n\r\nconst NoBreak = styled.span`\r\n    white-space: nowrap;\r\n`\r\n\r\nconst Usage = styled.span`\r\n    background:${props => colors[props.color]};\r\n    padding:10px 15px;\r\n    border-radius:15px;\r\n    font-weight:bold;\r\n    line-height:4;\r\n    font-size:1rem;\r\n    transform:translateY(-100%);\r\n`\r\nconst home = () => {\r\n    return (\r\n       <HomePage>\r\n           <StaticNavbar/>\r\n           <HomePageContent>\r\n                <Hero>\r\n                    <h1>Near Real-Time Exploration of the <NoBreak>COVID-19</NoBreak> Pandemic</h1>\r\n                    <p>\r\n                        The US COVID Atlas is a visualization tool led by a University of Chicago research coalition.\r\n                        In a quickly changing pandemic landscape, our tool connects COVID case data and community indicators \r\n                        across the United States from its beginning to today. The Atlas helps you access current, \r\n                        validated county-level data and spatial analysis to better understand the spread in communities \r\n                        and to bolster planning efforts.\r\n                        <br/><br/>\r\n\r\n                        Version 2 brings new data, visualization modes, and tools to find insights about the pandemic.\r\n                    </p>\r\n                    <NavLink to=\"/map\" id=\"button-cta\">Explore the Atlas V2</NavLink>\r\n                    <p className=\"small-text\">\r\n                        Not ready to make the switch? <a href=\"./vintage/map.html\">Explore the original US Covid Atlas</a>\r\n                    </p>\r\n                    <video autoPlay={true} muted={true} loop={true}> \r\n                        <source src={`${process.env.PUBLIC_URL}/img/cover.mp4`} type=\"video/mp4\"/>\r\n                        Your browser does not support the video tag.\r\n                    </video>\r\n                    <p className=\"map-caption\">\r\n                        Choropleth map showing COVID-19 spreading from July 1st to the end of December 2020, based on confirmed case per 100,000 persons at the county level. The Atlas is updated by 3pm each afternoon with the latest available data.                \r\n                    </p>\r\n                </Hero>\r\n                <hr/>\r\n                <Features>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={12}>\r\n                            <h2>Atlas Features</h2>\r\n                        </Grid>\r\n                        <Feature item xs={12} md={3}>\r\n                            <img src={`${process.env.PUBLIC_URL}/icons/regional-hot-spots.png`}/>\r\n                            <h5>Track regional hotspots <NoBreak>in real-time</NoBreak></h5>\r\n                            <p>\r\n                                Statistical clusters of both confirmed and daily new COVID cases &amp; deaths, \r\n                                with and without population adjustment.\r\n                            </p>\r\n                        </Feature>\r\n                        <Feature item xs={12} md={3}>\r\n                            <img src={`${process.env.PUBLIC_URL}/icons/spread-over-time-2@2x.png`}/>\r\n                            <h5>Watch COVID-19 spread across the country</h5>\r\n                            <p>\r\n                                Watch the spread of accumulated or daily new COVID cases using a time slider and live time-animation.\r\n                            </p>\r\n                        </Feature>\r\n                        <Feature item xs={12} md={3}>\r\n                            <img src={`${process.env.PUBLIC_URL}/icons/county-level-data@2x.png`}/>\r\n                            <h5>Zoom in to focus down to the county level</h5>\r\n                            <p>\r\n                                Uncover trends of the pandemic by comparing different data sources, variables, and spatial analytic insights.\r\n                            </p>\r\n                        </Feature>\r\n                        <Feature item xs={12} md={3}>\r\n                            <img src={`${process.env.PUBLIC_URL}/icons/comm-health-context@2x.png`}/>\r\n                            <h5>Tap into community and health contexts</h5>\r\n                            <p>\r\n                                Connect to relevant social, economic, and health indicators to provide meaningful community context.\r\n                            </p>\r\n                            \r\n                        </Feature>\r\n                    </Grid>\r\n                </Features>\r\n                <BreakQuestion>\r\n                    <h3>\r\n                        How can the Atlas better equip you to respond to the pandemic?\r\n                    </h3>\r\n                    <Arrow/>\r\n                </BreakQuestion>\r\n                <UseCasesContainer>\r\n                    <UseCases>\r\n                        <Grid container spacing={5}>\r\n                            <Grid item xs={12} md={6}>\r\n                                <video autoPlay={true} muted={true} loop={true}> \r\n                                    <source src={`${process.env.PUBLIC_URL}/img/use_case1.mp4`} type=\"video/mp4\" />\r\n                                    Your browser does not support the video tag.\r\n                                </video>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6}>\r\n                                <Usage color=\"yellow\">Usage #1</Usage>\r\n                                <h5>Identify Regional Hotspots for Mitigation</h5>\r\n                                <p>\r\n                                    Use spatial statistics to detect hot spots with raw case data or by adjusting for population. \r\n                                    Because of the infectious nature of COVID, high numbers of cases anywhere will be of concern. \r\n                                    At the same time, identifying areas that have a disporotionately high number of cases \r\n                                    within the population is necessary to locate areas hit hardest by the pandemic.\r\n                                </p>\r\n                            </Grid>\r\n                            <Gutter h={80}/>\r\n                            <Grid item xs={12} md={6}>\r\n                                <Usage color=\"orange\">Usage #2</Usage>\r\n                                <h5>Track patterns to better plan ahead</h5>\r\n                                <p>\r\n                                    Visualize change over time to better understand the distribution and spread of COVID in the US throughout the pandemic. \r\n                                    Move the time slider yourself or click the play button and watch the spread of COVID. \r\n                                    Analyze patterns of the spread to support planning for resource allocation.\r\n                                </p>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6}>\r\n                                <img src={`${process.env.PUBLIC_URL}/img/Landingpage_usage2.gif`} alt=\"Use Case 2: Tracking COVID Patterns over time\" />\r\n                            </Grid>\r\n                            <Gutter h={80}/>\r\n                            <Grid item xs={12} md={6}>\r\n                                <img src={`${process.env.PUBLIC_URL}/img/Landingpage_usage3.gif`} alt=\"Use Case 3: Forecasting viral spreads\" />\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6}>\r\n                                <Usage color=\"yellow\">Usage #3</Usage>\r\n                                <h5>Interact and forecast viral spread at state and county levels</h5>\r\n                                <p>\r\n                                    Switch between the state and county thematic maps (ie. choropleth maps) to find COVID at a local level. \r\n                                    Then, select and track hotspots over time using the Local Moran's I statistic. \r\n                                    Use a powerful visual analytic tool to find COVID spillovers along state borders, emerging from one county to areas nearby, and more.\r\n                                </p>\r\n                            </Grid>\r\n                            <Gutter h={80}/>\r\n                            <Grid item xs={12} md={6}>\r\n                                <Usage color=\"orange\">Usage #4</Usage>\r\n                                <h5>Make visible vulnerable communities</h5>\r\n                                <p>\r\n                                    Click on counties to get more information about community health factors and socioeconomic indicators \r\n                                    like average length of life in an area, percent uninsured, or income inequality metrics. \r\n                                    In the main selection panel, overlay segregated cities or Native American Reservation boundaries to identify uniquely vulnerable locales.\r\n                                </p>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6}>\r\n                                <img src={`${process.env.PUBLIC_URL}/img/Landingpage_usage4.gif`} alt=\"Use Case 4: Make visible vulnerable communities\" />\r\n                            </Grid>\r\n                            <Gutter h={80}/>\r\n                            <Grid item xs={12} md={6}>\r\n                                <img src={`${process.env.PUBLIC_URL}/img/Landingpage_usage5.gif`} alt=\"Use Case 5: Forecasting viral spreads\" />\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6}>\r\n                                <Usage color=\"yellow\">Usage #5</Usage>\r\n                                <h5>Identify emerging risk</h5>\r\n                                <p>\r\n                                    Watch hotspots progress or diminish over time, and identify areas of emerging risk early. Some hotspots begin as spatial outliers -- \r\n                                    shown as pink in the map, meaning cases are high in that county but low in neighboring counties. \r\n                                    If cases continue to grow and spillover nearby counties, the areas will turn red. \r\n                                    Mature hotspots are clusters of counties that remain red over time and continue to grow.\r\n                                </p>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </UseCases>\r\n                </UseCasesContainer>\r\n           </HomePageContent>\r\n           <Footer signUp={true} />\r\n       </HomePage>\r\n    );\r\n}\r\n \r\nexport default home;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { ContentContainer, Gutter } from '../../styled_components';\r\nimport { StaticNavbar, Footer } from '../';\r\nimport { colors } from '../../config';\r\n\r\nconst HotspotsPage = styled.div`\r\n    background:white;\r\n    ul li {\r\n        margin-bottom:16px;\r\n    }\r\n`\r\n\r\nconst TutorialBox = styled.div`\r\n    border:1px solid ${colors.lightgray};\r\n    padding:20px;\r\n\r\n    ol {\r\n        padding-left:40px;\r\n    }\r\n    ol li {\r\n        line-height:2.5;\r\n    }\r\n`\r\n\r\nconst Hotspots = () => {\r\n\r\n    return (\r\n       <HotspotsPage>\r\n           <StaticNavbar/>\r\n           <ContentContainer>\r\n\r\n                <h1>Hotspots</h1>\r\n                <hr/>\r\n                <p>\r\n                    Local clusters are areas that neighbor one another and share a particular quality, such as high numbers of Covid-19 cases. A hot spot is an area that is significantly different from the areas surrounding it. A hot spot may be one place or a cluster of places.\r\n                    <br/><br/>\r\n                    The Atlas shows patterns in the spread of the disease by displaying hot spots and clusters. See the Methods page for details about detecting clusters.\r\n                    <br/><br/>\r\n                    The Atlas shows four types of hot spots:\r\n                    <br/><br/>\r\n                </p>\r\n                <ul>\r\n                    <li><b>High-High:</b> Areas with high numbers whose neighbors also have high numbers. Bright red counties have a significantly high number of cases or deaths, or significantly fewer hospital beds per case. Neighbors for these areas also have a high number of cases.</li>\r\n                    <li><b>Low-Low:</b> Areas with low numbers whose neighbors also have low numbers. Bright blue counties have significantly fewer cases or deaths, or significantly more hospital beds per case. Neighbors for these areas also have a low number of cases.</li>\r\n                    <li><b>High-Low:</b> Areas with high numbers whose neighbors have low numbers. This type of hot spot is also called an outlier, because it differs so much from its neighbors. Pale red counties have more cases, deaths, or fewer hospital beds per case than do their immediate neighbors. The surrounding areas may experience significant spread of the virus in future weeks.</li>\r\n                    <li><b>Low-High:</b> Areas with low numbers whose neighbors have high numbers. This type of hot spot is also called an outlier, because it differs so much from its neighbors. Pale blue counties have fewer cases, deaths, or more hospital beds per case than do their immediate neighbors. These areas may experience significant spread of the virus from surrounding areas in future weeks.</li>\r\n                </ul>\r\n                <p>Use local clustering to explore geographic patterns of the virus and to help locate areas that will soon be significantly affected by the virus.</p>\r\n                <Gutter h={20}/>\r\n                <TutorialBox>\r\n\r\n                <h2>FROM THE LEFT SIDEBAR</h2>\r\n                <ol>\r\n                    <li>Select the data source and variable you would like to map.</li>\r\n                    <li>Click the <b>Hotspot</b> button.</li>\r\n                    <li>Use the color ramp at the bottom of the screen to see if a county falls into a hotspot category.</li>\r\n                    <li>Reds represent high numbers and percentages and blues represent low counts and percentages. Gray represents areas that do not fall into a hotspot.</li>\r\n                </ol>\r\n                <Gutter h={20}/>\r\n                <h2>FROM THE MAP</h2>\r\n                <ol start=\"4\">\r\n                    <li>Use the above hot spot types to determine if a county or state is significantly affected by Covid-19: High-High and High-Low spots.</li>\r\n                    <li>Look for neighboring areas that are significantly affected. High-Low and Low-High spots may show an emerging trend.</li>\r\n                    <li>Click on a county or state in the map for a popup containing all data variables, socioeconomic indicators, and a disease forecast for that area.</li>\r\n                    <li>Move the time slider at the top of the map to see counts and percentages of cases, deaths, or hospital beds on different dates.</li>\r\n                </ol>\r\n                </TutorialBox>\r\n                \r\n                <Gutter h={20}/>\r\n                <p>\r\n                    To explore changes over time use the <NavLink to=\"/time\">Time slider.</NavLink>  To explore data about the virus on a particular day use the <NavLink to=\"/choropleth\">Choropleth</NavLink> display. \r\n                    <br/><br/>\r\n                    \r\n                    <NavLink to=\"/faq\">Back to Help Topics</NavLink>\r\n                </p>\r\n                <Gutter h={20}/>\r\n           </ContentContainer>\r\n           <Footer/>\r\n       </HotspotsPage>\r\n    );\r\n}\r\n \r\nexport default Hotspots;","import React, { useState, useEffect } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { ContentContainer, Gutter } from '../../styled_components';\r\nimport { StaticNavbar, Footer } from '../';\r\nimport { colors } from '../../config';\r\n\r\nconst InsightsPage = styled.div`\r\n    background:white;\r\n    min-height:100vh;\r\n    .transferInfo {\r\n        a {\r\n            background:none;\r\n            border:none;\r\n            padding:10px;\r\n            cursor:pointer;\r\n            h2 {\r\n                color: ${colors.blue};\r\n                padding:0;\r\n                margin:0;\r\n            }\r\n        }\r\n    }\r\n    footer {\r\n        position:absolute;\r\n        bottom:0;\r\n    }\r\n`\r\n\r\nconst Insights = () => {\r\n\r\n    const [ timer, setTimer] = useState(8)\r\n\r\n    const doTransfer = () => {\r\n        window.location.href = 'https://medium.com/covidatlas';\r\n    }\r\n    \r\n    useEffect(() => {\r\n        setInterval(()=>{\r\n            setTimer(prev => prev-1)\r\n        },1000)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (timer===0) doTransfer()\r\n    }, [timer])\r\n\r\n    return (\r\n       <InsightsPage>\r\n           <StaticNavbar/>\r\n           <ContentContainer className=\"transferInfo\">\r\n                <h1>US Covid Atlas Insights Blog</h1>\r\n                <p>You are being redirected to Medium.com in {timer} seconds...</p>\r\n                <NavLink to=\"/\"><h2>Click here to remain on USCovidAtlas.org</h2></NavLink>\r\n           </ContentContainer>\r\n           <Footer/>\r\n       </InsightsPage>\r\n    );\r\n}\r\n \r\nexport default Insights;","import React, { useEffect, useState, useMemo, useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport * as jsgeoda from 'jsgeoda';\r\nimport '../../mapbox.css';\r\n\r\n// Helper and Utility functions //\r\n// first row: data loading\r\n// second row: data parsing for specific outputs\r\n// third row: data accessing\r\nimport { \r\n  getParseCSV, mergeData, getColumns, loadJson,\r\n  getDataForBins, getDataForCharts, getDataForLisa, getDateLists,\r\n  getLisaValues, getVarId, getCartogramValues, getDateIndices } from '../../utils';\r\n\r\n// Actions -- Redux state manipulation following Flux architecture //\r\n// first row: data storage\r\n// second row: data and metadata handling \r\n// third row: map and variable parameters\r\nimport { \r\n  dataLoad, dataLoadExisting, storeLisaValues, storeCartogramData, setDates, setNotification,\r\n  setMapParams, setUrlParams, setPanelState } from '../../actions';\r\n\r\nimport { MapSection, NavBar, VariablePanel, BottomPanel,  TopPanel, Preloader,\r\n  DataPanel, MainLineChart, Scaleable, Draggable, InfoBox,\r\n  NotificationBox, Popover } from '../../components';  \r\n\r\nimport { colorScales, fixedScales, dataPresets, variablePresets, colors } from '../../config';\r\n\r\n// Main function, App. This function does 2 things:\r\n// 1: App manages the majority of the side effects when the state changes.\r\n//    This takes the form of React's UseEffect hook, which listens\r\n//    for changes in the state and then performs the functions in the hook.\r\n//    App listens for different state changes and then calculates the relevant\r\n//    side effects (such as binning calculations and GeoDa functions, column parsing)\r\n//    and then dispatches new data to the store.\r\n// 2: App assembles all of the components together and sends Props down\r\n//    (as of 12/1 only Preloader uses props and is a higher order component)\r\n\r\nconst MapPage = styled.div`\r\n  position:fixed;\r\n  left:0;\r\n  top:0;\r\n  margin:0;\r\n  padding:0;\r\n  width:100vw;\r\n  height:100vh;\r\n  overflow:hidden;\r\n`\r\n\r\nconst Map = () => {\r\n  const dateLists = useMemo(() => getDateLists())\r\n  // static variables for floating panel sizing\r\n  let [ \r\n    defaultX, \r\n    defaultXLong, \r\n    defaultY, \r\n    defaultWidth, \r\n    defaultWidthLong, \r\n    defaultHeight,\r\n    defaultHeightManual,\r\n    defaultWidthManual,\r\n    defaultXManual,\r\n    defaultYManual,\r\n    minHeight, \r\n    minWidth\r\n  ] = window.innerWidth <= 1024 ? \r\n    [\r\n      window.innerWidth*.1, // defaultX\r\n      window.innerWidth*.1, // defaultXLong\r\n      window.innerHeight*.25, // defaultY\r\n      window.innerWidth*.8, // defaultWidth\r\n      window.innerWidth*.8,  // defaultWidthLong\r\n      window.innerHeight*.4, // height\r\n      window.innerHeight*.7, // heightManual\r\n      window.innerWidth*.5,  // width manual\r\n      window.innerWidth*.25, // x manual\r\n      window.innerHeight*.15, // y manual\r\n      window.innerHeight*.5, // min height\r\n      window.innerWidth*.5 // min width\r\n    ] : \r\n    [\r\n      window.innerWidth-400, \r\n      window.innerWidth-575, \r\n      75, \r\n      300, \r\n      450, \r\n      300, \r\n      window.innerHeight*.5, \r\n      window.innerWidth*.35, \r\n      window.innerWidth*.25, // x manual\r\n      window.innerHeight*.325, // y manual\r\n      200, \r\n      200\r\n  ]\r\n\r\n\r\n  // These selectors access different pieces of the store. While App mainly\r\n  // dispatches to the store, we need checks to make sure side effects\r\n  // are OK to trigger. Issues arise with missing data, columns, etc.\r\n  const {storedData, storedGeojson, storedLisaData, storedCartogramData,\r\n    currentData, mapParams, dataParams, dateIndices, mapLoaded } = useSelector(state => state);\r\n  \r\n  // gda_proxy is the WebGeoda proxy class. Generally, having a non-serializable\r\n  // data in the state is poor for performance, but the App component state only\r\n  // contains gda_proxy.\r\n  const [gda_proxy, set_gda_proxy] = useState(null);\r\n  const dispatch = useDispatch();  \r\n  \r\n  // // Dispatch helper functions for side effects and data handling\r\n  // Get centroid data for cartogram\r\n  // const getCentroids = (geojson, gda_proxy) =>  dispatch(setCentroids(gda_proxy.GetCentroids(geojson), geojson))\r\n  \r\n  // Main data loader\r\n  // This functions asynchronously accesses the Geojson data and CSVs\r\n  //   then performs a join and loads the data into the store\r\n  const loadData = async (params, gda_proxy) => {\r\n    // destructure parameters\r\n    const { geojson, csvs, joinCols, tableNames, accumulate, dateList } = params\r\n    // promise all data fetching - CSV and Json\r\n    const csvPromises = csvs.map(csv => \r\n      getParseCSV(\r\n        `${process.env.PUBLIC_URL}/csv/${csv}.csv`, \r\n        joinCols[1], \r\n        accumulate.includes(csv),\r\n        dateLists[dateList[csv]]\r\n      ).then(result => {return result}))\r\n        \r\n    Promise.all([\r\n      loadJson(`${process.env.PUBLIC_URL}/geojson/${geojson}`, gda_proxy).then(result => {return result}),\r\n      ...csvPromises\r\n    ]).then(values => {\r\n      // store geojson lookup table\r\n      // merge data and get results\r\n      let tempData = mergeData(values[0]['data'], joinCols[0], values.slice(1,), tableNames, joinCols[1]);\r\n      let ColNames = getColumns(values.slice(1,), tableNames);\r\n      let DateIndices = getDateIndices(values.slice(1,), tableNames);\r\n      let denomIndices = DateIndices[dataParams.numerator]\r\n      let lastIndex = denomIndices !== null ? denomIndices.slice(-1,)[0] : null;\r\n      let chartData = getDataForCharts(tempData, 'cases', DateIndices['cases'], dateLists.isoDateList);\r\n      let binData = getDataForBins(tempData, {...dataParams, nIndex: lastIndex || dataParams.nIndex, binIndex: lastIndex || dataParams.bomOmdex});\r\n      let bins;\r\n\r\n      if (dataParams.fixedScale === null || dataParams.fixedScale === undefined){\r\n        // calculate breaks\r\n        let nb = gda_proxy.custom_breaks(\r\n          geojson, \r\n          mapParams.mapType,\r\n          mapParams.nBins,\r\n          null,\r\n          binData\r\n        );\r\n        bins = {\r\n          bins: mapParams.mapType === \"natural_breaks\" ? nb.bins : ['Lower Outlier','< 25%','25-50%','50-75%','>75%','Upper Outlier'],\r\n          breaks: [-Math.pow(10, 12), ...nb.breaks.slice(1,-1), Math.pow(10, 12)]\r\n        }\r\n      } else {\r\n        bins = fixedScales[dataParams.fixedScale]\r\n      }\r\n\r\n      // store data, data name, and column names\r\n      dispatch(\r\n        dataLoad({\r\n          storeData: {\r\n            data: tempData, \r\n            name: geojson\r\n          },\r\n          currentData: geojson,\r\n          columnNames: {\r\n            data: ColNames,\r\n            name: geojson\r\n          },\r\n          dateIndices: {\r\n            data: DateIndices,\r\n            name: geojson\r\n          },\r\n          storeGeojson: {\r\n            data: values[0]['geoidIndex'],\r\n            name: geojson\r\n          },\r\n          chartData: chartData,\r\n          mapParams: {\r\n            bins,\r\n            colorScale: colorScales[dataParams.colorScale || mapParams.mapType]\r\n          },\r\n          variableParams: {\r\n            nIndex: lastIndex || dataParams.nIndex,\r\n            binIndex: lastIndex || dataParams.binIndex\r\n          },\r\n        })\r\n      )\r\n    })\r\n  }\r\n\r\n  const updateBins = useCallback((params) => {\r\n    const { storedData, currentData, dataParams, mapParams, gda_proxy, colorScales } = params;\r\n    if (\r\n      !storedData.hasOwnProperty(currentData) || \r\n      !storedData[currentData][0].hasOwnProperty(dataParams.numerator)\r\n    ) { return };\r\n\r\n    if (gda_proxy !== null && storedData.hasOwnProperty(currentData) && mapParams.mapType !== \"lisa\"){\r\n      if (dataParams.fixedScale === null || mapParams.mapType !== 'natural_breaks') {\r\n        let nb = gda_proxy.custom_breaks(\r\n          currentData, \r\n          mapParams.mapType, \r\n          mapParams.nBins, \r\n          null, \r\n          getDataForBins( storedData[currentData], dataParams )\r\n        )      \r\n        dispatch(\r\n          setMapParams({\r\n            bins: {\r\n              bins: mapParams.mapType === 'natural_breaks' ? nb.bins : ['Lower Outlier','< 25%','25-50%','50-75%','>75%','Upper Outlier'],\r\n              breaks: [-Math.pow(10, 12), ...nb.breaks.slice(1,-1), Math.pow(10, 12)]\r\n            },\r\n            colorScale: mapParams.mapType === 'natural_breaks' ? colorScales[dataParams.colorScale || mapParams.mapType] : colorScales[mapParams.mapType || dataParams.colorScale]\r\n          })\r\n        )\r\n      } else {\r\n        dispatch(\r\n          setMapParams({\r\n            bins: fixedScales[dataParams.fixedScale],\r\n            colorScale: colorScales[dataParams.fixedScale]\r\n          })\r\n        )\r\n      }\r\n    }\r\n  });\r\n\r\n  // After runtime is initialized, this loads in gda_proxy to the state\r\n  // TODO: Recompile WebGeoda and load it into a worker\r\n  useEffect(() => {\r\n    \r\n    let paramsDict = {}; \r\n    const queryString = window.location.search;\r\n    const urlParams = new URLSearchParams(queryString);\r\n    for (const [key, value] of urlParams ) { paramsDict[key] = value; }\r\n\r\n    if (!paramsDict.hasOwnProperty('v')) {\r\n      // do nothing, most of the time\r\n    } else if (paramsDict['v'] === '2') {\r\n      dispatch(\r\n        setUrlParams(paramsDict, variablePresets)\r\n      );\r\n    } else if (paramsDict['v'] === '1') {\r\n      dispatch(setNotification(`\r\n          <h2>Welcome to the Atlas v2!</h2>\r\n          <p>\r\n          The share link you have entered is for an earlier release of the US Covid Atlas. \r\n          Explore the new version here, or continue using your current share link by click below.\r\n          <a href=\"./vintage/map.html${window.location.search}\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"color:${colors.yellow}; text-align:center;\">\r\n            <h3 style=\"text-align:center\">\r\n              US Covid Atlas v1\r\n            </h3>  \r\n          </a>\r\n          </p>\r\n        `))\r\n    }\r\n\r\n    if (window.innerWidth <= 1024) {\r\n      dispatch(setPanelState({\r\n        variables:false,\r\n        info:false,\r\n        tutorial:false,\r\n        lineChart: false\r\n      }))\r\n    }\r\n\r\n    const newGeoda = async () => {\r\n      let geoda = await jsgeoda.New();\r\n      set_gda_proxy(geoda);\r\n    }\r\n\r\n    newGeoda()\r\n    dispatch(setDates(dateLists.isoDateList))\r\n  },[])\r\n\r\n\r\n  // On initial load and after gda_proxy has been initialized, this loads in the default data sets (USA Facts)\r\n  // Otherwise, this side-effect loads the selected data.\r\n  // Each conditions checks to make sure gda_proxy is working.\r\n  useEffect(() => {\r\n    if (gda_proxy === null) {\r\n      return;\r\n    } else if (storedData === {}) {\r\n      loadData(\r\n        dataPresets[currentData],\r\n        gda_proxy\r\n      )\r\n    } else if (storedData[currentData] === undefined) {\r\n      loadData(\r\n        dataPresets[currentData],\r\n        gda_proxy\r\n      )\r\n    } else if (dateIndices[currentData] !== undefined) {\r\n      \r\n      let denomIndices = dateIndices[currentData][dataParams.numerator]\r\n      let lastIndex = denomIndices !== null ? denomIndices.slice(-1,)[0] : null;\r\n      dispatch(\r\n        dataLoadExisting({\r\n          variableParams: {\r\n            nIndex: lastIndex || dataParams.nIndex,\r\n            dIndex: dataParams.dType === 'time-series' ? lastIndex : dataParams.dType,\r\n            dRange: dataParams.dType === 'time-series' ? dataParams.nRange : dataParams.dRange,\r\n            binIndex: lastIndex || dataParams.nIndex,\r\n          },\r\n          chartData: getDataForCharts(storedData[currentData],'cases', dateIndices[currentData]['cases'], dateLists.isoDateList)\r\n        })\r\n      )\r\n      updateBins( { storedData, currentData, mapParams, gda_proxy, colorScales,\r\n        dataParams: { \r\n          ...dataParams,  \r\n          nIndex: lastIndex || dataParams.nIndex,\r\n          binIndex: lastIndex || dataParams.nIndex,\r\n        }, \r\n      })\r\n      \r\n      // updateBins();\r\n    }\r\n  },[gda_proxy, currentData])\r\n\r\n  // This listens for gda_proxy events for LISA and Cartogram calculations\r\n  // Both of these are computationally heavy.\r\n  useEffect(() => {\r\n    if (gda_proxy !== null && mapParams.mapType === \"lisa\"){\r\n      let tempId = getVarId(currentData, dataParams)\r\n      if (!(storedLisaData.hasOwnProperty(tempId))) {\r\n        dispatch(\r\n          storeLisaValues(\r\n            getLisaValues(\r\n              gda_proxy, \r\n              currentData, \r\n              getDataForLisa(\r\n                storedData[currentData], \r\n                dataParams,\r\n                storedGeojson[currentData].indexOrder\r\n              )\r\n            ),\r\n            tempId\r\n          )\r\n        )\r\n      }\r\n    }\r\n    if (gda_proxy !== null && mapParams.vizType === 'cartogram'){\r\n      let tempId = getVarId(currentData, dataParams)\r\n      if (!(storedCartogramData.hasOwnProperty(tempId))) {\r\n        dispatch(\r\n          storeCartogramData(\r\n            getCartogramValues(\r\n              gda_proxy, \r\n              currentData, \r\n              getDataForLisa( storedData[currentData], dataParams, storedGeojson[currentData].indexOrder )\r\n            ),\r\n            tempId\r\n          )\r\n        )\r\n      }\r\n    }\r\n  }, [dataParams.numerator, dataParams.nProperty, dataParams.nRange, dataParams.denominator, dataParams.dProperty, dataParams.nIndex, dataParams.dIndex, mapParams.binMode, dataParams.variableName, mapParams.mapType])\r\n\r\n  // Trigger on parameter change for metric values\r\n  // Gets bins and sets map parameters\r\n  useEffect(() => {\r\n    if (storedData.hasOwnProperty(currentData) && gda_proxy !== null && mapParams.binMode !== 'dynamic' && mapParams.mapType !== 'lisa') {\r\n      updateBins( { storedData, currentData, dataParams, mapParams, gda_proxy, colorScales } );\r\n    }\r\n  }, [dataParams.numerator, dataParams.nProperty, dataParams.nRange, dataParams.denominator, dataParams.dProperty, dataParams.dRange, mapParams.mapType] );\r\n\r\n  // Trigger on index change while dynamic bin mode\r\n  useEffect(() => {\r\n    if (storedData.hasOwnProperty(currentData) && gda_proxy !== null && mapParams.binMode === 'dynamic' && mapParams.mapType !== 'lisa') {\r\n      updateBins( { storedData, currentData, dataParams: { ...dataParams, binIndex: dataParams.nIndex }, mapParams, gda_proxy, colorScales } );\r\n    }\r\n  }, [dataParams.nIndex, dataParams.dIndex, mapParams.binMode, dataParams.variableName, dataParams.nRange, mapParams.mapType] ); \r\n\r\n  // default width handlers on resize\r\n  useEffect(() => {\r\n  // static variables for floating panel sizing\r\n  [ \r\n    defaultX, \r\n    defaultXLong, \r\n    defaultY, \r\n    defaultWidth, \r\n    defaultWidthLong, \r\n    defaultHeight,\r\n    defaultHeightManual,\r\n    defaultWidthManual,\r\n    defaultXManual,\r\n    defaultYManual,\r\n    minHeight, \r\n    minWidth\r\n  ] = window.innerWidth <= 1024 ? \r\n    [\r\n      window.innerWidth*.1, // defaultX\r\n      window.innerWidth*.1, // defaultXLong\r\n      window.innerHeight*.25, // defaultY\r\n      window.innerWidth*.8, // defaultWidth\r\n      window.innerWidth*.8,  // defaultWidthLong\r\n      window.innerHeight*.4, // height\r\n      window.innerHeight*.7, // heightManual\r\n      window.innerWidth*.5,  // width manual\r\n      window.innerWidth*.25, // x manual\r\n      window.innerHeight*.15, // y manual\r\n      window.innerHeight*.5, // min height\r\n      window.innerWidth*.5 // min width\r\n    ] : \r\n    [\r\n      window.innerWidth-400, \r\n      window.innerWidth-575, \r\n      75, \r\n      300, \r\n      450, \r\n      300, \r\n      window.innerHeight*.5, \r\n      window.innerWidth*.35, \r\n      window.innerWidth*.25, // x manual\r\n      window.innerHeight*.325, // y manual\r\n      200, \r\n      200\r\n  ]\r\n  }, [window.innerHeight, window.innerWidth])\r\n  // const dragHandlers = {onStart: this.onStart, onStop: this.onStop};\r\n\r\n\r\n  return (\r\n    <MapPage>\r\n      <Preloader loaded={mapLoaded} />\r\n      <NavBar />\r\n      <header className=\"App-header\" style={{position:'fixed', left: '20vw', top:'100px', zIndex:10}}>\r\n        {/* <button onClick={() => console.log(getDataForBins( storedData[currentData], {...dataParams, nIndex: null} ))}>data for bins</button> */}\r\n        {/* <button onClick={() => console.log(dataParams)}>data params</button>\r\n        <button onClick={() => console.log(mapParams)}>map params</button> */}\r\n      </header>\r\n      <div id=\"mainContainer\">\r\n        <MapSection />\r\n        <TopPanel />\r\n        <BottomPanel />\r\n        <VariablePanel />\r\n        <DataPanel />\r\n        <Popover /> \r\n        <NotificationBox />  \r\n        <Draggable \r\n          z={9}\r\n          defaultX={defaultXLong}\r\n          defaultY={defaultY}\r\n          title=\"lineChart\"\r\n          content={\r\n          <Scaleable \r\n            content={\r\n              <MainLineChart />\r\n            } \r\n            title=\"lineChart\"\r\n            defaultWidth={defaultWidthLong}\r\n            defaultHeight={defaultHeight}\r\n            minHeight={minHeight}\r\n            minWidth={minWidth} />\r\n        }/>      \r\n        <Draggable \r\n          z={10}\r\n          defaultX={defaultXManual}\r\n          defaultY={defaultYManual}\r\n          title=\"tutorial\"\r\n          content={\r\n          <Scaleable \r\n            content={\r\n              <InfoBox />\r\n            } \r\n            title=\"tutorial\"\r\n            defaultWidth={defaultWidthManual}\r\n            defaultHeight={defaultHeightManual}\r\n            minHeight={minHeight}\r\n            minWidth={minWidth} />\r\n        }/>\r\n\r\n      </div>\r\n    </MapPage>\r\n  );\r\n}\r\n\r\nexport default Map;","export const getDateLists = () => {\r\n    const stripLeadingZero = ( str ) => str[0] !== '0' ? str : str.slice(1,)\r\n    const isoToUsDate = (date) => stripLeadingZero(date.slice(5,7)) + '/'+ stripLeadingZero(date.slice(8,10)) + '/' + date.slice(2,4)\r\n\r\n    Date.prototype.addDays = function(days) {\r\n        var date = new Date(this.valueOf());\r\n        date.setDate(date.getDate() + days);\r\n        return date;\r\n    }\r\n\r\n    let todayDate = new Date()\r\n    let initialDate = new Date('01/21/2020')\r\n    let dateList = []\r\n    let isoDateList = []\r\n    let usDateList = []\r\n\r\n    while (initialDate < todayDate) {\r\n        dateList.push(initialDate)\r\n        let isoDate = initialDate.toISOString().slice(0,10);\r\n        isoDateList.push(isoDate)\r\n        usDateList.push(isoToUsDate(isoDate))\r\n        initialDate = initialDate.addDays(1)\r\n    }\r\n\r\n    return { isoDateList, usDateList }\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { ContentContainer, Gutter } from '../../styled_components';\r\nimport { StaticNavbar, Footer } from '../';\r\nimport { colors } from '../../config';\r\n\r\nconst MethodsPage = styled.div`\r\n    background:white;\r\n    img#workflow, img.hotspot {\r\n        width:100%;\r\n        max-width:800px;\r\n        margin:20px auto;\r\n        display:block;\r\n    }\r\n    img.jenks {\r\n        display:block;\r\n    }\r\n    img.hotspot {\r\n        margin-bottom:0;\r\n    }\r\n\r\n    p.caption {\r\n        text-align:center;\r\n        opacity:0.7;\r\n        margin-top:0;\r\n    }\r\n`\r\n\r\nconst Methodology = () => {\r\n\r\n    return (\r\n       <MethodsPage>\r\n           <StaticNavbar/>\r\n           <ContentContainer>\r\n                <h1>Methodology</h1>\r\n                <hr/>\r\n                <h3>Interactive Exploration</h3>\r\n                <br/>\r\n                <p>\r\n                    COVID cases are commonly visualized across multiple dashboards as quantile choropleth maps or graduated points around state centroids. County-level \r\n                    visualizations are rare but when viewed, show a dramatically more nuanced and detailed pandemic landscape. We visualize data at both state and county-scale as \r\n                    total cases, deaths, and population-weighted rates to provide a richer understanding of the pandemic. Case information can be explored by clicking on \r\n                    county or state areas to generate pop-up windows, or to change graphs of confirmed cases.\r\n                </p>\r\n                <img id=\"workflow\" src={`${process.env.PUBLIC_URL}/img/workflow_fig1.png`} alt=\"Interactive Workflow\"/>\r\n                <p className=\"caption\">\r\n                    Figure displays the options available at the current state of the project and the steps required to display each map available\r\n                </p>\r\n                <Gutter h={40}/>\r\n                <h3>Temporal Exploration</h3>\r\n                <br/>\r\n                <p>\r\n                    A temporal slider allows the current view to be updated over time, providing users the ability to watch the pandemic emerge over time. \r\n                    {/* See this animation of COVID population centered clusters over time as an example here. */}\r\n                </p>\r\n                <Gutter h={40}/>\r\n                <h3>Map Options</h3>\r\n                <br/>\r\n                <h2>CHOROPLETH MAPS: NATURAL BREAKS</h2>\r\n                <ul>\r\n                    <li>For geo-visualization, we adopt jenks natural breaks maps to classify the values of the pandemic data for each state/county. A natural breaks map uses a nonlinear algorithm to create groups where within-group homogeneity is maximized, grouping and highlighting extreme observations.</li>\r\n                    <li>How it works: The Jenks break is a method designed by Jenks (1957) which assigns each observation to the best classification it could possibly belong to. It aims to find the best possible arrangement of the geographical units into classes, such that the deviation from the mean within classes is minimize, while the differences between classes in maximized. In other words, it aims to group more alike geographical units, while trying to maximize the differences between the groups created.</li>\r\n                    <li>For illustration purposes only, assume that we want to classify three counties based on its number of covid19 cases into two groups. The Jenks strategy works as follow:<br/>\r\n                        <img className=\"jenks\" src={`${process.env.PUBLIC_URL}/img/workflow_fig2a.png`} alt=\"Jenks natural breaks workflow diagram\" />\r\n                        <img className=\"jenks\" src={`${process.env.PUBLIC_URL}/img/workflow_fig2b.png`} alt=\"Jenks natural breaks workflow diagram\" />\r\n                        <img className=\"jenks\" src={`${process.env.PUBLIC_URL}/img/workflow_fig2c.png`} alt=\"Jenks natural breaks workflow diagram\" />\r\n                    </li>\r\n                    <li>A formal description of the Jenks break could be found here: Jenks, GF (1967). The Data Model Concept in Statistical Mapping. International Yearbook of Cartography. 7: 186190.</li>\r\n                </ul>\r\n                <Gutter h={40}/>\r\n                <h2>HOTSPOT MAP: Local Moran's I</h2>\r\n                <p>\r\n                    The CSDS team identifies hot spots two ways: using the total number of confirmed cases and by adjusting for population. Because of the infectious nature of COVID, high numbers of cases anywhere will be of concern. At the same time, \r\n                    identifying areas that have a disproportionately high number of cases within the population is needed to locate areas hit hardest by the pandemic. The team further differentiates hot spot clusters and outliers: clusters are counties \r\n                    that have a high number of cases, and are surrounded by counties with a high number of cases. Outliers are areas that have a high number of cases within the county and fewer cases in neighboring counties, highlighting an emerging risk \r\n                    or priority for containment. We utilize local spatial autocorrelation statistics (LISA) using queen-contiguity spatial weights and 999 Monte Carlo permutations to generate these metrics.\r\n                </p>\r\n                <br/>\r\n                <ul>\r\n                    <li>The Local Clustering maps identify clusters or collections of geographical units similar, in statistical terms, based on the indicator used. They can be used to identify hot spots of cold spots across space. Hot spots are of particular interests in epidemiological analysis such as the spread of covid19, as it allows the identification of hot groups of areas (e.g. States, counties) significantly affected by the virus. It is, collection of counties, for instance, with a relatively high indicator which are also surrounded by areas of high indicators. In the maps, such areas are represented by the red colors.</li>\r\n                    <li>\r\n                        For more details:\r\n                        <ul>\r\n                            <li><a href=\"https://geodacenter.github.io/glossary.html#lisa2\" target=\"_blank\" rel=\"noopener noreferrer\">GeoDa Glossary</a></li>\r\n                            <li><a href=\"https://geodacenter.github.io/workbook/6a_local_auto/lab6a.html\" target=\"_blank\" rel=\"noopener noreferrer\">GeoDa: Local Spatial Autocorrelation</a></li>\r\n                            <li>Anselin, Luc. 1995. Local Indicators of Spatial Association  LISA. Geographical Analysis 27: 93115.</li>\r\n                            <li>Anselin, Luc. 2018. A Local Indicator of Multivariate Spatial Association, Extending Gearys c. Geographical Analysis.</li>\r\n                            <li>Anselin, Luc, and Xun Li. 2019. Operational Local Join Count Statistics for Cluster Detection. Journal of Geographical Systems.</li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n                <img className=\"hotspot\" src={`${process.env.PUBLIC_URL}/img/confirmed_LISA.png`} alt=\"LISA hotspot map\" />\r\n                <p className=\"caption\">\r\n                    County cluster hot spots(red) using confirmed cases of COVID-19\r\n                </p>\r\n                <img className=\"hotspot\" src={`${process.env.PUBLIC_URL}/img/popweight_LISA.png`} alt=\"LISA hotspot map\" />\r\n                <p className=\"caption\">\r\n                    County cluster hot spots(red) using population-weighted adjustment of COVID-19 cases\r\n                </p>\r\n                <Gutter h={40}/>\r\n                <h3>GeoStack</h3>            \r\n                <br/>\r\n                <p>\r\n                    The app is made using Libgeoda as a lightweight C/C++ library that acts as a wrapper to the core features of GeoDa, an open source spatial analysis software developed by the Center. For this web map, its customized and compiled to WebAssembly, a format supported by most modern web browsers, and bound to the geo-visualization module via Javascript, which is implemented using deck.gl, d3.js and Mapbox.\r\n                </p>      \r\n                <Gutter h={40}/>          \r\n                <br/>\r\n                <h3>Opensource</h3>            \r\n                <br/>\r\n                <p>\r\n                    The Github for our project is public and available at <a href=\"https://github.com/GeoDaCenter/covid\" target=\"_blank\" rel=\"noopener noreferrer\">github.com/GeoDaCenter/covid.</a> Contributions are welcome. Volunteers are encouraged to start on the Issues page and identify good first issues to maximize help efforts. A public release of the application will continue to be updated with new data and features on a regular basis.\r\n                </p>   \r\n                <Gutter h={40}/> \r\n                <h3>Limitations</h3>            \r\n                <br/>\r\n                <p>\r\n                    Known limitations exist regarding actual fatality rates, for example, as we may not be aware of the total population infected until testing is expanded. County estimates are in the process of being validated across multiple sources, and may still not be the most updated. Local health departments continue to serve as the most accurate, up-to-date sources. Our team continues to grow new collaborations to better identify the metrics needed for this rapidly changing situation. Issues are encouraged to be posted at <a href=\"https://github.com/geodacenter/covid/issues\" target=\"_blank\" rel=\"noopener noreferrer\">github.com/geodacenter/covid/issues</a> and/or by emailing <a href=\"mkolak@uchicago.edu\" target=\"_blank\" rel=\"noopener noreferrer\">mkolak@uchicago.edu</a> directly.\r\n                </p>\r\n                <Gutter h={40}/>\r\n           </ContentContainer>\r\n           <Footer/>\r\n       </MethodsPage>\r\n    );\r\n}\r\n \r\nexport default Methodology;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { ContentContainer, Gutter } from '../../styled_components';\r\nimport { StaticNavbar, Footer } from '../';\r\nimport { colors } from '../../config';\r\n\r\nconst InsightsPage = styled.div`\r\n    background:white;\r\n    min-height:100vh;\r\n    footer {\r\n        position:absolute;\r\n        bottom:0;\r\n    }\r\n`\r\n\r\nconst TutorialBox = styled.div`\r\n    border:1px solid ${colors.lightgray};\r\n    padding:20px;\r\n\r\n    ol {\r\n        padding-left:40px;\r\n    }\r\n    ol li {\r\n        line-height:2.5;\r\n    }\r\n`\r\n\r\nconst Time = () => {\r\n\r\n    return (\r\n       <InsightsPage>\r\n           <StaticNavbar/>\r\n           <ContentContainer>\r\n\r\n                <h1>Change Over Time</h1>\r\n                <hr/>\r\n                <p>\r\n                    How a variable changed over time offers insights into what will happen next. The Atlas uses the animated slider and the time graph to show the history of Covid-19s spread. Read the <NavLink to=\"methods\">Methods page</NavLink> for more information on data limitations and reporting lags.\r\n                </p>\r\n                <Gutter h={40}/>\r\n                <TutorialBox>\r\n\r\n                <h2>ANIMATED SLIDER</h2>\r\n                <ol>\r\n                    <li>From the left panel, select a data source, variable, and map type.</li>\r\n                    <li>From the map, locate the animated slider at the top.</li>\r\n                    <li>Click and drag your cursor along the slider to change the date of the map display.</li>\r\n                    <li>Click the play arrow to watch the data change over time. You can pan and scroll on the map as it is animating.</li>\r\n                </ol>\r\n\r\n                <Gutter h={40}/>\r\n\r\n                <h2>TIME GRAPH</h2>\r\n                <ol>\r\n                    <li>The line graph at the bottom of the left panel shows new cases in the US since March 2020.</li>\r\n                    <li>The graph will animate with the slider, adding each new day of data as the slider moves forward in time.</li>\r\n                    <li>Click on a county to show the entire history of daily new cases for that county.</li>\r\n                    <li>Adjusting the animated slider will change the graph back to data from the entire United States.</li>\r\n                </ol>\r\n\r\n                </TutorialBox>\r\n                \r\n                <Gutter h={40}/>\r\n            <p>\r\n                To explore data about the virus on a particular day use the <NavLink to=\"/choropleth\">Choropleth</NavLink> display. \r\n                To explore emerging trends and patterns use the <NavLink to=\"/hotspot\">Hotspot</NavLink> display.\r\n                <br/><br/>\r\n                \r\n                <NavLink to=\"/faq\">Back to Help Topics</NavLink>\r\n            </p>\r\n           </ContentContainer>\r\n           <Footer/>\r\n       </InsightsPage>\r\n    );\r\n}\r\n \r\nexport default Time;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { ContentContainer, Gutter } from '../../styled_components';\r\nimport { StaticNavbar, Footer } from '..';\r\nimport { colors } from '../../config';\r\n\r\nconst TrendsPage = styled.div`\r\n    background:white;\r\n    ul li {\r\n        margin-bottom:16px;\r\n    }\r\n`\r\n\r\nconst TutorialBox = styled.div`\r\n    border:1px solid ${colors.lightgray};\r\n    padding:20px;\r\n\r\n    ol {\r\n        padding-left:40px;\r\n    }\r\n    ol li {\r\n        line-height:2.5;        \r\n    }\r\n`\r\n\r\nconst Trends = () => {\r\n\r\n    return (\r\n       <TrendsPage>\r\n           <StaticNavbar/>\r\n           <ContentContainer>\r\n\r\n                <h1>Emerging Trends</h1>\r\n                <hr/>\r\n                <p>\r\n                    We can make educated guesses about the future spread of the pandemic by using data from the past and present. It is important to look at several variables together when looking for emerging virus trends.\r\n                    <br/><br/>\r\n                    Use Choropleth maps, Hotspots, and the Time Animated Slider and Graph to find areas that may soon be significantly affected by Covid-19.\r\n                </p>\r\n                <Gutter h={20}/>\r\n                <TutorialBox>\r\n\r\n                    <h3>Choropleth: Map Todays Data for Individual Counties</h3>\r\n                    <Gutter h={20}/>\r\n                    <ol>\r\n                        <li>Select By <b>County (USAFacts.com)</b> as the data source.</li>\r\n                        <li>Select <b>Confirmed Count</b> as the variable.</li>\r\n                        <li>Click on the <b>Choropleth</b> button. Bright red counties have a high number of Covid-19 cases.</li>\r\n                        <li>Change the variable to <b>Confirmed Count per 100K Population</b>. Now bright red counties show populations with a high percentage of cases. The percentage is useful for looking at counties with small populations and the severity of the virus in a place.\r\n                            <Gutter h={20}/>\r\n                            The count and the percentage of cases in a county are important for understanding the impact of the virus, but they only show one day of data. Next, use Local Clustering to map how cases compare across counties.</li>\r\n                    </ol>\r\n                    <Gutter h={20}/>\r\n                    <h3>Hotspots: Map Todays Data Across Counties</h3>\r\n                    <Gutter h={20}/>\r\n                    <ol>\r\n                        <li>Select <b>By County (USAFacts.com)</b> as the data source.</li>\r\n                        <li>Select <b>Confirmed Count</b> as the variable.</li>\r\n                        <li>Click on the <b>Hotspots</b> button. Bright red counties have high case counts and are surrounded by similar areas. These regions are currently significantly affected by Covid-19.</li>\r\n                        <li>Find counties in pale blue. These are outlier counties: they have a low number of cases compared to the high number of cases in neighboring counties. This means that pale blue counties may soon be affected by Covid-19 through spread from nearby counties.</li>\r\n                        <li>Find counties in pale red. These are also outlier counties, but they have a high case count compared to neighboring counties. Areas close to pale red counties may soon be affected by Covid-19 as the virus spreads.</li>\r\n                        <li>\r\n                            Change the variable to Confirmed Count per 100K Population and explore clusters of high virus percentages and outliers. The percentage is useful for looking at counties with small populations and for comparing counties.\r\n                            <Gutter h={20}/>\r\n                            Explore the variables <b>Daily New Confirmed Count</b> and <b>Daily New Confirmed per 100K Pop</b>. Clusters of high counts and percentages of new cases may also mean that nearby areas will soon see an increase in virus spread.\r\n                            <Gutter h={20}/>\r\n                            Local clustering shows current groups of counties that are significantly affected and nearby places that may soon see an increase in virus spread. Next, use the Time Graph to see the history of the virus spread to learn about the trajectory of new cases.</li>\r\n                    </ol>\r\n                    <h3>Time Graph: See Trajectory of New Case Counts</h3>\r\n                    <Gutter h={20}/>\r\n                    <ol>\r\n                        <li>Select <b>Confirmed Count</b> as the variable.</li>\r\n                        <li>Click on the <b>Hotspot</b> button.\r\n                            <Gutter h={20}/>\r\n                            The <b>Time Graph</b> at the bottom of the left panel shows the number of new cases each day. The default graph shows new cases in the United States.</li>\r\n                        <li>Click on a county in the map to see the number of new cases each day since March 2020.\r\n                            <Gutter h={20}/>\r\n                            The red line rises when more cases exist than did the previous day. The red line falls when there are fewer new cases than the previous day.\r\n                            <Gutter h={20}/>\r\n                            This pattern of rising, falling, or staying flat is the trajectory of the virus. Use the trajectory to estimate how many new cases will be diagnosed in the following days. Next, bring together these lines of evidence to interpret emerging trends.</li>\r\n                    </ol>\r\n                </TutorialBox>\r\n                <Gutter h={20}/>\r\n                <h3>Interpreting Emerging Trends</h3>\r\n                <br/>\r\n                <p>By looking at choropleth maps, local clustering, and the time graph we can predict which counties may soon see higher rates of new Covid-19 cases and how severe those increases may be. These steps can be repeated with the 1point3acres data and may result in different clusters because data sources are collected in different ways. Read the Data page for information about how the data sets are different.\r\n                    <br/><br/>\r\n                    Remember:\r\n                    <br/><br/>\r\n                    <ul>\r\n                        <li><b>Choropleth Maps:</b> Shows data from one day for individual places. Looking at the percentage of confirmed and new cases is useful for small populations and knowing the severity of the virus in a place.</li>\r\n                        <li><b>Hotspots:</b> Shows neighboring groups of counties that are significantly affected by the virus and their neighbors. Pale blue outlier counties are at risk for new cases in the following weeks. Pale red outlier counties may be the source of new cases in surrounding counties.</li>\r\n                        <li><b>Time Graph:</b> Shows new case counts over time. The direction of the line shows the trajectory of the disease.</li>\r\n                    </ul>\r\n                    <NavLink to=\"/faq\">Back to Help Topics</NavLink>\r\n                </p>\r\n           </ContentContainer>\r\n           <Footer/>\r\n       </TrendsPage>\r\n    );\r\n}\r\n \r\nexport default Trends;","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n \r\nimport { About, Api, Data, Contact, Insights, Home, Map, Methodology, Time, Choropleth, Hotspots, Trends, Faq } from './components/';\r\n \r\nclass App extends Component {\r\n\r\n  render() {\r\n    return (     \r\n       <BrowserRouter>\r\n        <div>\r\n            <Switch>\r\n             <Route path=\"/\" component={Home} exact/>\r\n             <Route path=\"/map\" component={Map}/>\r\n             <Route path=\"/map.html\" component={Map}/>\r\n             <Route path=\"/about\" component={About}/>\r\n             <Route path=\"/about.html\" component={About}/>\r\n             <Route path=\"/contact\" component={Contact}/>\r\n             <Route path=\"/contact.html\" component={Contact}/>\r\n             <Route path=\"/insights\" component={Insights}/>\r\n             <Route path=\"/api\" component={Api}/>\r\n             <Route path=\"/api.html\" component={Api}/>\r\n             <Route path=\"/data\" component={Data}/>\r\n             <Route path=\"/data.html\" component={Data}/>\r\n             <Route path=\"/methods\" component={Methodology}/>\r\n             <Route path=\"/methods.html\" component={Methodology}/>\r\n             <Route path=\"/time\" component={Time}/>\r\n             <Route path=\"/time.html\" component={Time}/>\r\n             <Route path=\"/choropleth\" component={Choropleth}/>\r\n             <Route path=\"/choropleth.html\" component={Choropleth}/>\r\n             <Route path=\"/hotspot\" component={Hotspots}/>\r\n             <Route path=\"/hotspot.html\" component={Hotspots}/>\r\n             <Route path=\"/trends\" component={Trends}/>\r\n             <Route path=\"/trends.html\" component={Trends}/>\r\n             <Route path=\"/faq\" component={Faq}/>\r\n             <Route path=\"/faq.html\" component={Faq}/>\r\n            <Route />\r\n           </Switch>\r\n        </div> \r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App","export const INITIAL_STATE = {\r\n  geodaProxy: null,\r\n  storedData: {},\r\n  storedGeojson: {},\r\n  storedLisaData: {},\r\n  storedCartogramData: {},\r\n  storedCSV: {},\r\n  storedMobilityData: {},\r\n  cols: {},\r\n  dateIndices: {},\r\n  currentData: 'county_1p3a.geojson',\r\n  chartData: [{}],\r\n  selectionKeys: [],\r\n  selectionIndex: [],\r\n  centroids: {},\r\n  dates: {},\r\n  currDate: '',\r\n  currDateIndex: '',\r\n  startDateIndex: '',\r\n  currentZVariable: null,\r\n  currentMethod: 'natural_breaks',\r\n  currentOverlay: '',\r\n  currentResource: '',\r\n  dataParams: {\r\n    variableName: 'Confirmed Count per 100K Population',\r\n    numerator: 'cases',\r\n    nType: 'time-series',\r\n    nProperty: null,\r\n    nRange: 7,\r\n    nIndex:null,\r\n    denominator: 'properties',\r\n    dType: 'characteristic',\r\n    dProperty: 'population',\r\n    dRange:null,\r\n    dIndex:null,\r\n    scale:100000,\r\n    binIndex: '',\r\n    scale3D: 1000,\r\n    zAxisParams: null,\r\n    fixedScale: null,\r\n    colorScale: null,\r\n    storedRange: null\r\n  },\r\n  mapParams: {\r\n    mapType: 'natural_breaks',\r\n    bins: {\r\n      bins: [],\r\n      breaks: []\r\n    },\r\n    binMode: '',\r\n    fixedScale: null,\r\n    nBins: 8,\r\n    vizType: '2D',\r\n    activeGeoid: '',\r\n    overlay: '',\r\n    resource: '',\r\n    colorScale: [\r\n      [240,240,240],\r\n      [255,255,204],\r\n      [255,237,160],\r\n      [254,217,118],\r\n      [254,178,76],\r\n      [253,141,60],\r\n      [252,78,42],\r\n      [227,26,28],\r\n      [177,0,38],\r\n    ],\r\n  },\r\n  panelState: {\r\n    variables:true,\r\n    info:false,\r\n    tutorial:false,\r\n    lineChart:true,\r\n  },\r\n  storedRange: null,\r\n  currentGeoid: '',\r\n  sidebarData: {},\r\n  anchorEl: null,\r\n  mapLoaded: false,\r\n  notification: null,\r\n  urlParams: {}\r\n};","import { INITIAL_STATE } from '../constants/defaults';\r\n\r\nvar reducer = (state = INITIAL_STATE, action) => {\r\n    switch(action.type) {\r\n        case 'DATA_LOAD':\r\n            // main new data loading reducer\r\n            // I: Destructure payload (load) object\r\n            let { storeData, currentData, columnNames, dateIndices,\r\n                storeGeojson, chartData, mapParams, \r\n                variableParams} = action.payload.load;\r\n\r\n            // II: Create copies of existing state objects.\r\n            // This is necessary to avoid mutating the state\r\n            let [\r\n                    dataObj, colDataObj, dateIndexObj, geoDataObj, \r\n                    mapParamsDataObj, variableParamsDataObj, panelsDataObj\r\n                ] = [\r\n                    {\r\n                    ...state.storedData\r\n                }, {\r\n                    ...state.cols\r\n                }, {\r\n                    ...state.dateIndices\r\n                }, {\r\n                    ...state.storedGeojson,\r\n                }, {\r\n                    ...state.mapParams,\r\n                    ...mapParams\r\n                }, {\r\n                    ...state.dataParams,\r\n                    ...variableParams\r\n                }, {\r\n                    ...state.panelState,\r\n                    info: false\r\n                }];\r\n\r\n                dataObj[storeData.name] = storeData.data;\r\n                colDataObj[columnNames.name] = columnNames.data;\r\n                dateIndexObj[dateIndices.name] = dateIndices.data;\r\n                geoDataObj[storeGeojson.name] = storeGeojson.data;\r\n            return {\r\n                ...state,\r\n                storedData: dataObj,\r\n                cols: colDataObj,\r\n                dateIndices: dateIndexObj,\r\n                storedGeojson: geoDataObj,\r\n                mapParams: mapParamsDataObj,\r\n                dataParams: variableParamsDataObj,\r\n                currentData,\r\n                selectionKeys: [],\r\n                selectionIndex: [],\r\n                chartData,\r\n                sidebarData: {},\r\n                panelState: panelsDataObj\r\n\r\n            };\r\n        case 'DATA_LOAD_EXISTING':\r\n            \r\n            let [ variableParamsExDataObj, panelsExDataObj ] \r\n                = [\r\n                    {\r\n                    ...state.dataParams,\r\n                    ...action.payload.load.variableParams\r\n                }, {\r\n                    ...state.panelState,\r\n                    info: false\r\n                }];\r\n\r\n            return {\r\n                ...state,\r\n                dataParams: variableParamsExDataObj,\r\n                chartData: action.payload.load.chartData,\r\n                sidebarData: {},\r\n                selectionKeys: [],\r\n                selectionIndex: [],\r\n                panelState: panelsExDataObj\r\n\r\n            };\r\n        case 'SET_NEW_BINS':\r\n            let [ binsVariableParams, binsMapParams] \r\n                = [{\r\n                    ...state.dataParams,\r\n                    ...action.payload.load.variableParams\r\n                },{\r\n                    ...state.mapParams,\r\n                    ...action.payload.load.mapParams\r\n                }]\r\n            return {\r\n                ...state,\r\n                dataParams: binsVariableParams,\r\n                mapParams: binsMapParams\r\n            }\r\n        case 'SET_GEOID': \r\n            return {\r\n                ...state,\r\n                currentGeoid: action.payload.geoid\r\n            };\r\n        case 'SET_STORED_DATA':\r\n            let obj = {\r\n                ...state.storedData,\r\n            }\r\n            obj[action.payload.name] = action.payload.data\r\n            return {\r\n                ...state,\r\n                storedData: obj\r\n            };\r\n        case 'SET_STORED_GEOJSON':\r\n            let geojsonObj = {\r\n                ...state.storedGeojson,\r\n            }\r\n            geojsonObj[action.payload.name] = action.payload.data\r\n            return {\r\n                ...state,\r\n                storedGeojson: geojsonObj\r\n            };\r\n        case 'SET_STORED_LISA_DATA':\r\n            let lisaObj = {\r\n                ...state.storedLisaData,\r\n            }\r\n            lisaObj[action.payload.name] = action.payload.data\r\n            return {\r\n                ...state,\r\n                storedLisaData: lisaObj\r\n            };\r\n        case 'SET_STORED_CARTOGRAM_DATA':\r\n            let cartoObj = {\r\n                ...state.storedCartogramData,\r\n            }\r\n            cartoObj[action.payload.name] = action.payload.data\r\n            return {\r\n                ...state,\r\n                storedCartogramData: cartoObj\r\n            };\r\n        case 'SET_STORED_MOBILITY_DATA':\r\n            return {\r\n                ...state,\r\n                storedMobilityData: action.payload.data\r\n            }\r\n        case 'SET_CENTROIDS':\r\n            let centroidsObj = {\r\n                ...state.centroids,\r\n            }\r\n            centroidsObj[action.payload.name] = action.payload.data\r\n            return {\r\n                ...state,\r\n                centroids: centroidsObj\r\n            };\r\n        case 'SET_CURRENT_DATA':\r\n            return {\r\n                ...state,\r\n                currentData: action.payload.data\r\n            }\r\n        case 'SET_GEODA_PROXY':\r\n            return {\r\n                ...state,\r\n                geodaProxy: action.payload.proxy\r\n            }\r\n        case 'SET_DATES':\r\n            return {\r\n                ...state,\r\n                dates: action.payload.data\r\n            }\r\n        case 'SET_DATA_FUNCTION':\r\n            return {\r\n                ...state,\r\n                currentDataFn: action.payload.fn\r\n            }\r\n        case 'SET_COLUMN_NAMES':\r\n            let colObj = {\r\n                ...state.cols\r\n            }\r\n            colObj[action.payload.name] = action.payload.data\r\n            return {\r\n                ...state,\r\n                cols: colObj\r\n            }\r\n        case 'SET_CURR_DATE':\r\n            return {\r\n                ...state,\r\n                currDate: action.payload.date\r\n            }\r\n        case 'SET_DATE_INDEX':\r\n            return {\r\n                ...state,\r\n                currDateIndex: action.payload.index\r\n            }\r\n        case 'SET_START_DATE_INDEX':\r\n            return {\r\n                ...state,\r\n                startDateIndex: action.payload.index\r\n            }\r\n        case 'SET_BINS':\r\n            let binsObj = {};\r\n            binsObj['bins'] =  action.payload.bins;\r\n            binsObj['breaks'] =  action.payload.breaks;\r\n            return {\r\n                ...state,\r\n                bins: binsObj\r\n            }\r\n        case 'SET_3D':\r\n            return {\r\n                ...state,\r\n                use3D: !state.use3D\r\n            }\r\n        case 'SET_DATA_SIDEBAR':\r\n            return {\r\n                ...state,\r\n                sidebarData: action.payload.data\r\n            }\r\n        case 'INCREMENT_DATE':\r\n            let dateObj = {\r\n                ...state.dataParams\r\n            }\r\n            let currIndices = state.dateIndices[state.currentData][state.dataParams.numerator]\r\n            let nextIndex = currIndices[currIndices.indexOf(state.dataParams.nIndex)+action.payload.index]\r\n\r\n            if (nextIndex === undefined) {\r\n                dateObj.nIndex = currIndices[0]\r\n                dateObj.dIndex = currIndices[0]\r\n                return {\r\n                    ...state,\r\n                    dataParams:dateObj\r\n                }\r\n            } else {\r\n                dateObj.nIndex = nextIndex;\r\n                dateObj.dIndex = nextIndex;\r\n                return {\r\n                    ...state,\r\n                    dataParams:dateObj\r\n                }\r\n            }\r\n        case 'SET_VARIABLE_PARAMS':\r\n            let paramObj = {\r\n                ...state.dataParams,\r\n                ...action.payload.params\r\n            }\r\n\r\n            if (state.dataParams.zAxisParams !== null) {\r\n                paramObj.zAxisParams.nIndex = paramObj.nIndex;\r\n                paramObj.zAxisParams.dIndex = paramObj.dIndex;\r\n            }\r\n\r\n            if (paramObj.nType === 'time-series' && paramObj.nIndex === null) {\r\n                paramObj.nIndex = state.storedIndex;\r\n                paramObj.nRange = state.storedRange;\r\n            }\r\n            if (paramObj.dType === 'time-series' && paramObj.dIndex === null) {\r\n                paramObj.dIndex = state.storedIndex;\r\n                paramObj.dRange = state.storedRange;\r\n            }\r\n            if (paramObj.nType === 'characteristic' && state.dataParams.nType === 'time-series') {\r\n                return {\r\n                    ...state,\r\n                    storedIndex: state.dataParams.nIndex,\r\n                    storedRange: state.dataParams.nRange,\r\n                    dataParams: paramObj,\r\n                }\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    dataParams: paramObj \r\n                }\r\n            }\r\n        case 'SET_VARIABLE_PARAMS_AND_DATASET':\r\n            const { params, dataset, dataMapParams } = action.payload.params;\r\n\r\n            let dataAndParamsObj = {\r\n                ...state.dataParams,\r\n                ...params\r\n            };\r\n\r\n            let dataAndMapParamsObj = {\r\n                ...state.mapParams,\r\n                ...dataMapParams\r\n            }\r\n            \r\n            return {\r\n                ...state,\r\n                dataParams: dataAndParamsObj,\r\n                mapParams: dataAndMapParamsObj,\r\n                selectionKeys: [],\r\n                selectionIndex: [],\r\n                currentData: dataset\r\n            };\r\n        case 'SET_Z_VARIABLE_PARAMS':\r\n            let paramObjZ = {\r\n                ...state.dataParams,\r\n                zAxisParams: action.payload.params\r\n            }\r\n            \r\n            return {\r\n                ...state,\r\n                currentZVariable: action.payload.variable,\r\n                dataParams: paramObjZ \r\n            }\r\n\r\n        case 'SET_MAP_PARAMS':\r\n            let mapParamObj = {\r\n                ...state.mapParams,\r\n                ...action.payload.params\r\n            }\r\n\r\n            let zAxisReset = {\r\n                ...state.dataParams\r\n            }\r\n            let zAxisVariableReset = state.currentZVariable\r\n\r\n            if (action.payload.params.vizType !== '3D') {\r\n                zAxisReset.zAxisParams = null\r\n                zAxisVariableReset = null\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                mapParams: mapParamObj,\r\n                dataParams: zAxisReset,\r\n                currentZVariable: zAxisVariableReset\r\n            }\r\n        case 'SET_PANELS':\r\n            let panelsObj = {\r\n                ...state.panelState,\r\n                ...action.payload.params\r\n            }\r\n            return {\r\n                ...state,\r\n                panelState: panelsObj \r\n            }\r\n        case 'SET_VARIABLE_NAME':\r\n            return {\r\n                ...state,\r\n                currentVariable: action.payload.name\r\n            }\r\n        case 'SET_SELECTION_DATA':\r\n            return {\r\n                ...state,\r\n                chartData: action.payload.data.values,\r\n                selectionKeys: [action.payload.data.name],\r\n                selectionIndex: [action.payload.data.index]\r\n            }\r\n        case 'APPEND_SELECTION_DATA':\r\n            let appendedChartData = state.chartData;\r\n            let countCol = action.payload.data.name + ' Daily Count'\r\n            let sumCol = action.payload.data.name + ' Total Cases'\r\n\r\n            for (let i=0; i<appendedChartData.length;i++) {\r\n                appendedChartData[i][countCol] = action.payload.data.values[i][countCol]\r\n                appendedChartData[i][sumCol] = action.payload.data.values[i][sumCol]\r\n            }\r\n\r\n            let appendedSelectionNames = [action.payload.data.name, ...state.selectionKeys];\r\n            let appendedSelectionIndex = [action.payload.data.index, ...state.selectionIndex];\r\n\r\n            return {\r\n                ...state,\r\n                chartData: appendedChartData,\r\n                selectionKeys: appendedSelectionNames,\r\n                selectionIndex: appendedSelectionIndex,\r\n            }\r\n        case 'REMOVE_SELECTION_DATA':\r\n            let removedSelectionNames = [...state.selectionKeys]\r\n            let tempRemoveIndex = removedSelectionNames.indexOf(action.payload.data.name)\r\n            removedSelectionNames.splice(tempRemoveIndex, 1)\r\n\r\n            let removedSelectionIndex = [...state.selectionIndex]\r\n            tempRemoveIndex = removedSelectionIndex.indexOf(action.payload.data.index)\r\n            removedSelectionIndex.splice(tempRemoveIndex, 1)\r\n\r\n\r\n            return {\r\n                ...state,\r\n                selectionKeys: removedSelectionNames,\r\n                selectionIndex: removedSelectionIndex,\r\n            }\r\n        case 'SET_ANCHOR_EL':\r\n            return {\r\n                ...state,\r\n                anchorEl: action.payload.anchorEl\r\n            }\r\n        case 'SET_MAP_LOADED':\r\n            return {\r\n                ...state,\r\n                mapLoaded: action.payload.loaded\r\n            }\r\n        case 'SET_NOTIFICATION':\r\n            return {\r\n                ...state,\r\n                notification: action.payload.info\r\n            }\r\n        case 'SET_URL_PARAMS':\r\n            const { urlParams, presets } = action.payload;\r\n\r\n            let preset = urlParams.var ? presets[urlParams.var.replace(/_/g, ' ')] : {};\r\n\r\n            let urlMapParamsObj = {\r\n                ...state.mapParams,\r\n                binMode: urlParams.dbin ? 'dynamic' : '',\r\n                mapType: urlParams.mthd || state.mapParams.mapType,\r\n                overlay: urlParams.ovr ||  state.mapParams.overlay,\r\n                resource: urlParams.res || state.mapParams.resource,\r\n                vizType: urlParams.viz || state.mapParams.vizType\r\n            };\r\n\r\n            let urlDataParamsObj = {\r\n                ...state.dataParams,\r\n                ...preset,\r\n                nIndex: urlParams.date || state.dataParams.nIndex,\r\n                nRange: urlParams.hasOwnProperty('range') ? urlParams.range === 'null' ? null : urlParams.range : state.dataParams.nRange,\r\n                nProperty: urlParams.prop || state.dataParams.nProperty\r\n            };\r\n            \r\n            let urlCoordObj = {\r\n                lat: urlParams.lat || '',\r\n                lon: urlParams.lon || '',\r\n                z: urlParams.z || ''\r\n            }\r\n\r\n            let urlParamsSource = urlParams.src ? \r\n                `${urlParams.src}.geojson` : \r\n                state.currentData \r\n\r\n            return {\r\n                ...state,\r\n                currentData: urlParamsSource,\r\n                urlParams: urlCoordObj,\r\n                mapParams: urlMapParamsObj,\r\n                dataParams: urlDataParamsObj\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log(\"New content is available; please refresh.\");\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { createStore} from 'redux';\r\nimport reducer from './reducers';\r\nimport { Provider } from 'react-redux';\r\nimport './index.css';\r\nimport WebFont from 'webfontloader';\r\nimport registerServiceWorker from \"./registerServiceWorker\";\r\n\r\nconst store = createStore(\r\n  reducer\r\n  ,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\n\r\nWebFont.load({\r\n  google: {\r\n    families: ['Lato:300,400,700,900', 'Playfair Display:ital', 'sans-serif']\r\n  }\r\n});\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>,\r\n  // </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\nregisterServiceWorker();\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals"],"sourceRoot":""}